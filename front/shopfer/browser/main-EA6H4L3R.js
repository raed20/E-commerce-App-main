var JN=Object.defineProperty,XN=Object.defineProperties;var eP=Object.getOwnPropertyDescriptors;var _l=Object.getOwnPropertySymbols,tP=Object.getPrototypeOf,WE=Object.prototype.hasOwnProperty,KE=Object.prototype.propertyIsEnumerable,nP=Reflect.get;var GE=(t,e,n)=>e in t?JN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})WE.call(e,n)&&GE(t,n,e[n]);if(_l)for(var n of _l(e))KE.call(e,n)&&GE(t,n,e[n]);return t},he=(t,e)=>XN(t,eP(e));var QE=(t,e)=>{var n={};for(var r in t)WE.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&_l)for(var r of _l(t))e.indexOf(r)<0&&KE.call(t,r)&&(n[r]=t[r]);return n};var fi=(t,e,n)=>nP(tP(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function YE(t,e){return Object.is(t,e)}var dt=null,wl=!1,Il=1,Ar=Symbol("SIGNAL");function Ie(t){let e=dt;return dt=t,e}function ZE(){return dt}var sc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Am(t){if(wl)throw new Error("");if(dt===null)return;dt.consumerOnSignalRead(t);let e=dt.nextProducerIndex++;if(Cl(dt),e<dt.producerNode.length&&dt.producerNode[e]!==t&&oc(dt)){let n=dt.producerNode[e];Dl(n,dt.producerIndexOfThis[e])}dt.producerNode[e]!==t&&(dt.producerNode[e]=t,dt.producerIndexOfThis[e]=oc(dt)?tb(t,dt,e):0),dt.producerLastReadVersion[e]=t.version}function rP(){Il++}function JE(t){if(!(oc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Il)){if(!t.producerMustRecompute(t)&&!Mm(t)){t.dirty=!1,t.lastCleanEpoch=Il;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Il}}function XE(t){if(t.liveConsumerNode===void 0)return;let e=wl;wl=!0;try{for(let n of t.liveConsumerNode)n.dirty||iP(n)}finally{wl=e}}function eb(){return dt?.consumerAllowSignalWrites!==!1}function iP(t){t.dirty=!0,XE(t),t.consumerMarkedDirty?.(t)}function bl(t){return t&&(t.nextProducerIndex=0),Ie(t)}function Rm(t,e){if(Ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(oc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Dl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Mm(t){Cl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(JE(n),r!==n.version))return!0}return!1}function xm(t){if(Cl(t),oc(t))for(let e=0;e<t.producerNode.length;e++)Dl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function tb(t,e,n){if(nb(t),t.liveConsumerNode.length===0&&rb(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=tb(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Dl(t,e){if(nb(t),t.liveConsumerNode.length===1&&rb(t))for(let r=0;r<t.producerNode.length;r++)Dl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Cl(i),i.producerIndexOfThis[r]=e}}function oc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Cl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function nb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function rb(t){return t.producerNode!==void 0}function ib(t){let e=Object.create(oP);e.computation=t;let n=()=>{if(JE(e),Am(e),e.value===El)throw e.error;return e.value};return n[Ar]=e,n}var Tm=Symbol("UNSET"),Sm=Symbol("COMPUTING"),El=Symbol("ERRORED"),oP=he(j({},sc),{value:Tm,dirty:!0,error:null,equal:YE,producerMustRecompute(t){return t.value===Tm||t.value===Sm},producerRecomputeValue(t){if(t.value===Sm)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Sm;let n=bl(t),r;try{r=t.computation()}catch(i){r=El,t.error=i}finally{Rm(t,n)}if(e!==Tm&&e!==El&&r!==El&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function sP(){throw new Error}var ob=sP;function sb(){ob()}function ab(t){ob=t}var aP=null;function cb(t){let e=Object.create(lb);e.value=t;let n=()=>(Am(e),e.value);return n[Ar]=e,n}function Nm(t,e){eb()||sb(),t.equal(t.value,e)||(t.value=e,cP(t))}function ub(t,e){eb()||sb(),Nm(t,e(t.value))}var lb=he(j({},sc),{equal:YE,value:void 0});function cP(t){t.version++,rP(),XE(t),aP?.()}function se(t){return typeof t=="function"}function is(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Tl=is(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function oo(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(se(r))try{r()}catch(o){e=o instanceof Tl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{db(o)}catch(s){e=e??[],s instanceof Tl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Tl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)db(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&oo(n,e)}remove(e){let{_finalizers:n}=this;n&&oo(n,e),e instanceof t&&e._removeParent(this)}};Ke.EMPTY=(()=>{let t=new Ke;return t.closed=!0,t})();var Pm=Ke.EMPTY;function Sl(t){return t instanceof Ke||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function db(t){se(t)?t():t.unsubscribe()}var Pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var os={setTimeout(t,e,...n){let{delegate:r}=os;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=os;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Al(t){os.setTimeout(()=>{let{onUnhandledError:e}=Pn;if(e)e(t);else throw t})}function ac(){}var hb=Om("C",void 0,void 0);function fb(t){return Om("E",void 0,t)}function pb(t){return Om("N",t,void 0)}function Om(t,e,n){return{kind:t,value:e,error:n}}var so=null;function ss(t){if(Pn.useDeprecatedSynchronousErrorHandling){let e=!so;if(e&&(so={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=so;if(so=null,n)throw r}}else t()}function mb(t){Pn.useDeprecatedSynchronousErrorHandling&&so&&(so.errorThrown=!0,so.error=t)}var ao=class extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Sl(e)&&e.add(this)):this.destination=dP}static create(e,n,r){return new as(e,n,r)}next(e){this.isStopped?Fm(pb(e),this):this._next(e)}error(e){this.isStopped?Fm(fb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Fm(hb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},uP=Function.prototype.bind;function km(t,e){return uP.call(t,e)}var Lm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Rl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Rl(r)}else Rl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Rl(n)}}},as=class extends ao{constructor(e,n,r){super();let i;if(se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&km(e.next,o),error:e.error&&km(e.error,o),complete:e.complete&&km(e.complete,o)}):i=e}this.destination=new Lm(i)}};function Rl(t){Pn.useDeprecatedSynchronousErrorHandling?mb(t):Al(t)}function lP(t){throw t}function Fm(t,e){let{onStoppedNotification:n}=Pn;n&&os.setTimeout(()=>n(t,e))}var dP={closed:!0,next:ac,error:lP,complete:ac};var cs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rn(t){return t}function Ml(...t){return Vm(t)}function Vm(t){return t.length===0?rn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=fP(n)?n:new as(n,r,i);return ss(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=gb(r),new r((i,o)=>{let s=new as({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[cs](){return this}pipe(...n){return Vm(n)(this)}toPromise(n){return n=gb(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function gb(t){var e;return(e=t??Pn.Promise)!==null&&e!==void 0?e:Promise}function hP(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}function fP(t){return t&&t instanceof ao||hP(t)&&Sl(t)}function jm(t){return se(t?.lift)}function ge(t){return e=>{if(jm(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(t,e,n,r,i){return new Um(t,e,n,r,i)}var Um=class extends ao{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function us(){return ge((t,e)=>{let n=null;t._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ls=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,jm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ke;let n=this.getSubject();e.add(this.source.subscribe(pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ke.EMPTY)}return e}refCount(){return us()(this)}};var yb=is(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var gt=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new xl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new yb}next(n){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ss(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Pm:(this.currentObservers=null,o.push(n),new Ke(()=>{this.currentObservers=null,oo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new xl(e,n),t})(),xl=class extends gt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Pm}};var Pe=class extends gt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Bm={now(){return(Bm.delegate||Date).now()},delegate:void 0};var Nl=class extends Ke{constructor(e,n){super()}schedule(e,n=0){return this}};var cc={setInterval(t,e,...n){let{delegate:r}=cc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=cc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ds=class extends Nl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return cc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&cc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,oo(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var hs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};hs.now=Bm.now;var fs=class extends hs{constructor(e,n=hs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var uc=new fs(ds);var Pl=class extends ds{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ol=class extends fs{};var $m=new Ol(Pl);var on=new ue(t=>t.complete());function vb(t){return t&&se(t.schedule)}function _b(t){return t[t.length-1]}function kl(t){return se(_b(t))?t.pop():void 0}function pi(t){return vb(_b(t))?t.pop():void 0}function Hm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ib(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function wb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function co(t){return this instanceof co?(this.v=t,this):new co(t)}function Eb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(D){return Promise.resolve(D).then(y,p)}}function a(y,D){r[y]&&(i[y]=function(x){return new Promise(function(R,L){o.push([y,x,R,L])>1||u(y,x)})},D&&(i[y]=D(i[y])))}function u(y,D){try{l(r[y](D))}catch(x){g(o[0][3],x)}}function l(y){y.value instanceof co?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,D){y(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function bb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof wb=="function"?wb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Fl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ll(t){return se(t?.then)}function Vl(t){return se(t[cs])}function jl(t){return Symbol.asyncIterator&&se(t?.[Symbol.asyncIterator])}function Ul(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function pP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Bl=pP();function $l(t){return se(t?.[Bl])}function Hl(t){return Eb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield co(n.read());if(i)return yield co(void 0);yield yield co(r)}}finally{n.releaseLock()}})}function ql(t){return se(t?.getReader)}function ot(t){if(t instanceof ue)return t;if(t!=null){if(Vl(t))return mP(t);if(Fl(t))return gP(t);if(Ll(t))return yP(t);if(jl(t))return Db(t);if($l(t))return vP(t);if(ql(t))return _P(t)}throw Ul(t)}function mP(t){return new ue(e=>{let n=t[cs]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gP(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function yP(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Al)})}function vP(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Db(t){return new ue(e=>{wP(t,e).catch(n=>e.error(n))})}function _P(t){return Db(Hl(t))}function wP(t,e){var n,r,i,o;return Ib(this,void 0,void 0,function*(){try{for(n=bb(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Kt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function mi(t,e=0){return ge((n,r)=>{n.subscribe(pe(r,i=>Kt(r,t,()=>r.next(i),e),()=>Kt(r,t,()=>r.complete(),e),i=>Kt(r,t,()=>r.error(i),e)))})}function gi(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Cb(t,e){return ot(t).pipe(gi(e),mi(e))}function Tb(t,e){return ot(t).pipe(gi(e),mi(e))}function Sb(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ab(t,e){return new ue(n=>{let r;return Kt(n,e,()=>{r=t[Bl](),Kt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>se(r?.return)&&r.return()})}function zl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{Kt(n,e,()=>{let r=t[Symbol.asyncIterator]();Kt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Rb(t,e){return zl(Hl(t),e)}function Mb(t,e){if(t!=null){if(Vl(t))return Cb(t,e);if(Fl(t))return Sb(t,e);if(Ll(t))return Tb(t,e);if(jl(t))return zl(t,e);if($l(t))return Ab(t,e);if(ql(t))return Rb(t,e)}throw Ul(t)}function xe(t,e){return e?Mb(t,e):ot(t)}function ee(...t){let e=pi(t);return xe(t,e)}function ps(t,e){let n=se(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function qm(t){return!!t&&(t instanceof ue||se(t.lift)&&se(t.subscribe))}var Rr=is(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return ge((n,r)=>{let i=0;n.subscribe(pe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:IP}=Array;function EP(t,e){return IP(e)?t(...e):t(e)}function Gl(t){return re(e=>EP(t,e))}var{isArray:bP}=Array,{getPrototypeOf:DP,prototype:CP,keys:TP}=Object;function Wl(t){if(t.length===1){let e=t[0];if(bP(e))return{args:e,keys:null};if(SP(e)){let n=TP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function SP(t){return t&&typeof t=="object"&&DP(t)===CP}function Kl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ql(...t){let e=pi(t),n=kl(t),{args:r,keys:i}=Wl(t);if(r.length===0)return xe([],e);let o=new ue(AP(r,e,i?s=>Kl(i,s):rn));return n?o.pipe(Gl(n)):o}function AP(t,e,n=rn){return r=>{xb(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)xb(e,()=>{let l=xe(t[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function xb(t,e,n){t?Kt(n,t,e):e()}function Nb(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=x=>l<r?D(x):u.push(x),D=x=>{o&&e.next(x),l++;let R=!1;ot(n(x,h++)).subscribe(pe(e,L=>{i?.(L),o?y(L):e.next(L)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let L=u.shift();s?Kt(e,s,()=>D(L)):D(L)}g()}catch(L){e.error(L)}}))};return t.subscribe(pe(e,y,()=>{p=!0,g()})),()=>{a?.()}}function ht(t,e,n=1/0){return se(e)?ht((r,i)=>re((o,s)=>e(r,o,i,s))(ot(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>Nb(r,i,t,n)))}function zm(t=1/0){return ht(rn,t)}function Pb(){return zm(1)}function ms(...t){return Pb()(xe(t,pi(t)))}function Yl(t){return new ue(e=>{ot(t()).subscribe(e)})}function Gm(...t){let e=kl(t),{args:n,keys:r}=Wl(t),i=new ue(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ot(n[h]).subscribe(pe(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Kl(r,a):a),o.complete())}))}});return e?i.pipe(Gl(e)):i}function Qt(t,e){return ge((n,r)=>{let i=0;n.subscribe(pe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function yi(t){return ge((e,n)=>{let r=null,i=!1,o;r=e.subscribe(pe(n,void 0,void 0,s=>{o=ot(t(s,yi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Ob(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(pe(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function vi(t,e){return se(e)?ht(t,e,1):ht(t,1)}function lc(t,e=uc){return ge((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}n.subscribe(pe(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function _i(t){return ge((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function On(t){return t<=0?()=>on:ge((e,n)=>{let r=0;e.subscribe(pe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Wm(t){return re(()=>t)}function Zl(t=RP){return ge((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function RP(){return new Rr}function uo(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function kn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qt((i,o)=>t(i,o,r)):rn,On(1),n?_i(e):Zl(()=>new Rr))}function gs(t){return t<=0?()=>on:ge((e,n)=>{let r=[];e.subscribe(pe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Km(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qt((i,o)=>t(i,o,r)):rn,gs(1),n?_i(e):Zl(()=>new Rr))}function Jl(t,e){return ge(Ob(t,e,arguments.length>=2,!0))}function Xl(...t){let e=pi(t);return ge((n,r)=>{(e?ms(t,n,e):ms(t,n)).subscribe(r)})}function sn(t,e){return ge((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;ot(t(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qm(t){return ge((e,n)=>{ot(t).subscribe(pe(n,()=>n.complete(),ac)),!n.closed&&e.subscribe(n)})}function rt(t,e,n){let r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):rn}var ID="https://g.co/ng/security#xss",Y=class extends Error{constructor(e,n){super(Hd(e,n)),this.code=e}};function Hd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ec(t){return{toString:t}.toString()}var ed="__parameters__";function MP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function ED(t,e,n){return Ec(()=>{let r=MP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(ed)?u[ed]:Object.defineProperty(u,ed,{value:[]})[ed];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Mr=globalThis;function Oe(t){for(let e in t)if(t[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function xP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function kb(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var NP=Oe({__forward_ref__:Oe});function un(t){return t.__forward_ref__=un,t.toString=function(){return Ut(this())},t}function jt(t){return bD(t)?t():t}function bD(t){return typeof t=="function"&&t.hasOwnProperty(NP)&&t.__forward_ref__===un}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Fr(t){return{providers:t.providers||[],imports:t.imports||[]}}function qd(t){return Fb(t,CD)||Fb(t,TD)}function DD(t){return qd(t)!==null}function Fb(t,e){return t.hasOwnProperty(e)?t[e]:null}function PP(t){let e=t&&(t[CD]||t[TD]);return e||null}function Lb(t){return t&&(t.hasOwnProperty(Vb)||t.hasOwnProperty(OP))?t[Vb]:null}var CD=Oe({\u0275prov:Oe}),Vb=Oe({\u0275inj:Oe}),TD=Oe({ngInjectableDef:Oe}),OP=Oe({ngInjectorDef:Oe}),W=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function SD(t){return t&&!!t.\u0275providers}var kP=Oe({\u0275cmp:Oe}),FP=Oe({\u0275dir:Oe}),LP=Oe({\u0275pipe:Oe}),VP=Oe({\u0275mod:Oe}),pd=Oe({\u0275fac:Oe}),fc=Oe({__NG_ELEMENT_ID__:Oe}),jb=Oe({__NG_ENV_ID__:Oe});function Es(t){return typeof t=="string"?t:t==null?"":String(t)}function jP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Es(t)}function UP(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Y(-200,t)}function ty(t,e){throw new Y(-201,!1)}var fe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fe||{}),hg;function AD(){return hg}function Yt(t){let e=hg;return hg=t,e}function RD(t,e,n){let r=qd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&fe.Optional)return null;if(e!==void 0)return e;ty(t,"Injector")}var BP={},pc=BP,fg="__NG_DI_FLAG__",md="ngTempTokenPath",$P="ngTokenPath",HP=/\n/gm,qP="\u0275",Ub="__source",ws;function zP(){return ws}function wi(t){let e=ws;return ws=t,e}function GP(t,e=fe.Default){if(ws===void 0)throw new Y(-203,!1);return ws===null?RD(t,void 0,e):ws.get(t,e&fe.Optional?null:void 0,e)}function K(t,e=fe.Default){return(AD()||GP)(jt(t),e)}function O(t,e=fe.Default){return K(t,zd(e))}function zd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pg(t){let e=[];for(let n=0;n<t.length;n++){let r=jt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Y(900,!1);let i,o=fe.Default;for(let s=0;s<r.length;s++){let a=r[s],u=WP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function MD(t,e){return t[fg]=e,t.prototype[fg]=e,t}function WP(t){return t[fg]}function KP(t,e,n,r){let i=t[md];throw e[Ub]&&i.unshift(e[Ub]),t.message=QP(`
`+t.message,i,n,r),t[$P]=i,t[md]=null,t}function QP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==qP?t.slice(2):t;let i=Ut(e);if(Array.isArray(e))i=e.map(Ut).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ut(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(HP,`
  `)}`}var Bt=MD(ED("Optional"),8);var xD=MD(ED("SkipSelf"),4);function fo(t,e){let n=t.hasOwnProperty(pd);return n?t[pd]:null}function ny(t,e){t.forEach(n=>Array.isArray(n)?ny(n,e):e(n))}function ND(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function YP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ZP(t,e,n){let r=bc(t,e);return r>=0?t[r|1]=n:(r=~r,YP(t,r,e,n)),r}function Ym(t,e){let n=bc(t,e);if(n>=0)return t[n|1]}function bc(t,e){return JP(t,e,1)}function JP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var bs={},an=[],po=new W(""),PD=new W("",-1),OD=new W(""),yd=class{get(e,n=pc){if(n===pc){let r=new Error(`NullInjectorError: No provider for ${Ut(e)}!`);throw r.name="NullInjectorError",r}return n}},kD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(kD||{}),er=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(er||{}),Ei=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ei||{});function XP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function mg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];eO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function FD(t){return t===3||t===4||t===6}function eO(t){return t.charCodeAt(0)===64}function mc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Bb(t,n,i,null,e[++r]):Bb(t,n,i,null,null))}}return t}function Bb(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var LD="ng-template";function tO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&XP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ry(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ry(t){return t.type===4&&t.value!==LD}function nO(t,e,n){let r=t.type===4&&!n?LD:t.value;return e===r}function rO(t,e,n){let r=4,i=t.attrs,o=i!==null?sO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Fn(r)&&!Fn(u))return!1;if(s&&Fn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!nO(t,u,n)||u===""&&e.length===1){if(Fn(r))return!1;s=!0}}else if(r&8){if(i===null||!tO(t,i,u,n)){if(Fn(r))return!1;s=!0}}else{let l=e[++a],h=iO(u,i,ry(t),n);if(h===-1){if(Fn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Fn(r))return!1;s=!0}}}}return Fn(r)||s}function Fn(t){return(t&1)===0}function iO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return aO(e,t)}function oO(t,e,n=!1){for(let r=0;r<e.length;r++)if(rO(t,e[r],n))return!0;return!1}function sO(t){for(let e=0;e<t.length;e++){let n=t[e];if(FD(n))return e}return t.length}function aO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function $b(t,e){return t?":not("+e.trim()+")":e}function cO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Fn(s)&&(e+=$b(o,i),i=""),r=s,o=o||!Fn(r);n++}return i!==""&&(e+=$b(o,i)),e}function uO(t){return t.map(cO).join(",")}function lO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Fn(i))break;i=o}r++}return{attrs:e,classes:n}}function Fe(t){return Ec(()=>{let e=$D(t),n=he(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||er.Emulated,styles:t.styles||an,_:null,schemas:t.schemas||null,tView:null,id:""});HD(n);let r=t.dependencies;return n.directiveDefs=qb(r,!1),n.pipeDefs=qb(r,!0),n.id=fO(n),n})}function dO(t){return mo(t)||VD(t)}function hO(t){return t!==null}function Lr(t){return Ec(()=>({type:t.type,bootstrap:t.bootstrap||an,declarations:t.declarations||an,imports:t.imports||an,exports:t.exports||an,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Hb(t,e){if(t==null)return bs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Ei.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Ei.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Le(t){return Ec(()=>{let e=$D(t);return HD(e),e})}function Gd(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function mo(t){return t[kP]||null}function VD(t){return t[FP]||null}function jD(t){return t[LP]||null}function UD(t){let e=mo(t)||VD(t)||jD(t);return e!==null?e.standalone:!1}function BD(t,e){let n=t[VP]||null;if(!n&&e===!0)throw new Error(`Type ${Ut(t)} does not have '\u0275mod' property.`);return n}function $D(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||bs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||an,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hb(t.inputs,e),outputs:Hb(t.outputs),debugInfo:null}}function HD(t){t.features?.forEach(e=>e(t))}function qb(t,e){if(!t)return null;let n=e?jD:dO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(hO)}function fO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ln(t){return{\u0275providers:t}}function pO(...t){return{\u0275providers:qD(!0,t),\u0275fromNgModule:!0}}function qD(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return ny(e,s=>{let a=s;gg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&zD(i,o),n}function zD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];iy(i,o=>{e(o,r)})}}function gg(t,e,n,r){if(t=jt(t),!t)return!1;let i=null,o=Lb(t),s=!o&&mo(t);if(!o&&!s){let u=t.ngModule;if(o=Lb(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)gg(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{ny(o.imports,h=>{gg(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&zD(l,e)}if(!a){let l=fo(i)||(()=>new i);e({provide:i,useFactory:l,deps:an},i),e({provide:OD,useValue:i,multi:!0},i),e({provide:po,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;iy(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function iy(t,e){for(let n of t)SD(n)&&(n=n.\u0275providers),Array.isArray(n)?iy(n,e):e(n)}var mO=Oe({provide:String,useValue:Oe});function GD(t){return t!==null&&typeof t=="object"&&mO in t}function gO(t){return!!(t&&t.useExisting)}function yO(t){return!!(t&&t.useFactory)}function Ds(t){return typeof t=="function"}function vO(t){return!!t.useClass}var Wd=new W(""),ud={},_O={},Zm;function oy(){return Zm===void 0&&(Zm=new yd),Zm}var Jt=class{},gc=class extends Jt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vg(e,s=>this.processProvider(s)),this.records.set(PD,ys(void 0,this)),i.has("environment")&&this.records.set(Jt,ys(void 0,this));let o=this.records.get(Wd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(OD,an,fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=wi(this),r=Yt(void 0),i;try{return e()}finally{wi(n),Yt(r)}}get(e,n=pc,r=fe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(jb))return e[jb](this);r=zd(r);let i,o=wi(this),s=Yt(void 0);try{if(!(r&fe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=DO(e)&&qd(e);l&&this.injectableDefInScope(l)?u=ys(yg(e),ud):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&fe.Self?oy():this.parent;return n=r&fe.Optional&&n===pc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[md]=a[md]||[]).unshift(Ut(e)),o)throw a;return KP(a,e,"R3InjectorError",this.source)}else throw a}finally{Yt(s),wi(o)}}resolveInjectorInitializers(){let e=Ie(null),n=wi(this),r=Yt(void 0),i;try{let o=this.get(po,an,fe.Self);for(let s of o)s()}finally{wi(n),Yt(r),Ie(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(e){e=jt(e);let n=Ds(e)?e:jt(e&&e.provide),r=IO(e);if(!Ds(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ys(void 0,ud,!0),i.factory=()=>pg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ie(null);try{return n.value===ud&&(n.value=_O,n.value=n.factory()),typeof n.value=="object"&&n.value&&bO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=jt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function yg(t){let e=qd(t),n=e!==null?e.factory:fo(t);if(n!==null)return n;if(t instanceof W)throw new Y(204,!1);if(t instanceof Function)return wO(t);throw new Y(204,!1)}function wO(t){if(t.length>0)throw new Y(204,!1);let n=PP(t);return n!==null?()=>n.factory(t):()=>new t}function IO(t){if(GD(t))return ys(void 0,t.useValue);{let e=WD(t);return ys(e,ud)}}function WD(t,e,n){let r;if(Ds(t)){let i=jt(t);return fo(i)||yg(i)}else if(GD(t))r=()=>jt(t.useValue);else if(yO(t))r=()=>t.useFactory(...pg(t.deps||[]));else if(gO(t))r=()=>K(jt(t.useExisting));else{let i=jt(t&&(t.useClass||t.provide));if(EO(t))r=()=>new i(...pg(t.deps));else return fo(i)||yg(i)}return r}function ys(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function EO(t){return!!t.deps}function bO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function DO(t){return typeof t=="function"||typeof t=="object"&&t instanceof W}function vg(t,e){for(let n of t)Array.isArray(n)?vg(n,e):n&&SD(n)?vg(n.\u0275providers,e):e(n)}function Un(t,e){t instanceof gc&&t.assertNotDestroyed();let n,r=wi(t),i=Yt(void 0);try{return e()}finally{wi(r),Yt(i)}}function CO(){return AD()!==void 0||zP()!=null}function TO(t){return typeof t=="function"}var cn=0,le=1,ie=2,Mt=3,Ln=4,Bn=5,tr=6,vd=7,In=8,Cs=9,nr=10,$e=11,yc=12,zb=13,Os=14,En=15,Ts=16,vs=17,Ss=18,Kd=19,KD=20,Ii=21,Jm=22,wn=23,it=25,QD=1,vc=6,xr=7,_d=8,wd=9,Zt=10,Id=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Id||{});function Vn(t){return Array.isArray(t)&&typeof t[QD]=="object"}function rr(t){return Array.isArray(t)&&t[QD]===!0}function sy(t){return(t.flags&4)!==0}function Dc(t){return t.componentOffset>-1}function Qd(t){return(t.flags&1)===1}function bi(t){return!!t.template}function Ed(t){return(t[ie]&512)!==0}var _g=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function YD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ir(){return ZD}function ZD(t){return t.type.prototype.ngOnChanges&&(t.setInput=AO),SO}ir.ngInherit=!0;function SO(){let t=XD(this),e=t?.current;if(e){let n=t.previous;if(n===bs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function AO(t,e,n,r,i){let o=this.declaredInputs[r],s=XD(t)||RO(t,{previous:bs,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new _g(l&&l.currentValue,n,u===bs),YD(t,e,i,n)}var JD="__ngSimpleChanges__";function XD(t){return t[JD]||null}function RO(t,e){return t[JD]=e}var Gb=null;var Jn=function(t,e,n){Gb?.(t,e,n)},eC="svg",MO="math";function jn(t){for(;Array.isArray(t);)t=t[cn];return t}function tC(t,e){return jn(e[t])}function dn(t,e){return jn(e[t.index])}function ay(t,e){return t.data[e]}function cy(t,e){return t[e]}function Ti(t,e){let n=e[t];return Vn(n)?n:n[cn]}function uy(t){return(t[ie]&128)===128}function xO(t){return rr(t[Mt])}function As(t,e){return e==null?null:t[e]}function nC(t){t[vs]=0}function rC(t){t[ie]&1024||(t[ie]|=1024,uy(t)&&Zd(t))}function NO(t,e){for(;t>0;)e=e[Os],t--;return e}function Yd(t){return!!(t[ie]&9216||t[wn]?.dirty)}function wg(t){t[nr].changeDetectionScheduler?.notify(8),t[ie]&64&&(t[ie]|=1024),Yd(t)&&Zd(t)}function Zd(t){t[nr].changeDetectionScheduler?.notify(0);let e=go(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!uy(e)));)e=go(e)}function iC(t,e){if((t[ie]&256)===256)throw new Y(911,!1);t[Ii]===null&&(t[Ii]=[]),t[Ii].push(e)}function PO(t,e){if(t[Ii]===null)return;let n=t[Ii].indexOf(e);n!==-1&&t[Ii].splice(n,1)}function go(t){let e=t[Mt];return rr(e)?e[Mt]:e}var ae={lFrame:pC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var oC=!1;function OO(){return ae.lFrame.elementDepthCount}function kO(){ae.lFrame.elementDepthCount++}function FO(){ae.lFrame.elementDepthCount--}function sC(){return ae.bindingsEnabled}function Cc(){return ae.skipHydrationRootTNode!==null}function LO(t){return ae.skipHydrationRootTNode===t}function VO(t){ae.skipHydrationRootTNode=t}function jO(){ae.skipHydrationRootTNode=null}function Ee(){return ae.lFrame.lView}function It(){return ae.lFrame.tView}function Ye(t){return ae.lFrame.contextLView=t,t[In]}function Ze(t){return ae.lFrame.contextLView=null,t}function Nt(){let t=aC();for(;t!==null&&t.type===64;)t=t.parent;return t}function aC(){return ae.lFrame.currentTNode}function UO(){let t=ae.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Io(t,e){let n=ae.lFrame;n.currentTNode=t,n.isParent=e}function ly(){return ae.lFrame.isParent}function cC(){ae.lFrame.isParent=!1}function BO(){return ae.lFrame.contextLView}function uC(){return oC}function Wb(t){oC=t}function Tc(){let t=ae.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function $O(){return ae.lFrame.bindingIndex}function HO(t){return ae.lFrame.bindingIndex=t}function Sc(){return ae.lFrame.bindingIndex++}function lC(t){let e=ae.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qO(){return ae.lFrame.inI18n}function zO(t,e){let n=ae.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ig(e)}function GO(){return ae.lFrame.currentDirectiveIndex}function Ig(t){ae.lFrame.currentDirectiveIndex=t}function WO(t){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function dC(t){ae.lFrame.currentQueryIndex=t}function KO(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[Bn]:null}function hC(t,e,n){if(n&fe.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&fe.Host);)if(i=KO(o),i===null||(o=o[Os],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ae.lFrame=fC();return r.currentTNode=e,r.lView=t,!0}function dy(t){let e=fC(),n=t[le];ae.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fC(){let t=ae.lFrame,e=t===null?null:t.child;return e===null?pC(t):e}function pC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function mC(){let t=ae.lFrame;return ae.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var gC=mC;function hy(){let t=mC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function QO(t){return(ae.lFrame.contextLView=NO(t,ae.lFrame.contextLView))[In]}function Eo(){return ae.lFrame.selectedIndex}function yo(t){ae.lFrame.selectedIndex=t}function Jd(){let t=ae.lFrame;return ay(t.tView,t.selectedIndex)}function He(){ae.lFrame.currentNamespace=eC}function yt(){YO()}function YO(){ae.lFrame.currentNamespace=null}function yC(){return ae.lFrame.currentNamespace}var vC=!0;function Xd(){return vC}function Si(t){vC=t}function ZO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ZD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function eh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function ld(t,e,n){_C(t,e,3,n)}function dd(t,e,n,r){(t[ie]&3)===n&&_C(t,e,n,r)}function Xm(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function _C(t,e,n,r){let i=r!==void 0?t[vs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[vs]+=65536),(a<o||o==-1)&&(JO(t,n,e,u),t[vs]=(t[vs]&4294901760)+u+2),u++}function Kb(t,e){Jn(4,t,e);let n=Ie(null);try{e.call(t)}finally{Ie(n),Jn(5,t,e)}}function JO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ie]>>14<t[vs]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,Kb(a,o)):Kb(a,o)}var Is=-1,vo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function XO(t){return t instanceof vo}function ek(t){return(t.flags&8)!==0}function tk(t){return(t.flags&16)!==0}var eg={},Eg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=zd(r);let i=this.injector.get(e,eg,r);return i!==eg||n===eg?i:this.parentInjector.get(e,n,r)}};function wC(t){return t!==Is}function bd(t){return t&32767}function nk(t){return t>>16}function Dd(t,e){let n=nk(t),r=e;for(;n>0;)r=r[Os],n--;return r}var bg=!0;function Cd(t){let e=bg;return bg=t,e}var rk=256,IC=rk-1,EC=5,ik=0,Xn={};function ok(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(fc)&&(r=n[fc]),r==null&&(r=n[fc]=ik++);let i=r&IC,o=1<<i;e.data[t+(i>>EC)]|=o}function Td(t,e){let n=bC(t,e);if(n!==-1)return n;let r=e[le];r.firstCreatePass&&(t.injectorIndex=e.length,tg(r.data,t),tg(e,null),tg(r.blueprint,null));let i=fy(t,e),o=t.injectorIndex;if(wC(i)){let s=bd(i),a=Dd(i,e),u=a[le].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function tg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function fy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=AC(i),r===null)return Is;if(n++,i=i[Os],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Is}function Dg(t,e,n){ok(t,e,n)}function sk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(FD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function DC(t,e,n){if(n&fe.Optional||t!==void 0)return t;ty(e,"NodeInjector")}function CC(t,e,n,r){if(n&fe.Optional&&r===void 0&&(r=null),!(n&(fe.Self|fe.Host))){let i=t[Cs],o=Yt(void 0);try{return i?i.get(e,r,n&fe.Optional):RD(e,r,n&fe.Optional)}finally{Yt(o)}}return DC(r,e,n)}function TC(t,e,n,r=fe.Default,i){if(t!==null){if(e[ie]&2048&&!(r&fe.Self)){let s=dk(t,e,n,r,Xn);if(s!==Xn)return s}let o=SC(t,e,n,r,Xn);if(o!==Xn)return o}return CC(e,n,r,i)}function SC(t,e,n,r,i){let o=uk(n);if(typeof o=="function"){if(!hC(e,t,r))return r&fe.Host?DC(i,n,r):CC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&fe.Optional))ty(n);else return s}finally{gC()}}else if(typeof o=="number"){let s=null,a=bC(t,e),u=Is,l=r&fe.Host?e[En][Bn]:null;for((a===-1||r&fe.SkipSelf)&&(u=a===-1?fy(t,e):e[a+8],u===Is||!Yb(r,!1)?a=-1:(s=e[le],a=bd(u),e=Dd(u,e)));a!==-1;){let h=e[le];if(Qb(o,a,h.data)){let p=ak(a,e,n,s,r,l);if(p!==Xn)return p}u=e[a+8],u!==Is&&Yb(r,e[le].data[a+8]===l)&&Qb(o,a,e)?(s=h,a=bd(u),e=Dd(u,e)):a=-1}}return i}function ak(t,e,n,r,i,o){let s=e[le],a=s.data[t+8],u=r==null?Dc(a)&&bg:r!=s&&(a.type&3)!==0,l=i&fe.Host&&o===a,h=ck(a,s,n,u,l);return h!==null?Rs(e,s,h,a):Xn}function ck(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let D=s[y];if(y<u&&n===D||y>=u&&D.type===n)return y}if(i){let y=s[u];if(y&&bi(y)&&y.type===n)return u}return null}function Rs(t,e,n,r){let i=t[n],o=e.data;if(XO(i)){let s=i;s.resolving&&UP(jP(o[n]));let a=Cd(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Yt(s.injectImpl):null,h=hC(t,r,fe.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&ZO(n,o[n],e)}finally{l!==null&&Yt(l),Cd(a),s.resolving=!1,gC()}}return i}function uk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(fc)?t[fc]:void 0;return typeof e=="number"?e>=0?e&IC:lk:e}function Qb(t,e,n){let r=1<<t;return!!(n[e+(t>>EC)]&r)}function Yb(t,e){return!(t&fe.Self)&&!(t&fe.Host&&e)}var ho=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return TC(this._tNode,this._lView,e,zd(r),n)}};function lk(){return new ho(Nt(),Ee())}function or(t){return Ec(()=>{let e=t.prototype.constructor,n=e[pd]||Cg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[pd]||Cg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Cg(t){return bD(t)?()=>{let e=Cg(jt(t));return e&&e()}:fo(t)}function dk(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!(s[ie]&512);){let a=SC(o,s,n,r|fe.Self,Xn);if(a!==Xn)return a;let u=o.parent;if(!u){let l=s[KD];if(l){let h=l.get(n,Xn,r);if(h!==Xn)return h}u=AC(s),s=s[Os]}o=u}return i}function AC(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[Bn]:null}function py(t){return sk(Nt(),t)}function Zb(t,e=null,n=null,r){let i=RC(t,e,n,r);return i.resolveInjectorInitializers(),i}function RC(t,e=null,n=null,r,i=new Set){let o=[n||an,pO(t)];return r=r||(typeof t=="object"?void 0:Ut(t)),new gc(o,e||oy(),r||null,i)}var xt=class t{static{this.THROW_IF_NOT_FOUND=pc}static{this.NULL=new yd}static create(e,n){if(Array.isArray(e))return Zb({name:""},n,e,"");{let r=e.name??"";return Zb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=q({token:t,providedIn:"any",factory:()=>K(PD)})}static{this.__NG_ELEMENT_ID__=-1}};var hk=new W("");hk.__NG_ELEMENT_ID__=t=>{let e=Nt();if(e===null)throw new Y(204,!1);if(e.type&2)return e.value;if(t&fe.Optional)return null;throw new Y(204,!1)};var fk="ngOriginalError";function ng(t){return t[fk]}var MC=!0,xC=(()=>{class t{static{this.__NG_ELEMENT_ID__=pk}static{this.__NG_ENV_ID__=n=>n}}return t})(),Tg=class extends xC{constructor(e){super(),this._lView=e}onDestroy(e){return iC(this._lView,e),()=>PO(this._lView,e)}};function pk(){return new Tg(Ee())}var Ai=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Pe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Sg=class extends gt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,CO()&&(this.destroyRef=O(xC,{optional:!0})??void 0,this.pendingTasks=O(Ai,{optional:!0})??void 0)}emit(e){let n=Ie(null);try{super.next(e)}finally{Ie(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Qe=Sg;function Sd(...t){}function NC(t){let e,n;function r(){t=Sd;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Jb(t){return queueMicrotask(()=>t()),()=>{t=Sd}}var my="isAngularZone",Ad=my+"_ID",mk=0,Re=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=MC}=e;if(typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,vk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(my)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Y(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,gk,Sd,Sd);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},gk={};function gy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){NC(()=>{t.callbackScheduled=!1,Ag(t),t.isCheckStableRunning=!0,gy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ag(t)}function vk(t){let e=()=>{yk(t)},n=mk++;t._inner=t._inner.fork({name:"angular",properties:{[my]:!0,[Ad]:n,[Ad+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(_k(u))return r.invokeTask(o,s,a,u);try{return Xb(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),eD(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return Xb(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!wk(u)&&e(),eD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ag(t),gy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ag(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Xb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eD(t){t._nesting--,gy(t)}var Rg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function _k(t){return PC(t,"__ignore_ng_zone__")}function wk(t){return PC(t,"__scheduler_tick__")}function PC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Nr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ng(e);for(;n&&ng(n);)n=ng(n);return n||null}},Ik=new W("",{providedIn:"root",factory:()=>{let t=O(Re),e=O(Nr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Ek(){return th(Nt(),Ee())}function th(t,e){return new $n(dn(t,e))}var $n=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Ek}}return t})();var bk="ngSkipHydration",Dk="ngskiphydration";function OC(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===Dk)return!0}return!1}function kC(t){return t.hasAttribute(bk)}function Rd(t){return(t.flags&128)===128}function Ck(t){if(Rd(t))return!0;let e=t.parent;for(;e;){if(Rd(t)||OC(e))return!0;e=e.parent}return!1}var FC=new Map,Tk=0;function Sk(){return Tk++}function Ak(t){FC.set(t[Kd],t)}function Mg(t){FC.delete(t[Kd])}var tD="__ngContext__";function Di(t,e){Vn(e)?(t[tD]=e[Kd],Ak(e)):t[tD]=e}function LC(t){return jC(t[yc])}function VC(t){return jC(t[Ln])}function jC(t){for(;t!==null&&!rr(t);)t=t[Ln];return t}var xg;function UC(t){xg=t}function nh(){if(xg!==void 0)return xg;if(typeof document<"u")return document;throw new Y(210,!1)}var rh=new W("",{providedIn:"root",factory:()=>Rk}),Rk="ng",yy=new W(""),$t=new W("",{providedIn:"platform",factory:()=>"unknown"});var vy=new W("",{providedIn:"root",factory:()=>nh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Mk(){let t=new ks;return O($t)==="browser"&&(t.store=xk(nh(),O(rh))),t}var ks=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=q({token:t,providedIn:"root",factory:Mk})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function xk(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var BC="h",$C="b",Ng=function(t){return t.FirstChild="f",t.NextSibling="n",t}(Ng||{}),Nk="e",Pk="t",_y="c",HC="x",Md="r",Ok="i",kk="n",qC="d";var Fk="__nghData__",zC=Fk,rg="ngh",Lk="nghm",GC=()=>null;function Vk(t,e,n=!1){let r=t.getAttribute(rg);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,u={};if(r!==""){let h=e.get(ks,null,{optional:!0});h!==null&&(u=h.get(zC,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,ih(l,0,t.nextSibling)),a?t.setAttribute(rg,a):t.removeAttribute(rg),l}function jk(){GC=Vk}function wy(t,e,n=!1){return GC(t,e,n)}function Uk(t){let e=t._lView;return e[le].type===2?null:(Ed(e)&&(e=e[it]),e)}function Bk(t){return t.textContent?.replace(/\s/gm,"")}function $k(t){let e=nh(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=Bk(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function ih(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Pg(t,e){return t.segmentHeads?.[e]??null}function Hk(t,e){let n=t.data,r=n[Nk]?.[e]??null;return r===null&&n[_y]?.[e]&&(r=Iy(t,e)),r}function WC(t,e){return t.data[_y]?.[e]??null}function Iy(t,e){let n=WC(t,e)??[],r=0;for(let i of n)r+=i[Md]*(i[HC]??1);return r}function qk(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[qC];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Ac(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[qC];t.disconnectedNodes=n?new Set(n):null}return!!qk(t)?.has(e)}var td=new W(""),KC=!1,QC=new W("",{providedIn:"root",factory:()=>KC});var nd;function zk(){if(nd===void 0&&(nd=null,Mr.trustedTypes))try{nd=Mr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nd}function Gk(t){return zk()?.createScriptURL(t)||t}var rd;function Wk(){if(rd===void 0&&(rd=null,Mr.trustedTypes))try{rd=Mr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rd}function nD(t){return Wk()?.createScriptURL(t)||t}var xd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ID})`}};function Rc(t){return t instanceof xd?t.changingThisBreaksApplicationSecurity:t}function Ey(t,e){let n=Kk(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ID})`)}return n===e}function Kk(t){return t instanceof xd&&t.getTypeName()||null}var Qk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YC(t){return t=String(t),t.match(Qk)?t:"unsafe:"+t}var oh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(oh||{});function Mc(t){let e=JC();return e?e.sanitize(oh.URL,t)||"":Ey(t,"URL")?Rc(t):YC(Es(t))}function Yk(t){let e=JC();if(e)return nD(e.sanitize(oh.RESOURCE_URL,t)||"");if(Ey(t,"ResourceURL"))return nD(Rc(t));throw new Y(904,!1)}function xc(t){return Gk(t[0])}function Zk(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Yk:Mc}function ZC(t,e,n){return Zk(e,n)(t)}function JC(){let t=Ee();return t&&t[nr].sanitizer}var Jk=/^>|^->|<!--|-->|--!>|<!-$/g,Xk=/(<|>)/g,eF="\u200B$1\u200B";function tF(t){return t.replace(Jk,e=>e.replace(Xk,eF))}function nF(t){return t.ownerDocument.body}function XC(t){return t instanceof Function?t():t}function id(t){return(t??O(xt)).get($t)==="browser"}var Pr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Pr||{}),rF;function by(t,e){return rF(t,e)}function _s(t,e,n,r,i){if(r!=null){let o,s=!1;rr(r)?o=r:Vn(r)&&(s=!0,r=r[cn]);let a=jn(r);t===0&&n!==null?i==null?iT(e,n,a):Pd(e,n,a,i||null,!0):t===1&&n!==null?Pd(e,n,a,i||null,!0):t===2?Sy(e,a,s):t===3&&e.destroyNode(a),o!=null&&vF(e,t,o,n,i)}}function eT(t,e){return t.createText(e)}function iF(t,e,n){t.setValue(e,n)}function tT(t,e){return t.createComment(tF(e))}function Dy(t,e,n){return t.createElement(e,n)}function oF(t,e){nT(t,e),e[cn]=null,e[Bn]=null}function sF(t,e,n,r,i,o){r[cn]=i,r[Bn]=e,ah(t,r,n,1,i,o)}function nT(t,e){e[nr].changeDetectionScheduler?.notify(9),ah(t,e,e[$e],2,null,null)}function aF(t){let e=t[yc];if(!e)return ig(t[le],t);for(;e;){let n=null;if(Vn(e))n=e[yc];else{let r=e[Zt];r&&(n=r)}if(!n){for(;e&&!e[Ln]&&e!==t;)Vn(e)&&ig(e[le],e),e=e[Mt];e===null&&(e=t),Vn(e)&&ig(e[le],e),n=e&&e[Ln]}e=n}}function cF(t,e,n,r){let i=Zt+r,o=n.length;r>0&&(n[i-1][Ln]=e),r<o-Zt?(e[Ln]=n[i],ND(n,Zt+r,e)):(n.push(e),e[Ln]=null),e[Mt]=n;let s=e[Ts];s!==null&&n!==s&&rT(s,e);let a=e[Ss];a!==null&&a.insertView(t),wg(e),e[ie]|=128}function rT(t,e){let n=t[wd],r=e[Mt];if(Vn(r))t[ie]|=Id.HasTransplantedViews;else{let i=r[Mt][En];e[En]!==i&&(t[ie]|=Id.HasTransplantedViews)}n===null?t[wd]=[e]:n.push(e)}function Cy(t,e){let n=t[wd],r=n.indexOf(e);n.splice(r,1)}function Nd(t,e){if(t.length<=Zt)return;let n=Zt+e,r=t[n];if(r){let i=r[Ts];i!==null&&i!==t&&Cy(i,r),e>0&&(t[n-1][Ln]=r[Ln]);let o=gd(t,Zt+e);oF(r[le],r);let s=o[Ss];s!==null&&s.detachView(o[le]),r[Mt]=null,r[Ln]=null,r[ie]&=-129}return r}function Ty(t,e){if(!(e[ie]&256)){let n=e[$e];n.destroyNode&&ah(t,e,n,3,null,null),aF(e)}}function ig(t,e){if(e[ie]&256)return;let n=Ie(null);try{e[ie]&=-129,e[ie]|=256,e[wn]&&xm(e[wn]),lF(t,e),uF(t,e),e[le].type===1&&e[$e].destroy();let r=e[Ts];if(r!==null&&rr(e[Mt])){r!==e[Mt]&&Cy(r,e);let i=e[Ss];i!==null&&i.detachView(t)}Mg(e)}finally{Ie(n)}}function uF(t,e){let n=t.cleanup,r=e[vd];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[vd]=null);let i=e[Ii];if(i!==null){e[Ii]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function lF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof vo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Jn(4,a,u);try{u.call(a)}finally{Jn(5,a,u)}}else{Jn(4,i,o);try{o.call(i)}finally{Jn(5,i,o)}}}}}function dF(t,e,n){return hF(t,e.parent,n)}function hF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[cn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===er.None||o===er.Emulated)return null}return dn(r,n)}}function Pd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iT(t,e,n){t.appendChild(e,n)}function rD(t,e,n,r,i){r!==null?Pd(t,e,n,r,i):iT(t,e,n)}function oT(t,e){return t.parentNode(e)}function fF(t,e){return t.nextSibling(e)}function pF(t,e,n){return gF(t,e,n)}function mF(t,e,n){return t.type&40?dn(t,n):null}var gF=mF,iD;function sh(t,e,n,r){let i=dF(t,r,e),o=e[$e],s=r.parent||e[Bn],a=pF(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)rD(o,i,n[u],a,!1);else rD(o,i,n,a,!1);iD!==void 0&&iD(o,r,e,n,i)}function dc(t,e){if(e!==null){let n=e.type;if(n&3)return dn(e,t);if(n&4)return Og(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return dc(t,r);{let i=t[e.index];return rr(i)?Og(-1,i):jn(i)}}else{if(n&128)return dc(t,e.next);if(n&32)return by(e,t)()||jn(t[e.index]);{let r=sT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=go(t[En]);return dc(i,r)}else return dc(t,e.next)}}}return null}function sT(t,e){if(e!==null){let r=t[En][Bn],i=e.projection;return r.projection[i]}return null}function Og(t,e){let n=Zt+t+1;if(n<e.length){let r=e[n],i=r[le].firstChild;if(i!==null)return dc(r,i)}return e[xr]}function Sy(t,e,n){t.removeChild(null,e,n)}function aT(t){t.textContent=""}function Ay(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Di(jn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Ay(t,e,n.child,r,i,o,!1),_s(e,t,i,a,o);else if(u&32){let l=by(n,r),h;for(;h=l();)_s(e,t,i,h,o);_s(e,t,i,a,o)}else u&16?yF(t,e,r,n,i,o):_s(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ah(t,e,n,r,i,o){Ay(n,r,t.firstChild,e,i,o,!1)}function yF(t,e,n,r,i,o){let s=n[En],u=s[Bn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];_s(e,t,i,h,o)}else{let l=u,h=s[Mt];Rd(r)&&(l.flags|=128),Ay(t,e,l,h,i,o,!0)}}function vF(t,e,n,r,i){let o=n[xr],s=jn(n);o!==s&&_s(e,t,r,o,i);for(let a=Zt;a<n.length;a++){let u=n[a];ah(u[le],u,t,e,r,o)}}function _F(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Pr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Pr.Important),t.setStyle(n,r,i,o))}}function wF(t,e,n){t.setAttribute(e,"style",n)}function cT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function uT(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&mg(t,e,r),i!==null&&cT(t,e,i),o!==null&&wF(t,e,o)}var bn={};function B(t=1){lT(It(),Ee(),Eo()+t,!1)}function lT(t,e,n,r){if(!r)if((e[ie]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ld(e,o,n)}else{let o=t.preOrderHooks;o!==null&&dd(e,o,0,n)}yo(n)}function k(t,e=fe.Default){let n=Ee();if(n===null)return K(t,e);let r=Nt();return TC(r,n,jt(t),e)}function dT(t,e,n,r,i,o){let s=Ie(null);try{let a=null;i&Ei.SignalBased&&(a=e[r][Ar]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ei.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):YD(e,a,r,o)}finally{Ie(s)}}function IF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)yo(~i);else{let o=i,s=n[++r],a=n[++r];zO(s,o);let u=e[o];a(2,u)}}}finally{yo(-1)}}function ch(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[cn]=i,p[ie]=r|4|128|8|64,(l!==null||t&&t[ie]&2048)&&(p[ie]|=2048),nC(p),p[Mt]=p[Os]=t,p[In]=n,p[nr]=s||t&&t[nr],p[$e]=a||t&&t[$e],p[Cs]=u||t&&t[Cs]||null,p[Bn]=o,p[Kd]=Sk(),p[tr]=h,p[KD]=l,p[En]=e.type==2?t[En]:p,p}function Nc(t,e,n,r,i){let o=t.data[e];if(o===null)o=EF(t,e,n,r,i),qO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=UO();o.injectorIndex=s===null?-1:s.injectorIndex}return Io(o,!0),o}function EF(t,e,n,r,i){let o=aC(),s=ly(),a=s?o:o&&o.parent,u=t.data[e]=AF(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function hT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function fT(t,e,n,r,i){let o=Eo(),s=r&2;try{yo(-1),s&&e.length>it&&lT(t,e,it,!1),Jn(s?2:0,i),n(r,i)}finally{yo(o),Jn(s?3:1,i)}}function Ry(t,e,n){if(sy(e)){let r=Ie(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Ie(r)}}}function My(t,e,n){sC()&&(OF(t,e,n,dn(n,e)),(n.flags&64)===64&&yT(t,e,n))}function xy(t,e,n=dn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function pT(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ny(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ny(t,e,n,r,i,o,s,a,u,l,h){let p=it+r,g=p+i,y=bF(p,g),D=typeof l=="function"?l():l;return y[le]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function bF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:bn);return n}function DF(t,e,n,r){let o=r.get(QC,KC)||n===er.ShadowDom,s=t.selectRootElement(e,o);return CF(s),s}function CF(t){mT(t)}var mT=()=>null;function TF(t){kC(t)?aT(t):$k(t)}function SF(){mT=TF}function AF(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Cc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function oD(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Ei.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?sD(r,n,l,a,u):sD(r,n,l,a)}return r}function sD(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function RF(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],g=n?n.get(p):null,y=g?g.inputs:null,D=g?g.outputs:null;u=oD(0,p.inputs,h,u,y),l=oD(1,p.outputs,h,l,D);let x=u!==null&&s!==null&&!ry(e)?zF(u,h,s):null;a.push(x)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function MF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Py(t,e,n,r,i,o,s,a){let u=dn(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(ky(t,n,h,r,i),Dc(e)&&xF(n,e.index)):e.type&3?(r=MF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function xF(t,e){let n=Ti(e,t);n[ie]&16||(n[ie]|=64)}function Oy(t,e,n,r){if(sC()){let i=r===null?null:{"":-1},o=FF(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&gT(t,e,n,s,i,a),i&&LF(n,r,i)}n.mergedAttrs=mc(n.mergedAttrs,n.attrs)}function gT(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Dg(Td(n,e),t,r[l].type);jF(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=hT(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=mc(n.mergedAttrs,h.hostAttrs),UF(t,n,e,u,h),VF(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}RF(t,n,o)}function NF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;PF(s)!=a&&s.push(a),s.push(n,r,o)}}function PF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function OF(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Dc(n)&&BF(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Td(n,e),Di(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=Rs(e,t,a,n);if(Di(l,e),s!==null&&qF(e,a-i,l,u,n,s),bi(u)){let h=Ti(n.index,e);h[In]=Rs(e,t,a,n)}}}function yT(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=GO();try{yo(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Ig(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&kF(u,l)}}finally{yo(-1),Ig(s)}}function kF(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function FF(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(oO(e,s.selectors,!1))if(r||(r=[]),bi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;kg(t,e,u)}else r.unshift(s),kg(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function kg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function LF(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Y(-301,!1);r.push(e[i],o)}}}function VF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bi(e)&&(n[""]=t)}}function jF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function UF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=fo(i.type,!0)),s=new vo(o,bi(i),k);t.blueprint[r]=s,n[r]=s,NF(t,e,r,hT(t,n,i.hostVars,bn),i)}function BF(t,e,n){let r=dn(e,t),i=pT(n),o=t[nr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=uh(t,ch(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function $F(t,e,n,r,i,o){let s=dn(t,e);HF(e[$e],s,o,t.value,n,r,i)}function HF(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Es(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function qF(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];dT(r,n,u,l,h,p)}}function zF(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function vT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function _T(t,e){let n=t.contentQueries;if(n!==null){let r=Ie(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];dC(o),a.contentQueries(2,e[s],s)}}}finally{Ie(r)}}}function uh(t,e){return t[yc]?t[zb][Ln]=e:t[yc]=e,t[zb]=e,e}function Fg(t,e,n){dC(0);let r=Ie(null);try{e(t,n)}finally{Ie(r)}}function GF(t){return t[vd]??=[]}function WF(t){return t.cleanup??=[]}function wT(t,e){let n=t[Cs],r=n?n.get(Nr,null):null;r&&r.handleError(e)}function ky(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];dT(h,l,r,a,u,i)}}function IT(t,e,n){let r=tC(e,t);iF(t[$e],r,n)}function KF(t,e){let n=Ti(e,t),r=n[le];QF(r,n);let i=n[cn];i!==null&&n[tr]===null&&(n[tr]=wy(i,n[Cs])),Fy(r,n,n[In])}function QF(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Fy(t,e,n){dy(e);try{let r=t.viewQuery;r!==null&&Fg(1,r,n);let i=t.template;i!==null&&fT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ss]?.finishViewCreation(t),t.staticContentQueries&&_T(t,e),t.staticViewQueries&&Fg(2,t.viewQuery,n);let o=t.components;o!==null&&YF(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,hy()}}function YF(t,e){for(let n=0;n<e.length;n++)KF(t,e[n])}function ET(t,e,n,r){let i=Ie(null);try{let o=e.tView,a=t[ie]&4096?4096:16,u=ch(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Ts]=l;let h=t[Ss];return h!==null&&(u[Ss]=h.createEmbeddedView(o)),Fy(o,u,n),u}finally{Ie(i)}}function ZF(t,e){let n=Zt+e;if(n<t.length)return t[n]}function Lg(t,e){return!e||e.firstChild===null||Rd(t)}function bT(t,e,n,r=!0){let i=e[le];if(cF(i,e,t,n),r){let s=Og(n,t),a=e[$e],u=oT(a,t[xr]);u!==null&&sF(i,t[Bn],a,e,u,s)}let o=e[tr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function JF(t,e){let n=Nd(t,e);return n!==void 0&&Ty(n[le],n),n}function Od(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(jn(o)),rr(o)&&XF(o,r);let s=n.type;if(s&8)Od(t,e,n.child,r);else if(s&32){let a=by(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=sT(e,n);if(Array.isArray(a))r.push(...a);else{let u=go(e[En]);Od(u[le],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function XF(t,e){for(let n=Zt;n<t.length;n++){let r=t[n],i=r[le].firstChild;i!==null&&Od(r[le],r,i,e)}t[xr]!==t[cn]&&e.push(t[xr])}var DT=[];function eL(t){return t[wn]??tL(t)}function tL(t){let e=DT.pop()??Object.create(rL);return e.lView=t,e}function nL(t){t.lView[wn]!==t&&(t.lView=null,DT.push(t))}var rL=he(j({},sc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Zd(t.lView)},consumerOnSignalRead(){this.lView[wn]=this}});function iL(t){let e=t[wn]??Object.create(oL);return e.lView=t,e}var oL=he(j({},sc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=go(t.lView);for(;e&&!CT(e[le]);)e=go(e);e&&rC(e)},consumerOnSignalRead(){this.lView[wn]=this}});function CT(t){return t.type!==2}var sL=100;function TT(t,e=!0,n=0){let r=t[nr],i=r.rendererFactory,o=!1;o||i.begin?.();try{aL(t,n)}catch(s){throw e&&wT(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function aL(t,e){let n=uC();try{Wb(!0),Vg(t,e);let r=0;for(;Yd(t);){if(r===sL)throw new Y(103,!1);r++,Vg(t,1)}}finally{Wb(n)}}function cL(t,e,n,r){let i=e[ie];if((i&256)===256)return;let o=!1,s=!1;!o&&e[nr].inlineEffectRunner?.flush(),dy(e);let a=!0,u=null,l=null;o||(CT(t)?(l=eL(e),u=bl(l)):ZE()===null?(a=!1,l=iL(e),u=bl(l)):e[wn]&&(xm(e[wn]),e[wn]=null));try{nC(e),HO(t.bindingStartIndex),n!==null&&fT(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&ld(e,y,null)}else{let y=t.preOrderHooks;y!==null&&dd(e,y,0,null),Xm(e,0)}if(s||uL(e),ST(e,0),t.contentQueries!==null&&_T(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&ld(e,y)}else{let y=t.contentHooks;y!==null&&dd(e,y,1),Xm(e,1)}IF(t,e);let p=t.components;p!==null&&RT(e,p,0);let g=t.viewQuery;if(g!==null&&Fg(2,g,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&ld(e,y)}else{let y=t.viewHooks;y!==null&&dd(e,y,2),Xm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Jm]){for(let y of e[Jm])y();e[Jm]=null}o||(e[ie]&=-73)}catch(h){throw o||Zd(e),h}finally{l!==null&&(Rm(l,u),a&&nL(l)),hy()}}function ST(t,e){for(let n=LC(t);n!==null;n=VC(n))for(let r=Zt;r<n.length;r++){let i=n[r];AT(i,e)}}function uL(t){for(let e=LC(t);e!==null;e=VC(e)){if(!(e[ie]&Id.HasTransplantedViews))continue;let n=e[wd];for(let r=0;r<n.length;r++){let i=n[r];rC(i)}}}function lL(t,e,n){let r=Ti(e,t);AT(r,n)}function AT(t,e){uy(t)&&Vg(t,e)}function Vg(t,e){let r=t[le],i=t[ie],o=t[wn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Mm(o)),s||=!1,o&&(o.dirty=!1),t[ie]&=-9217,s)cL(r,t,r.template,t[In]);else if(i&8192){ST(t,1);let a=r.components;a!==null&&RT(t,a,1)}}function RT(t,e,n){for(let r=0;r<e.length;r++)lL(t,e[r],n)}function Ly(t,e){let n=uC()?64:1088;for(t[nr].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let r=go(t);if(Ed(t)&&!r)return t;t=r}return null}var _o=class{get rootNodes(){let e=this._lView,n=e[le];return Od(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[In]}set context(e){this._lView[In]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Mt];if(rr(e)){let n=e[_d],r=n?n.indexOf(this):-1;r>-1&&(Nd(e,r),gd(n,r))}this._attachedToViewContainer=!1}Ty(this._lView[le],this._lView)}onDestroy(e){iC(this._lView,e)}markForCheck(){Ly(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){wg(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,TT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ed(this._lView),n=this._lView[Ts];n!==null&&!e&&Cy(n,this._lView),nT(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=e;let n=Ed(this._lView),r=this._lView[Ts];r!==null&&!n&&rT(r,this._lView),wg(this._lView)}},lh=(()=>{class t{static{this.__NG_ELEMENT_ID__=fL}}return t})(),dL=lh,hL=class extends dL{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ET(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new _o(i)}};function fL(){return MT(Nt(),Ee())}function MT(t,e){return t.type&4?new hL(e,t,th(t,e)):null}var pL=new RegExp(`^(\\d+)*(${$C}|${BC})*(.*)`);function mL(t){let e=t.match(pL),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function gL(t){return!t.prev&&t.parent?.type===8}function og(t){return t.index-it}function yL(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function dh(t,e,n,r){let i=og(r),o=yL(t,i);if(o===void 0){let s=t.data[kk];if(s?.[i])o=_L(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(gL(r)){let l=og(r.parent);o=Pg(t,l)}else{let l=dn(u,n);if(a)o=l.firstChild;else{let h=og(u),p=Pg(t,h);if(u.type===2&&p){let y=Iy(t,h)+1;o=hh(y,p)}else o=l.nextSibling}}}}return o}function hh(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function vL(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Ng.FirstChild:n=n.firstChild;break;case Ng.NextSibling:n=n.nextSibling;break}}return n}function _L(t,e){let[n,...r]=mL(t),i;if(n===BC)i=e[En][cn];else if(n===$C)i=nF(e[En][cn]);else{let o=Number(n);i=jn(e[o+it])}return vL(i,r)}var wL=!1;function IL(t){wL=t}function EL(t){let e=t[tr];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[$e];for(let o of r.values())bL(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function bL(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-it);i&&Sy(t,i,!1)}}function xT(t){let e=t[vc]??[],r=t[Mt][$e];for(let i of e)DL(i,r);t[vc]=an}function DL(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Md];for(;n<i;){let o=r.nextSibling;Sy(e,r,!1),r=o,n++}}}function NT(t){xT(t);let e=t[cn];Vn(e)&&kd(e);for(let n=Zt;n<t.length;n++)kd(t[n])}function kd(t){EL(t);let e=t[le];for(let n=it;n<e.bindingStartIndex;n++)if(rr(t[n])){let r=t[n];NT(r)}else Vn(t[n])&&kd(t[n])}function CL(t){let e=t._views;for(let n of e){let r=Uk(n);r!==null&&r[cn]!==null&&(Vn(r)?kd(r):NT(r))}}function TL(t,e){let n=[];for(let r of e)for(let i=0;i<(r[HC]??1);i++){let o={data:r,firstChild:null};r[Md]>0&&(o.firstChild=t,t=hh(r[Md],t)),n.push(o)}return[t,n]}var PT=()=>null;function SL(t,e){let n=t[vc];return!e||n===null||n.length===0?null:n[0].data[Ok]===e?n.shift():(xT(t),null)}function AL(){PT=SL}function jg(t,e){return PT(t,e)}var Ms=class{},Vy=new W("",{providedIn:"root",factory:()=>!1});var OT=new W(""),kT=new W(""),Ug=class{},Fd=class{};function RL(t){let e=Error(`No component factory found for ${Ut(t)}.`);return e[ML]=t,e}var ML="ngComponent";var Bg=class{resolveComponentFactory(e){throw RL(e)}},xs=class{static{this.NULL=new Bg}},Ns=class{},sr=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>xL()}}return t})();function xL(){let t=Ee(),e=Nt(),n=Ti(e.index,t);return(Vn(n)?n:t)[$e]}var NL=(()=>{class t{static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>null})}}return t})();function Ld(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=kb(i,a);else if(o==2){let u=a,l=e[++s];r=kb(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Vd=class extends xs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=mo(e);return new _c(n,this.ngModule)}};function aD(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Ei.None;e?n.push({propName:s,templateName:r,isSignal:(a&Ei.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function PL(t){let e=t.toLowerCase();return e==="svg"?eC:e==="math"?MO:null}var _c=class extends Fd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=aD(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return aD(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=uO(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ie(null);try{i=i||this.ngModule;let s=i instanceof Jt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Eg(e,s):e,u=a.get(Ns,null);if(u===null)throw new Y(407,!1);let l=a.get(NL,null),h=a.get(Ms,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},g=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",D=r?DF(g,r,this.componentDef.encapsulation,a):Dy(g,y,PL(y)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let R=null;D!==null&&(R=wy(D,a,!0));let L=Ny(0,null,null,1,0,null,null,null,null,null,null),G=ch(null,L,null,x,null,null,p,g,a,null,R);dy(G);let U,J,we=null;try{let X=this.componentDef,E,v=null;X.findHostDirectiveDefs?(E=[],v=new Map,X.findHostDirectiveDefs(X,E,v),E.push(X)):E=[X];let w=OL(G,D);we=kL(w,D,X,E,G,p,g),J=ay(L,it),D&&VL(g,X,D,r),n!==void 0&&jL(J,this.ngContentSelectors,n),U=LL(we,X,E,v,G,[UL]),Fy(L,G,null)}catch(X){throw we!==null&&Mg(we),Mg(G),X}finally{hy()}return new $g(this.componentType,U,th(J,G),G,J)}finally{Ie(o)}}},$g=class extends Ug{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new _o(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;ky(o[le],o,i,e,n),this.previousInputValues.set(e,n);let s=Ti(this._tNode.index,o);Ly(s,1)}}get injector(){return new ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function OL(t,e){let n=t[le],r=it;return t[r]=e,Nc(n,r,2,"#host",null)}function kL(t,e,n,r,i,o,s){let a=i[le];FL(r,t,e,s);let u=null;e!==null&&(u=wy(e,i[Cs]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=ch(i,pT(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&kg(a,t,r.length-1),uh(i,p),i[t.index]=p}function FL(t,e,n,r){for(let i of t)e.mergedAttrs=mc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ld(e,e.mergedAttrs,!0),n!==null&&uT(r,n,e))}function LL(t,e,n,r,i,o){let s=Nt(),a=i[le],u=dn(s,i);gT(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,g=Rs(i,a,p,s);Di(g,i)}yT(a,i,s),u&&Di(u,i);let l=Rs(i,a,s.directiveStart+s.componentOffset,s);if(t[In]=i[In]=l,o!==null)for(let h of o)h(l,e);return Ry(a,s,i),l}function VL(t,e,n,r){if(r)mg(t,n,["ng-version","18.2.8"]);else{let{attrs:i,classes:o}=lO(e.selectors[0]);i&&mg(t,n,i),o&&o.length>0&&cT(t,n,o.join(" "))}}function jL(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function UL(){let t=Nt();eh(Ee()[le],t)}var Fs=(()=>{class t{static{this.__NG_ELEMENT_ID__=BL}}return t})();function BL(){let t=Nt();return HL(t,Ee())}var $L=Fs,FT=class extends $L{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return th(this._hostTNode,this._hostLView)}get injector(){return new ho(this._hostTNode,this._hostLView)}get parentInjector(){let e=fy(this._hostTNode,this._hostLView);if(wC(e)){let n=Dd(e,this._hostLView),r=bd(e),i=n[le].data[r+8];return new ho(i,n)}else return new ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=cD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=jg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Lg(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!TO(e),a;if(s)a=n;else{let D=n||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let u=s?e:new _c(mo(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let x=(s?l:this.parentInjector).get(Jt,null);x&&(o=x)}let h=mo(u.componentType??{}),p=jg(this._lContainer,h?.id??null),g=p?.firstChild??null,y=u.create(l,i,g,o);return this.insertImpl(y.hostView,a,Lg(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(xO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Mt],l=new FT(u,u[Bn],u[Mt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return bT(s,i,o,r),e.attachToViewContainerRef(),ND(sg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=cD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Nd(this._lContainer,n);r&&(gd(sg(this._lContainer),n),Ty(r[le],r))}detach(e){let n=this._adjustIndex(e,-1),r=Nd(this._lContainer,n);return r&&gd(sg(this._lContainer),n)!=null?new _o(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function cD(t){return t[_d]}function sg(t){return t[_d]||(t[_d]=[])}function HL(t,e){let n,r=e[t.index];return rr(r)?n=r:(n=vT(r,e,null,t),e[t.index]=n,uh(e,n)),LT(n,e,t,r),new FT(n,t,e)}function qL(t,e){let n=t[$e],r=n.createComment(""),i=dn(e,t),o=oT(n,i);return Pd(n,o,r,fF(n,i),!1),r}var LT=VT,jy=()=>!1;function zL(t,e,n){return jy(t,e,n)}function VT(t,e,n,r){if(t[xr])return;let i;n.type&8?i=jn(r):i=qL(e,n),t[xr]=i}function GL(t,e,n){if(t[xr]&&t[vc])return!0;let r=n[tr],i=e.index-it;if(!r||Ck(e)||Ac(r,i))return!1;let s=Pg(r,i),a=r.data[_y]?.[i],[u,l]=TL(s,a);return t[xr]=u,t[vc]=l,!0}function WL(t,e,n,r){jy(t,n,e)||VT(t,e,n,r)}function KL(){LT=WL,jy=GL}var uD=new Set;function Ri(t){uD.has(t)||(uD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function QL(t){return typeof t=="function"&&t[Ar]!==void 0}function Mi(t,e){Ri("NgSignals");let n=cb(t),r=n[Ar];return e?.equal&&(r.equal=e.equal),n.set=i=>Nm(r,i),n.update=i=>ub(r,i),n.asReadonly=YL.bind(n),n}function YL(){let t=this[Ar];if(t.readonlyFn===void 0){let e=()=>this();e[Ar]=t,t.readonlyFn=e}return t.readonlyFn}function jT(t){return QL(t)&&typeof t.set=="function"}function ZL(t){return Object.getPrototypeOf(t.prototype).constructor}function Ht(t){let e=ZL(t.type),n=!0,r=[t];for(;e;){let i;if(bi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Y(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=od(t.inputs),s.inputTransforms=od(t.inputTransforms),s.declaredInputs=od(t.declaredInputs),s.outputs=od(t.outputs);let a=i.hostBindings;a&&nV(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&eV(t,u),l&&tV(t,l),JL(t,i),xP(t.outputs,i.outputs),bi(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ht&&(n=!1)}}e=Object.getPrototypeOf(e)}XL(r)}function JL(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function XL(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mc(i.hostAttrs,n=mc(n,i.hostAttrs))}}function od(t){return t===bs?{}:t===an?[]:t}function eV(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function tV(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function nV(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Uy(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ci=class{},wc=class{};var Hg=class extends Ci{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vd(this);let o=BD(e);this._bootstrapComponents=XC(o.bootstrap),this._r3Injector=RC(e,n,[{provide:Ci,useValue:this},{provide:xs,useValue:this.componentFactoryResolver},...r],Ut(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},qg=class extends wc{constructor(e){super(),this.moduleType=e}create(e){return new Hg(this.moduleType,e,[])}};var jd=class extends Ci{constructor(e){super(),this.componentFactoryResolver=new Vd(this),this.instance=null;let n=new gc([...e.providers,{provide:Ci,useValue:this},{provide:xs,useValue:this.componentFactoryResolver}],e.parent||oy(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function By(t,e,n=null){return new jd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function UT(t){return iV(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function rV(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function iV(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function $y(t,e,n){return t[e]=n}function oV(t,e){return t[e]}function Or(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function BT(t,e,n,r){let i=Or(t,e,n);return Or(t,e+1,r)||i}function Pc(t){return(t.flags&32)===32}function sV(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Nc(e,t,4,s||null,a||null);Oy(e,n,h,As(l,u)),eh(e,h);let p=h.tView=Ny(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function aV(t,e,n,r,i,o,s,a,u,l){let h=n+it,p=e.firstCreatePass?sV(h,e,t,r,i,o,s,a,u):e.data[h];Io(p,!1);let g=$T(e,t,p,n);Xd()&&sh(e,t,g,p),Di(g,t);let y=vT(g,t,g,p);return t[h]=y,uh(t,y),zL(y,p,t),Qd(p)&&My(e,t,p),u!=null&&xy(t,p,l),p}function Ve(t,e,n,r,i,o,s,a){let u=Ee(),l=It(),h=As(l.consts,o);return aV(u,l,t,e,n,r,i,h,s,a),Ve}var $T=HT;function HT(t,e,n,r){return Si(!0),e[$e].createComment("")}function cV(t,e,n,r){let i=e[tr],o=!i||Cc()||Pc(n)||Ac(i,r);if(Si(o),o)return HT(t,e,n,r);let s=i.data[Pk]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=dh(i,t,e,n);ih(i,r,a);let u=Iy(i,r);return hh(u,a)}function uV(){$T=cV}var hc=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(hc||{}),lV=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}}return t})(),lD=class t{constructor(){this.ngZone=O(Re),this.scheduler=O(Ms),this.errorHandler=O(Nr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[hc.EarlyRead,hc.Write,hc.MixedReadWrite,hc.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}};function Vr(t,e,n,r){let i=Ee(),o=Sc();if(Or(i,o,e)){let s=It(),a=Jd();$F(a,i,t,e,n,r)}return Vr}function qT(t,e,n,r){return Or(t,Sc(),n)?e+Es(n)+r:bn}function dV(t,e,n,r,i,o){let s=$O(),a=BT(t,s,n,i);return lC(2),a?e+Es(n)+r+Es(i)+o:bn}function sd(t,e){return t<<17|e<<2}function wo(t){return t>>17&32767}function hV(t){return(t&2)==2}function fV(t,e){return t&131071|e<<17}function zg(t){return t|2}function Ps(t){return(t&131068)>>2}function ag(t,e){return t&-131069|e<<2}function pV(t){return(t&1)===1}function Gg(t){return t|1}function mV(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=wo(s),u=Ps(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||bc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=wo(t[a+1]);t[r+1]=sd(g,a),g!==0&&(t[g+1]=ag(t[g+1],r)),t[a+1]=fV(t[a+1],r)}else t[r+1]=sd(a,0),a!==0&&(t[a+1]=ag(t[a+1],r)),a=r;else t[r+1]=sd(u,0),a===0?a=r:t[u+1]=ag(t[u+1],r),u=r;l&&(t[r+1]=zg(t[r+1])),dD(t,h,r,!0),dD(t,h,r,!1),gV(e,h,t,r,o),s=sd(a,u),o?e.classBindings=s:e.styleBindings=s}function gV(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&bc(o,e)>=0&&(n[r+1]=Gg(n[r+1]))}function dD(t,e,n,r){let i=t[n+1],o=e===null,s=r?wo(i):Ps(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];yV(u,e)&&(a=!0,t[s+1]=r?Gg(l):zg(l)),s=r?wo(l):Ps(l)}a&&(t[n+1]=r?zg(i):Gg(i))}function yV(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?bc(t,e)>=0:!1}function ye(t,e,n){let r=Ee(),i=Sc();if(Or(r,i,e)){let o=It(),s=Jd();Py(o,s,r,t,e,r[$e],n,!1)}return ye}function hD(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";ky(t,n,o[s],s,r)}function fh(t,e){return vV(t,e,null,!0),fh}function vV(t,e,n,r){let i=Ee(),o=It(),s=lC(2);if(o.firstUpdatePass&&wV(o,t,s,r),e!==bn&&Or(i,s,e)){let a=o.data[Eo()];CV(o,a,i,i[$e],t,i[s+1]=TV(e,n),r,s)}}function _V(t,e){return e>=t.expandoStartIndex}function wV(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Eo()],s=_V(t,n);SV(o,r)&&e===null&&!s&&(e=!1),e=IV(i,o,e,r),mV(i,o,e,n,s,r)}}function IV(t,e,n,r){let i=WO(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cg(null,t,e,n,r),n=Ic(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=cg(i,t,e,n,r),o===null){let u=EV(t,e,r);u!==void 0&&Array.isArray(u)&&(u=cg(null,t,e,u[1],r),u=Ic(u,e.attrs,r),bV(t,e,r,u))}else o=DV(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function EV(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ps(r)!==0)return t[wo(r)]}function bV(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[wo(i)]=r}function DV(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ic(r,s,n)}return Ic(r,e.attrs,n)}function cg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ic(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ic(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ZP(t,s,n?!0:e[++o]))}return t===void 0?null:t}function CV(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=pV(l)?fD(u,e,n,i,Ps(l),s):void 0;if(!Ud(h)){Ud(o)||hV(l)&&(o=fD(u,null,n,i,a,s));let p=tC(Eo(),n);_F(r,s,p,i,o)}}function fD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===bn&&(g=p?an:void 0);let y=p?Ym(g,r):h===r?g:void 0;if(l&&!Ud(y)&&(y=Ym(u,r)),Ud(y)&&(a=y,s))return a;let D=t[i+1];i=s?wo(D):Ps(D)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ym(u,r))}return a}function Ud(t){return t!==void 0}function TV(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ut(Rc(t)))),t}function SV(t,e){return(t.flags&(e?8:16))!==0}function ph(t,e){Ri("NgControlFlow");let n=Ee(),r=Sc(),i=n[r]!==bn?n[r]:-1,o=i!==-1?pD(n,it+i):void 0,s=0;if(Or(n,r,t)){let a=Ie(null);try{if(o!==void 0&&JF(o,s),t!==-1){let u=it+t,l=pD(n,u),h=AV(n[le],u),p=jg(l,h.tView.ssrId),g=ET(n,h,e,{dehydratedView:p});bT(l,g,s,Lg(h,p))}}finally{Ie(a)}}else if(o!==void 0){let a=ZF(o,s);a!==void 0&&(a[In]=e)}}function pD(t,e){return t[e]}function AV(t,e){return ay(t,e)}function RV(t,e,n,r,i,o){let s=e.consts,a=As(s,i),u=Nc(e,t,2,r,a);return Oy(e,n,u,As(s,o)),u.attrs!==null&&Ld(u,u.attrs,!1),u.mergedAttrs!==null&&Ld(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function A(t,e,n,r){let i=Ee(),o=It(),s=it+t,a=i[$e],u=o.firstCreatePass?RV(s,o,i,e,n,r):o.data[s],l=zT(o,i,u,a,e,t);i[s]=l;let h=Qd(u);return Io(u,!0),uT(a,l,u),!Pc(u)&&Xd()&&sh(o,i,l,u),OO()===0&&Di(l,i),kO(),h&&(My(o,i,u),Ry(o,u,i)),r!==null&&xy(i,u),A}function N(){let t=Nt();ly()?cC():(t=t.parent,Io(t,!1));let e=t;LO(e)&&jO(),FO();let n=It();return n.firstCreatePass&&(eh(n,t),sy(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&ek(e)&&hD(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&tk(e)&&hD(n,e,Ee(),e.stylesWithoutHost,!1),N}function H(t,e,n,r){return A(t,e,n,r),N(),H}var zT=(t,e,n,r,i,o)=>(Si(!0),Dy(r,i,yC()));function MV(t,e,n,r,i,o){let s=e[tr],a=!s||Cc()||Pc(n)||Ac(s,o);if(Si(a),a)return Dy(r,i,yC());let u=dh(s,t,e,n);return WC(s,o)&&ih(s,o,u.nextSibling),s&&(OC(n)||kC(u))&&Dc(n)&&(VO(n),aT(u)),u}function xV(){zT=MV}function NV(t,e,n,r,i){let o=e.consts,s=As(o,r),a=Nc(e,t,8,"ng-container",s);s!==null&&Ld(a,s,!0);let u=As(o,i);return Oy(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function mh(t,e,n){let r=Ee(),i=It(),o=t+it,s=i.firstCreatePass?NV(o,i,r,e,n):i.data[o];Io(s,!0);let a=GT(i,r,s,t);return r[o]=a,Xd()&&sh(i,r,a,s),Di(a,r),Qd(s)&&(My(i,r,s),Ry(i,s,r)),n!=null&&xy(r,s),mh}function gh(){let t=Nt(),e=It();return ly()?cC():(t=t.parent,Io(t,!1)),e.firstCreatePass&&(eh(e,t),sy(t)&&e.queries.elementEnd(t)),gh}var GT=(t,e,n,r)=>(Si(!0),tT(e[$e],""));function PV(t,e,n,r){let i,o=e[tr],s=!o||Cc()||Ac(o,r)||Pc(n);if(Si(s),s)return tT(e[$e],"");let a=dh(o,t,e,n),u=Hk(o,r);return ih(o,r,a),i=hh(u,a),i}function OV(){GT=PV}function Pt(){return Ee()}var lo=void 0;function kV(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var FV=["en",[["a","p"],["AM","PM"],lo],[["AM","PM"],lo,lo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lo,"{1} 'at' {0}",lo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",kV],ug={};function hn(t){let e=LV(t),n=mD(e);if(n)return n;let r=e.split("-")[0];if(n=mD(r),n)return n;if(r==="en")return FV;throw new Y(701,!1)}function mD(t){return t in ug||(ug[t]=Mr.ng&&Mr.ng.common&&Mr.ng.common.locales&&Mr.ng.common.locales[t]),ug[t]}var Je=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Je||{});function LV(t){return t.toLowerCase().replace(/_/g,"-")}var Bd="en-US";var VV=Bd;function jV(t){typeof t=="string"&&(VV=t.toLowerCase().replace(/_/g,"-"))}var UV=(t,e,n)=>{};function me(t,e,n,r){let i=Ee(),o=It(),s=Nt();return WT(o,i,i[$e],s,t,e,r),me}function BV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[vd],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function WT(t,e,n,r,i,o,s){let a=Qd(r),l=t.firstCreatePass&&WF(t),h=e[In],p=GF(e),g=!0;if(r.type&3||s){let x=dn(r,e),R=s?s(x):x,L=p.length,G=s?J=>s(jn(J[r.index])):r.index,U=null;if(!s&&a&&(U=BV(t,e,i,r.index)),U!==null){let J=U.__ngLastListenerFn__||U;J.__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,g=!1}else{o=yD(r,e,h,o),UV(x,i,o);let J=n.listen(R,i,o);p.push(o,J),l&&l.push(i,G,L,L+1)}}else o=yD(r,e,h,o);let y=r.outputs,D;if(g&&y!==null&&(D=y[i])){let x=D.length;if(x)for(let R=0;R<x;R+=2){let L=D[R],G=D[R+1],we=e[L][G].subscribe(o),X=p.length;p.push(o,we),l&&l.push(i,r.index,X,-(X+1))}}}function gD(t,e,n,r){let i=Ie(null);try{return Jn(6,e,n),n(r)!==!1}catch(o){return wT(t,o),!1}finally{Jn(7,e,n),Ie(i)}}function yD(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Ti(t.index,e):e;Ly(s,5);let a=gD(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=gD(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Xe(t=1){return QO(t)}function Hy(t,e,n){return KT(t,"",e,"",n),Hy}function KT(t,e,n,r,i){let o=Ee(),s=qT(o,e,n,r);if(s!==bn){let a=It(),u=Jd();Py(a,u,o,t,s,o[$e],i,!1)}return KT}function $V(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function QT(t){let e=BO();return cy(e,it+t)}function $(t,e=""){let n=Ee(),r=It(),i=t+it,o=r.firstCreatePass?Nc(r,i,1,e,null):r.data[i],s=YT(r,n,o,e,t);n[i]=s,Xd()&&sh(r,n,s,o),Io(o,!1)}var YT=(t,e,n,r,i)=>(Si(!0),eT(e[$e],r));function HV(t,e,n,r,i){let o=e[tr],s=!o||Cc()||Pc(n)||Ac(o,i);return Si(s),s?eT(e[$e],r):dh(o,t,e,n)}function qV(){YT=HV}function et(t){return Et("",t,""),et}function Et(t,e,n){let r=Ee(),i=qT(r,t,e,n);return i!==bn&&IT(r,Eo(),i),Et}function qy(t,e,n,r,i){let o=Ee(),s=dV(o,t,e,n,r,i);return s!==bn&&IT(o,Eo(),s),qy}function qt(t,e,n){jT(e)&&(e=e());let r=Ee(),i=Sc();if(Or(r,i,e)){let o=It(),s=Jd();Py(o,s,r,t,e,r[$e],n,!1)}return qt}function Xt(t,e){let n=jT(t);return n&&t.set(e),n}function zt(t,e){let n=Ee(),r=It(),i=Nt();return WT(r,n,n[$e],i,t,e),zt}function zV(t,e,n){let r=It();if(r.firstCreatePass){let i=bi(t);Wg(n,r.data,r.blueprint,i,!0),Wg(e,r.data,r.blueprint,i,!1)}}function Wg(t,e,n,r,i){if(t=jt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Wg(t[o],e,n,r,i);else{let o=It(),s=Ee(),a=Nt(),u=Ds(t)?t:jt(t.provide),l=WD(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Ds(t)||!t.multi){let y=new vo(l,i,k),D=dg(u,e,i?h:h+g,p);D===-1?(Dg(Td(a,s),o,u),lg(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[D]=y,s[D]=y)}else{let y=dg(u,e,h+g,p),D=dg(u,e,h,h+g),x=y>=0&&n[y],R=D>=0&&n[D];if(i&&!R||!i&&!x){Dg(Td(a,s),o,u);let L=KV(i?WV:GV,n.length,i,r,l);!i&&R&&(n[D].providerFactory=L),lg(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(L),s.push(L)}else{let L=ZT(n[i?D:y],l,!i&&r);lg(o,t,y>-1?y:D,L)}!i&&r&&R&&n[D].componentProviders++}}}function lg(t,e,n,r){let i=Ds(e),o=vO(e);if(i||o){let u=(o?jt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function ZT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function dg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function GV(t,e,n,r){return Kg(this.multi,[])}function WV(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Rs(n,n[le],this.providerFactory.index,r);o=a.slice(0,s),Kg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Kg(i,o);return o}function Kg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function KV(t,e,n,r,i){let o=new vo(t,n,k);return o.multi=[],o.index=e,o.componentProviders=0,ZT(o,i,r&&!n),o}function Hn(t,e=[]){return n=>{n.providersResolver=(r,i)=>zV(r,i?i(t):t,e)}}var QV=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=qD(!1,n.type),i=r.length>0?By([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(K(Jt))})}}return t})();function je(t){Ri("NgStandalone"),t.getStandaloneInjector=e=>e.get(QV).getOrCreateStandaloneInjector(t)}function zy(t,e,n){let r=Tc()+t,i=Ee();return i[r]===bn?$y(i,r,n?e.call(n):e()):oV(i,r)}function JT(t,e,n,r){return eS(Ee(),Tc(),t,e,n,r)}function Gy(t,e,n,r,i){return tS(Ee(),Tc(),t,e,n,r,i)}function XT(t,e){let n=t[e];return n===bn?void 0:n}function eS(t,e,n,r,i,o){let s=e+n;return Or(t,s,i)?$y(t,s+1,o?r.call(o,i):r(i)):XT(t,s+1)}function tS(t,e,n,r,i,o,s){let a=e+n;return BT(t,a,i,o)?$y(t,a+2,s?r.call(s,i,o):r(i,o)):XT(t,a+2)}function ar(t,e){let n=It(),r,i=t+it;n.firstCreatePass?(r=YV(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=fo(r.type,!0)),s,a=Yt(k);try{let u=Cd(!1),l=o();return Cd(u),$V(n,Ee(),i,l),l}finally{Yt(a)}}function YV(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function nS(t,e,n){let r=t+it,i=Ee(),o=cy(i,r);return rS(i,r)?eS(i,Tc(),e,o.transform,n,o):o.transform(n)}function jr(t,e,n,r){let i=t+it,o=Ee(),s=cy(o,i);return rS(o,i)?tS(o,Tc(),e,s.transform,n,r,s):s.transform(n,r)}function rS(t,e){return t[le].data[e].pure}function iS(t,e){return MT(t,e)}var kr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},oS=new kr("18.2.8");var yh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var sS=new W("");function xi(t){return!!t&&typeof t.then=="function"}function Wy(t){return!!t&&typeof t.subscribe=="function"}var aS=new W(""),cS=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=O(aS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(xi(o))n.push(o);else if(Wy(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ls=new W("");function ZV(){ab(()=>{throw new Y(600,!1)})}function JV(t){return t.isBoundToModule}var XV=10;function e2(t,e,n){try{let r=n();return xi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var cr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(Ik),this.afterRenderManager=O(lV),this.zonelessEnabled=O(Vy),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new gt,this.afterTick=new gt,this.componentTypes=[],this.components=[],this.isStable=O(Ai).hasPendingTasks.pipe(re(n=>!n)),this._injector=O(Jt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Fd;if(!this._injector.get(cS).done){let g=!i&&UD(n),y=!1;throw new Y(405,y)}let s;i?s=n:s=this._injector.get(xs).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=JV(s)?void 0:this._injector.get(Ci),u=r||s.selector,l=s.create(xt.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(sS,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),hd(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Y(101,!1);let n=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ie(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Ns,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<XV;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)t2(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Yd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;hd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Ls,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>hd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Y(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var ad;function vh(t){ad??=new WeakMap;let e=ad.get(t);if(e)return e;let n=t.isStable.pipe(kn(r=>r)).toPromise().then(()=>{});return ad.set(t,n),t.onDestroy(()=>ad?.delete(t)),n}function t2(t,e,n,r){if(!n&&!Yd(t))return;TT(t,e,n&&!r?0:1)}var Qg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ky=(()=>{class t{compileModuleSync(n){return new qg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=BD(n),o=XC(i.declarations).reduce((s,a)=>{let u=mo(a);return u&&s.push(new _c(u)),s},[]);return new Qg(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var n2=(()=>{class t{constructor(){this.zone=O(Re),this.changeDetectionScheduler=O(Ms),this.applicationRef=O(cr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function r2({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Re(he(j({},i2()),{scheduleInRootZone:n})),[{provide:Re,useFactory:t},{provide:po,multi:!0,useFactory:()=>{let r=O(n2,{optional:!0});return()=>r.initialize()}},{provide:po,multi:!0,useFactory:()=>{let r=O(o2);return()=>{r.initialize()}}},e===!0?{provide:OT,useValue:!0}:[],{provide:kT,useValue:n??MC}]}function i2(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var o2=(()=>{class t{constructor(){this.subscription=new Ke,this.initialized=!1,this.zone=O(Re),this.pendingTasks=O(Ai)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var s2=(()=>{class t{constructor(){this.appRef=O(cr),this.taskService=O(Ai),this.ngZone=O(Re),this.zonelessEnabled=O(Vy),this.disableScheduling=O(OT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ke,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ad):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(kT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rg||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Jb:NC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ad+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function a2(){return typeof $localize<"u"&&$localize.locale||Bd}var Oc=new W("",{providedIn:"root",factory:()=>O(Oc,fe.Optional|fe.SkipSelf)||a2()});var Yg=new W("");function cd(t){return!t.moduleRef}function c2(t){let e=cd(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Re);return n.run(()=>{cd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Nr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),cd(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Yg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Yg);s.add(o),t.moduleRef.onDestroy(()=>{hd(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return e2(r,n,()=>{let o=e.get(cS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Oc,Bd);if(jV(s||Bd),cd(t)){let a=e.get(cr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return u2(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function u2(t,e){let n=t.injector.get(cr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Y(-403,!1);e.push(t)}var fd=null;function l2(t=[],e){return xt.create({name:e,providers:[{provide:Wd,useValue:"platform"},{provide:Yg,useValue:new Set([()=>fd=null])},...t]})}function d2(t=[]){if(fd)return fd;let e=l2(t);return fd=e,ZV(),h2(e),e}function h2(t){t.get(yy,null)?.forEach(n=>n())}var Ni=(()=>{class t{static{this.__NG_ELEMENT_ID__=f2}}return t})();function f2(t){return p2(Nt(),Ee(),(t&16)===16)}function p2(t,e,n){if(Dc(t)&&!n){let r=Ti(t.index,e);return new _o(r,r)}else if(t.type&175){let r=e[En];return new _o(r,e)}return null}var Zg=class{constructor(){}supports(e){return UT(e)}create(e){return new Jg(e)}},m2=(t,e)=>e,Jg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||m2}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<vD(r,i,o)?n:r,a=vD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,D=y+g;h<=D&&D<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!UT(e))throw new Y(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,rV(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Xg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new $d),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new $d),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Xg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ey=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},$d=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ey,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function vD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function _D(){return new Qy([new Zg])}var Qy=(()=>{class t{static{this.\u0275prov=q({token:t,providedIn:"root",factory:_D})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||_D()),deps:[[t,new xD,new Bt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Y(901,!1)}}return t})();function uS(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=d2(r),o=[r2({}),{provide:Ms,useExisting:s2},...n||[]],s=new jd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return c2({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var wD=!1;function g2(){wD||(wD=!0,jk(),xV(),qV(),OV(),uV(),KL(),AL(),SF())}function y2(t,e){return vh(t)}function lS(){return ln([{provide:td,useFactory:()=>{let t=!0;return id()&&(t=!!O(ks,{optional:!0})?.get(zC,null)),t&&Ri("NgHydration"),t}},{provide:po,useValue:()=>{IL(!1),id()&&O(td)&&(v2(),g2())},multi:!0},{provide:QC,useFactory:()=>id()&&O(td)},{provide:Ls,useFactory:()=>{if(id()&&O(td)){let t=O(cr),e=O(xt);return()=>{y2(t,e).then(()=>{CL(t)})}}return()=>{}},multi:!0}])}function v2(){let t=nh(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===Lk){e=n;break}if(!e)throw new Y(-507,!1)}function Pi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Vs(t,e){Ri("NgSignals");let n=ib(t);return e?.equal&&(n[Ar].equal=e.equal),n}function Dn(t){let e=Ie(null);try{return t()}finally{Ie(e)}}var vS=null;function Hr(){return vS}function _S(t){vS??=t}var Sh=class{};var en=new W(""),wS=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>O(_2),providedIn:"platform"})}}return t})();var _2=(()=>{class t extends wS{constructor(){super(),this._doc=O(en),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hr().getBaseHref(this._doc)}onPopState(n){let r=Hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Hr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function IS(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function dS(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function bo(t){return t&&t[0]!=="?"?"?"+t:t}var Us=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>O(ES),providedIn:"root"})}}return t})(),w2=new W(""),ES=(()=>{class t extends Us{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(en).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return IS(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+bo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+bo(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+bo(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(K(wS),K(w2,8))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Fc=(()=>{class t{constructor(n){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=b2(dS(hS(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+bo(r))}normalize(n){return t.stripTrailingSlash(E2(this._basePath,hS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+bo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+bo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=bo}static{this.joinWithSlash=IS}static{this.stripTrailingSlash=dS}static{this.\u0275fac=function(r){return new(r||t)(K(Us))}}static{this.\u0275prov=q({token:t,factory:()=>I2(),providedIn:"root"})}}return t})();function I2(){return new Fc(K(Us))}function E2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function hS(t){return t.replace(/\/index.html$/,"")}function b2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var bS=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(bS||{});var Gt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Gt||{}),ke=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ke||{}),fn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(fn||{}),pn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function D2(t){return hn(t)[Je.LocaleId]}function C2(t,e,n){let r=hn(t),i=[r[Je.DayPeriodsFormat],r[Je.DayPeriodsStandalone]],o=Cn(i,e);return Cn(o,n)}function T2(t,e,n){let r=hn(t),i=[r[Je.DaysFormat],r[Je.DaysStandalone]],o=Cn(i,e);return Cn(o,n)}function S2(t,e,n){let r=hn(t),i=[r[Je.MonthsFormat],r[Je.MonthsStandalone]],o=Cn(i,e);return Cn(o,n)}function A2(t,e){let r=hn(t)[Je.Eras];return Cn(r,e)}function _h(t,e){let n=hn(t);return Cn(n[Je.DateFormat],e)}function wh(t,e){let n=hn(t);return Cn(n[Je.TimeFormat],e)}function Ih(t,e){let r=hn(t)[Je.DateTimeFormat];return Cn(r,e)}function Br(t,e){let n=hn(t),r=n[Je.NumberSymbols][e];if(typeof r>"u"){if(e===pn.CurrencyDecimal)return n[Je.NumberSymbols][pn.Decimal];if(e===pn.CurrencyGroup)return n[Je.NumberSymbols][pn.Group]}return r}function R2(t,e){return hn(t)[Je.NumberFormats][e]}function DS(t){if(!t[Je.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function M2(t){let e=hn(t);return DS(e),(e[Je.ExtraData][2]||[]).map(r=>typeof r=="string"?Yy(r):[Yy(r[0]),Yy(r[1])])}function x2(t,e,n){let r=hn(t);DS(r);let i=[r[Je.ExtraData][0],r[Je.ExtraData][1]],o=Cn(i,e)||[];return Cn(o,n)||[]}function Cn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Yy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var N2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Eh={},P2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,$r=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}($r||{}),Se=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Se||{}),Te=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Te||{});function O2(t,e,n,r){let i=H2(t);e=Ur(n,e)||e;let s=[],a;for(;e;)if(a=P2.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=TS(r,u),i=$2(i,r,!0));let l="";return s.forEach(h=>{let p=U2(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Ah(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Ur(t,e){let n=D2(t);if(Eh[n]??={},Eh[n][e])return Eh[n][e];let r="";switch(e){case"shortDate":r=_h(t,fn.Short);break;case"mediumDate":r=_h(t,fn.Medium);break;case"longDate":r=_h(t,fn.Long);break;case"fullDate":r=_h(t,fn.Full);break;case"shortTime":r=wh(t,fn.Short);break;case"mediumTime":r=wh(t,fn.Medium);break;case"longTime":r=wh(t,fn.Long);break;case"fullTime":r=wh(t,fn.Full);break;case"short":let i=Ur(t,"shortTime"),o=Ur(t,"shortDate");r=bh(Ih(t,fn.Short),[i,o]);break;case"medium":let s=Ur(t,"mediumTime"),a=Ur(t,"mediumDate");r=bh(Ih(t,fn.Medium),[s,a]);break;case"long":let u=Ur(t,"longTime"),l=Ur(t,"longDate");r=bh(Ih(t,fn.Long),[u,l]);break;case"full":let h=Ur(t,"fullTime"),p=Ur(t,"fullDate");r=bh(Ih(t,fn.Full),[h,p]);break}return r&&(Eh[n][e]=r),r}function bh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function qn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function k2(t,e){return qn(t,3).substring(0,e)}function st(t,e,n=0,r=!1,i=!1){return function(o,s){let a=F2(t,o);if((n>0||a>-n)&&(a+=n),t===Se.Hours)a===0&&n===-12&&(a=12);else if(t===Se.FractionalSeconds)return k2(a,e);let u=Br(s,pn.MinusSign);return qn(a,e,u,r,i)}}function F2(t,e){switch(t){case Se.FullYear:return e.getFullYear();case Se.Month:return e.getMonth();case Se.Date:return e.getDate();case Se.Hours:return e.getHours();case Se.Minutes:return e.getMinutes();case Se.Seconds:return e.getSeconds();case Se.FractionalSeconds:return e.getMilliseconds();case Se.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ue(t,e,n=Gt.Format,r=!1){return function(i,o){return L2(i,o,t,e,n,r)}}function L2(t,e,n,r,i,o){switch(n){case Te.Months:return S2(e,i,r)[t.getMonth()];case Te.Days:return T2(e,i,r)[t.getDay()];case Te.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=M2(e),h=x2(e,i,r),p=l.findIndex(g=>{if(Array.isArray(g)){let[y,D]=g,x=s>=y.hours&&a>=y.minutes,R=s<D.hours||s===D.hours&&a<D.minutes;if(y.hours<D.hours){if(x&&R)return!0}else if(x||R)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return C2(e,i,r)[s<12?0:1];case Te.Eras:return A2(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Dh(t){return function(e,n,r){let i=-1*r,o=Br(n,pn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case $r.Short:return(i>=0?"+":"")+qn(s,2,o)+qn(Math.abs(i%60),2,o);case $r.ShortGMT:return"GMT"+(i>=0?"+":"")+qn(s,1,o);case $r.Long:return"GMT"+(i>=0?"+":"")+qn(s,2,o)+":"+qn(Math.abs(i%60),2,o);case $r.Extended:return r===0?"Z":(i>=0?"+":"")+qn(s,2,o)+":"+qn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var V2=0,Th=4;function j2(t){let e=Ah(t,V2,1).getDay();return Ah(t,0,1+(e<=Th?Th:Th+7)-e)}function CS(t){let e=t.getDay(),n=e===0?-3:Th-e;return Ah(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Zy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=CS(n),s=j2(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return qn(i,t,Br(r,pn.MinusSign))}}function Ch(t,e=!1){return function(n,r){let o=CS(n).getFullYear();return qn(o,t,Br(r,pn.MinusSign),e)}}var Jy={};function U2(t){if(Jy[t])return Jy[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ue(Te.Eras,ke.Abbreviated);break;case"GGGG":e=Ue(Te.Eras,ke.Wide);break;case"GGGGG":e=Ue(Te.Eras,ke.Narrow);break;case"y":e=st(Se.FullYear,1,0,!1,!0);break;case"yy":e=st(Se.FullYear,2,0,!0,!0);break;case"yyy":e=st(Se.FullYear,3,0,!1,!0);break;case"yyyy":e=st(Se.FullYear,4,0,!1,!0);break;case"Y":e=Ch(1);break;case"YY":e=Ch(2,!0);break;case"YYY":e=Ch(3);break;case"YYYY":e=Ch(4);break;case"M":case"L":e=st(Se.Month,1,1);break;case"MM":case"LL":e=st(Se.Month,2,1);break;case"MMM":e=Ue(Te.Months,ke.Abbreviated);break;case"MMMM":e=Ue(Te.Months,ke.Wide);break;case"MMMMM":e=Ue(Te.Months,ke.Narrow);break;case"LLL":e=Ue(Te.Months,ke.Abbreviated,Gt.Standalone);break;case"LLLL":e=Ue(Te.Months,ke.Wide,Gt.Standalone);break;case"LLLLL":e=Ue(Te.Months,ke.Narrow,Gt.Standalone);break;case"w":e=Zy(1);break;case"ww":e=Zy(2);break;case"W":e=Zy(1,!0);break;case"d":e=st(Se.Date,1);break;case"dd":e=st(Se.Date,2);break;case"c":case"cc":e=st(Se.Day,1);break;case"ccc":e=Ue(Te.Days,ke.Abbreviated,Gt.Standalone);break;case"cccc":e=Ue(Te.Days,ke.Wide,Gt.Standalone);break;case"ccccc":e=Ue(Te.Days,ke.Narrow,Gt.Standalone);break;case"cccccc":e=Ue(Te.Days,ke.Short,Gt.Standalone);break;case"E":case"EE":case"EEE":e=Ue(Te.Days,ke.Abbreviated);break;case"EEEE":e=Ue(Te.Days,ke.Wide);break;case"EEEEE":e=Ue(Te.Days,ke.Narrow);break;case"EEEEEE":e=Ue(Te.Days,ke.Short);break;case"a":case"aa":case"aaa":e=Ue(Te.DayPeriods,ke.Abbreviated);break;case"aaaa":e=Ue(Te.DayPeriods,ke.Wide);break;case"aaaaa":e=Ue(Te.DayPeriods,ke.Narrow);break;case"b":case"bb":case"bbb":e=Ue(Te.DayPeriods,ke.Abbreviated,Gt.Standalone,!0);break;case"bbbb":e=Ue(Te.DayPeriods,ke.Wide,Gt.Standalone,!0);break;case"bbbbb":e=Ue(Te.DayPeriods,ke.Narrow,Gt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ue(Te.DayPeriods,ke.Abbreviated,Gt.Format,!0);break;case"BBBB":e=Ue(Te.DayPeriods,ke.Wide,Gt.Format,!0);break;case"BBBBB":e=Ue(Te.DayPeriods,ke.Narrow,Gt.Format,!0);break;case"h":e=st(Se.Hours,1,-12);break;case"hh":e=st(Se.Hours,2,-12);break;case"H":e=st(Se.Hours,1);break;case"HH":e=st(Se.Hours,2);break;case"m":e=st(Se.Minutes,1);break;case"mm":e=st(Se.Minutes,2);break;case"s":e=st(Se.Seconds,1);break;case"ss":e=st(Se.Seconds,2);break;case"S":e=st(Se.FractionalSeconds,1);break;case"SS":e=st(Se.FractionalSeconds,2);break;case"SSS":e=st(Se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Dh($r.Short);break;case"ZZZZZ":e=Dh($r.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Dh($r.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Dh($r.Long);break;default:return null}return Jy[t]=e,e}function TS(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function B2(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function $2(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=TS(e,i);return B2(t,r*(o-i))}function H2(t){if(fS(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Ah(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(N2))return q2(r)}let e=new Date(t);if(!fS(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function q2(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function fS(t){return t instanceof Date&&!isNaN(t.valueOf())}var z2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,pS=22,Rh=".",kc="0",G2=";",W2=",",Xy="#";function K2(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=Br(n,pn.Infinity);else{let l=J2(t);s&&(l=Z2(l));let h=e.minInt,p=e.minFrac,g=e.maxFrac;if(o){let G=o.match(z2);if(G===null)throw new Error(`${o} is not a valid digit info`);let U=G[1],J=G[3],we=G[5];U!=null&&(h=ev(U)),J!=null&&(p=ev(J)),we!=null?g=ev(we):J!=null&&p>g&&(g=p)}X2(l,p,g);let y=l.digits,D=l.integerLen,x=l.exponent,R=[];for(u=y.every(G=>!G);D<h;D++)y.unshift(0);for(;D<0;D++)y.unshift(0);D>0?R=y.splice(D,y.length):(R=y,y=[0]);let L=[];for(y.length>=e.lgSize&&L.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)L.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&L.unshift(y.join("")),a=L.join(Br(n,r)),R.length&&(a+=Br(n,i)+R.join("")),x&&(a+=Br(n,pn.Exponential)+"+"+x)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Q2(t,e,n){let r=R2(e,bS.Decimal),i=Y2(r,Br(e,pn.MinusSign));return K2(t,i,e,pn.Group,pn.Decimal,n)}function Y2(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(G2),i=r[0],o=r[1],s=i.indexOf(Rh)!==-1?i.split(Rh):[i.substring(0,i.lastIndexOf(kc)+1),i.substring(i.lastIndexOf(kc)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(Xy));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===kc?n.minFrac=n.maxFrac=h+1:p===Xy?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(W2);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Xy);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function Z2(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function J2(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(Rh))>-1&&(e=e.replace(Rh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===kc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===kc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>pS&&(r=r.splice(0,pS-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function X2(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,g,y,D){return g=g+p,D[y]=g<10?g:g-10,u&&(D[y]===0&&y>=l?D.pop():u=!1),g>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function ev(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Mh(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var tv=/\s+/,mS=[],SS=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=mS,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(tv):mS}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(tv):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(tv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(k($n),k(sr))}}static{this.\u0275dir=Le({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var nv=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ur=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new nv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),gS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);gS(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(k(Fs),k(lh),k(Qy))}}static{this.\u0275dir=Le({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function gS(t,e){t.context.$implicit=e.item}var lr=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new rv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){yS("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){yS("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(k(Fs),k(lh))}}static{this.\u0275dir=Le({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),rv=class{constructor(){this.$implicit=null,this.ngIf=null}};function yS(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ut(e)}'.`)}function sv(t,e){return new Y(2100,!1)}var iv=class{createSubscription(e,n){return Dn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Dn(()=>e.unsubscribe())}},ov=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},ej=new ov,tj=new iv,AS=(()=>{class t{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(xi(n))return ej;if(Wy(n))return tj;throw sv(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||t)(k(Ni,16))}}static{this.\u0275pipe=Gd({name:"async",type:t,pure:!1,standalone:!0})}}return t})();var nj="mediumDate",rj=new W(""),ij=new W(""),Bs=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??nj,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return O2(n,s,o||this.locale,a)}catch(s){throw sv(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(k(Oc,16),k(rj,24),k(ij,24))}}static{this.\u0275pipe=Gd({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var xh=(()=>{class t{constructor(n){this._locale=n}transform(n,r,i){if(!oj(n))return null;i||=this._locale;try{let o=sj(n);return Q2(o,i,r)}catch(o){throw sv(t,o.message)}}static{this.\u0275fac=function(r){return new(r||t)(k(Oc,16))}}static{this.\u0275pipe=Gd({name:"number",type:t,pure:!0,standalone:!0})}}return t})();function oj(t){return!(t==null||t===""||t!==t)}function sj(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var bt=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Lr({type:t})}static{this.\u0275inj=Fr({})}}return t})(),av="browser",aj="server";function RS(t){return t===av}function Lc(t){return t===aj}var js=class{};var jc=class{},Oh=class{},dr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var uv=class{encodeKey(e){return MS(e)}encodeValue(e){return MS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function cj(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var uj=/%(\d[a-f0-9])/gi,lj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function MS(t){return encodeURIComponent(t).replace(uj,(e,n)=>lj[n]??e)}function Nh(t){return`${t}`}var ki=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new uv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=cj(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Nh):[Nh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Nh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Nh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var lv=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function dj(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function xS(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function NS(t){return typeof Blob<"u"&&t instanceof Blob}function PS(t){return typeof FormData<"u"&&t instanceof FormData}function hj(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Vc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(dj(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new dr,this.context??=new lv,!this.params)this.params=new ki,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||xS(this.body)||NS(this.body)||PS(this.body)||hj(this.body)?this.body:this.body instanceof ki?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||PS(this.body)?null:NS(this.body)?this.body.type||null:xS(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ki?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),h)),new t(n,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},Fi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Fi||{}),Uc=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new dr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},kh=class t extends Uc{constructor(e={}){super(e),this.type=Fi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Do=class t extends Uc{constructor(e={}){super(e),this.type=Fi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Oi=class extends Uc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},qS=200,fj=204;function cv(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var fv=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Vc)o=n;else{let u;i.headers instanceof dr?u=i.headers:u=new dr(i.headers);let l;i.params&&(i.params instanceof ki?l=i.params:l=new ki({fromObject:i.params})),o=new Vc(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ee(o).pipe(vi(u=>this.handler.handle(u)));if(n instanceof Vc||i.observe==="events")return s;let a=s.pipe(Qt(u=>u instanceof Do));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(re(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(re(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(re(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(re(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ki().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,cv(i,r))}post(n,r,i={}){return this.request("POST",n,cv(i,r))}put(n,r,i={}){return this.request("PUT",n,cv(i,r))}static{this.\u0275fac=function(r){return new(r||t)(K(jc))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),pj=/^\)\]\}',?\n/,mj="X-Request-URL";function OS(t){if(t.url)return t.url;let e=mj.toLocaleLowerCase();return t.headers.get(e)}var gj=(()=>{class t{constructor(){this.fetchImpl=O(dv,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=O(Re)}handle(n){return new ue(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(hv,o=>r.error(new Oi({error:o}))),()=>i.abort()})}doRequest(n,r,i){return _(this,null,function*(){let o=this.createRequestInit(n),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,j({signal:r},o)));yj(y),i.next({type:Fi.Sent}),s=yield y}catch(y){i.error(new Oi({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new dr(s.headers),u=s.statusText,l=OS(s)??n.urlWithParams,h=s.status,p=null;if(n.reportProgress&&i.next(new kh({headers:a,status:h,statusText:u,url:l})),s.body){let y=s.headers.get("content-length"),D=[],x=s.body.getReader(),R=0,L,G,U=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){let{done:we,value:X}=yield x.read();if(we)break;if(D.push(X),R+=X.length,n.reportProgress){G=n.responseType==="text"?(G??"")+(L??=new TextDecoder).decode(X,{stream:!0}):void 0;let E=()=>i.next({type:Fi.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:G});U?U.run(E):E()}}}));let J=this.concatChunks(D,R);try{let we=s.headers.get("Content-Type")??"";p=this.parseBody(n,J,we)}catch(we){i.error(new Oi({error:we,headers:new dr(s.headers),status:s.status,statusText:s.statusText,url:OS(s)??n.urlWithParams}));return}}h===0&&(h=p?qS:0),h>=200&&h<300?(i.next(new Do({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Oi({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(pj,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),dv=class{};function hv(){}function yj(t){t.then(hv,hv)}function vj(t,e){return e(t)}function _j(t,e,n){return(r,i)=>Un(n,()=>e(r,o=>t(o,i)))}var zS=new W(""),GS=new W(""),wj=new W("",{providedIn:"root",factory:()=>!0});var kS=(()=>{class t extends jc{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=O(Ai),this.contributeToStability=O(wj)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(zS),...this.injector.get(GS,[])]));this.chain=r.reduceRight((i,o)=>_j(i,o,this.injector),vj)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(uo(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(K(Oh),K(Jt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();var Ij=/^\)\]\}',?\n/;function Ej(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var FS=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Y(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?xe(r.\u0275loadImpl()):ee(null)).pipe(sn(()=>new ue(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((x,R)=>s.setRequestHeader(x,R.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let x=n.detectContentTypeHeader();x!==null&&s.setRequestHeader("Content-Type",x)}if(n.responseType){let x=n.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let x=s.statusText||"OK",R=new dr(s.getAllResponseHeaders()),L=Ej(s)||n.url;return u=new kh({headers:R,status:s.status,statusText:x,url:L}),u},h=()=>{let{headers:x,status:R,statusText:L,url:G}=l(),U=null;R!==fj&&(U=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=U?qS:0);let J=R>=200&&R<300;if(n.responseType==="json"&&typeof U=="string"){let we=U;U=U.replace(Ij,"");try{U=U!==""?JSON.parse(U):null}catch(X){U=we,J&&(J=!1,U={error:X,text:U})}}J?(o.next(new Do({body:U,headers:x,status:R,statusText:L,url:G||void 0})),o.complete()):o.error(new Oi({error:U,headers:x,status:R,statusText:L,url:G||void 0}))},p=x=>{let{url:R}=l(),L=new Oi({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(L)},g=!1,y=x=>{g||(o.next(l()),g=!0);let R={type:Fi.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(R.total=x.total),n.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},D=x=>{let R={type:Fi.UploadProgress,loaded:x.loaded};x.lengthComputable&&(R.total=x.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),o.next({type:Fi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(K(js))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),WS=new W(""),bj="XSRF-TOKEN",Dj=new W("",{providedIn:"root",factory:()=>bj}),Cj="X-XSRF-TOKEN",Tj=new W("",{providedIn:"root",factory:()=>Cj}),Fh=class{},Sj=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Mh(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(K(en),K($t),K(Dj))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();function Aj(t,e){let n=t.url.toLowerCase();if(!O(WS)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=O(Fh).getToken(),i=O(Tj);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function KS(...t){let e=[fv,FS,kS,{provide:jc,useExisting:kS},{provide:Oh,useFactory:()=>O(gj,{optional:!0})??O(FS)},{provide:zS,useValue:Aj,multi:!0},{provide:WS,useValue:!0},{provide:Fh,useClass:Sj}];for(let n of t)e.push(...n.\u0275providers);return ln(e)}var Rj=new W(""),LS="b",VS="h",jS="s",US="st",BS="u",$S="rt",Ph=new W(""),Mj=["GET","HEAD"];function xj(t,e){let y=O(Ph),{isCacheActive:n}=y,r=QE(y,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!Mj.includes(o)||!r.includeRequestsWithAuthHeaders&&Nj(t)||r.filter?.(t)===!1)return e(t);let s=O(ks),a=O(Rj,{optional:!0}),u=Lc(O($t));if(a&&!u)throw new Y(2803,!1);let l=u&&a?Fj(t.url,a):t.url,h=Oj(t,l),p=s.get(h,null),g=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(g=i.includeHeaders),p){let{[LS]:D,[$S]:x,[VS]:R,[jS]:L,[US]:G,[BS]:U}=p,J=D;switch(x){case"arraybuffer":J=new TextEncoder().encode(D).buffer;break;case"blob":J=new Blob([D]);break}let we=new dr(R);return ee(new Do({body:J,headers:we,status:L,statusText:G,url:U}))}return e(t).pipe(rt(D=>{D instanceof Do&&u&&s.set(h,{[LS]:D.body,[VS]:Pj(D.headers,g),[jS]:D.status,[US]:D.statusText,[BS]:l,[$S]:t.responseType})}))}function Nj(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function Pj(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function HS(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function Oj(t,e){let{params:n,method:r,responseType:i}=t,o=HS(n),s=t.serializeBody();s instanceof URLSearchParams?s=HS(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=kj(a);return u}function kj(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function QS(t){return[{provide:Ph,useFactory:()=>(Ri("NgHttpTransferCache"),j({isCacheActive:!0},t))},{provide:GS,useValue:xj,multi:!0,deps:[ks,Ph]},{provide:Ls,multi:!0,useFactory:()=>{let e=O(cr),n=O(Ph);return()=>{vh(e).then(()=>{n.isCacheActive=!1})}}}]}function Fj(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var gv=class extends Sh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},yv=class t extends gv{static makeCurrent(){_S(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Vj();return n==null?null:jj(n)}resetBaseElement(){Bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Mh(document.cookie,e)}},Bc=null;function Vj(){return Bc=Bc||document.querySelector("base"),Bc?Bc.getAttribute("href"):null}function jj(t){return new URL(t,document.baseURI).pathname}var Uj=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),vv=new W(""),XS=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Y(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(K(vv),K(Re))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),Lh=class{constructor(e){this._doc=e}},pv="ng-app-id",eA=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Lc(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${pv}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(pv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(pv,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(K(en),K(rh),K(vy,8),K($t))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),mv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Iv=/%COMP%/g,tA="%COMP%",Bj=`_nghost-${tA}`,$j=`_ngcontent-${tA}`,Hj=!0,qj=new W("",{providedIn:"root",factory:()=>Hj});function zj(t){return $j.replace(Iv,t)}function Gj(t){return Bj.replace(Iv,t)}function nA(t,e){return e.map(n=>n.replace(Iv,t))}var YS=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Lc(a),this.defaultRenderer=new $c(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===er.ShadowDom&&(r=he(j({},r),{encapsulation:er.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Vh?i.applyToHost(n):i instanceof Hc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case er.Emulated:o=new Vh(u,l,r,this.appId,h,s,a,p);break;case er.ShadowDom:return new _v(u,l,n,r,s,a,this.nonce,p);default:o=new Hc(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(K(XS),K(eA),K(rh),K(qj),K(en),K($t),K(Re),K(vy))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),$c=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(mv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ZS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ZS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Y(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=mv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=mv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Pr.DashCase|Pr.Important)?e.style.setProperty(n,r,i&Pr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Pr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Hr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ZS(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var _v=class extends $c{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=nA(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Hc=class extends $c{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?nA(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Vh=class extends Hc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=zj(l),this.hostAttr=Gj(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Wj=(()=>{class t extends Lh{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(K(en))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})(),JS=["alt","control","meta","shift"],Kj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Yj=(()=>{class t extends Lh{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),JS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=Kj[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),JS.forEach(s=>{if(s!==i){let a=Qj[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(K(en))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac})}}return t})();function rA(t,e){return uS(j({rootComponent:t},Zj(e)))}function Zj(t){return{appProviders:[...nU,...t?.providers??[]],platformProviders:tU}}function Jj(){yv.makeCurrent()}function Xj(){return new Nr}function eU(){return UC(document),document}var tU=[{provide:$t,useValue:av},{provide:yy,useValue:Jj,multi:!0},{provide:en,useFactory:eU,deps:[]}];var nU=[{provide:Wd,useValue:"root"},{provide:Nr,useFactory:Xj,deps:[]},{provide:vv,useClass:Wj,multi:!0,deps:[en,Re,$t]},{provide:vv,useClass:Yj,multi:!0,deps:[en]},YS,eA,XS,{provide:Ns,useExisting:YS},{provide:js,useClass:Uj,deps:[]},[]];var iA=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(K(en))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var wv=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(wv||{});function oA(...t){let e=[],n=new Set,r=n.has(wv.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return ln([[],lS(),n.has(wv.NoHttpTransferCache)||r?[]:QS({}),e])}var de="primary",ou=Symbol("RouteTitle"),Tv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ws(t){return new Tv(t)}function iU(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function oU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hr(t[n],e[n]))return!1;return!0}function hr(t,e){let n=t?Sv(t):void 0,r=e?Sv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fA(t[i],e[i]))return!1;return!0}function Sv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function fA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function pA(t){return t.length>0?t[t.length-1]:null}function Vi(t){return qm(t)?t:xi(t)?xe(Promise.resolve(t)):ee(t)}var sU={exact:gA,subset:yA},mA={exact:aU,subset:cU,ignored:()=>!0};function sA(t,e,n){return sU[n.paths](t.root,e.root,n.matrixParams)&&mA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function aU(t,e){return hr(t,e)}function gA(t,e,n){if(!To(t.segments,e.segments)||!Bh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!gA(t.children[r],e.children[r],n))return!1;return!0}function cU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fA(t[n],e[n]))}function yA(t,e,n){return vA(t,e,e.segments,n)}function vA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!To(i,n)||e.hasChildren()||!Bh(i,n,r))}else if(t.segments.length===n.length){if(!To(t.segments,n)||!Bh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!yA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!To(t.segments,i)||!Bh(t.segments,i,r)||!t.children[de]?!1:vA(t.children[de],e,o,r)}}function Bh(t,e,n){return e.every((r,i)=>mA[n](t[i].parameters,r.parameters))}var Gr=class{constructor(e=new Ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ws(this.queryParams),this._queryParamMap}toString(){return dU.serialize(this)}},Ae=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $h(this)}},Co=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ws(this.parameters),this._parameterMap}toString(){return wA(this)}};function uU(t,e){return To(t,e)&&t.every((n,r)=>hr(n.parameters,e[r].parameters))}function To(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function lU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===de&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==de&&(n=n.concat(e(i,r)))}),n}var Xv=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>new Yc,providedIn:"root"})}}return t})(),Yc=class{parse(e){let n=new Rv(e);return new Gr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${qc(e.root,!0)}`,r=pU(e.queryParams),i=typeof e.fragment=="string"?`#${hU(e.fragment)}`:"";return`${n}${r}${i}`}},dU=new Yc;function $h(t){return t.segments.map(e=>wA(e)).join("/")}function qc(t,e){if(!t.hasChildren())return $h(t);if(e){let n=t.children[de]?qc(t.children[de],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==de&&r.push(`${i}:${qc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=lU(t,(r,i)=>i===de?[qc(t.children[de],!1)]:[`${i}:${qc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[de]!=null?`${$h(t)}/${n[0]}`:`${$h(t)}/(${n.join("//")})`}}function _A(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jh(t){return _A(t).replace(/%3B/gi,";")}function hU(t){return encodeURI(t)}function Av(t){return _A(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hh(t){return decodeURIComponent(t)}function aA(t){return Hh(t.replace(/\+/g,"%20"))}function wA(t){return`${Av(t.path)}${fU(t.parameters)}`}function fU(t){return Object.entries(t).map(([e,n])=>`;${Av(e)}=${Av(n)}`).join("")}function pU(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${jh(n)}=${jh(i)}`).join("&"):`${jh(n)}=${jh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var mU=/^[^\/()?;#]+/;function Ev(t){let e=t.match(mU);return e?e[0]:""}var gU=/^[^\/()?;=#]+/;function yU(t){let e=t.match(gU);return e?e[0]:""}var vU=/^[^=?&#]+/;function _U(t){let e=t.match(vU);return e?e[0]:""}var wU=/^[^&#]+/;function IU(t){let e=t.match(wU);return e?e[0]:""}var Rv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[de]=new Ae(e,n)),r}parseSegment(){let e=Ev(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(e),new Co(Hh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=yU(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ev(this.remaining);i&&(r=i,this.capture(r))}e[Hh(n)]=Hh(r)}parseQueryParam(e){let n=_U(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=IU(this.remaining);s&&(r=s,this.capture(r))}let i=aA(n),o=aA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ev(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Y(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=de);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[de]:new Ae([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Y(4011,!1)}};function IA(t){return t.segments.length>0?new Ae([],{[de]:t}):t}function EA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=EA(i);if(r===de&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ae(t.segments,e);return EU(n)}function EU(t){if(t.numberOfChildren===1&&t.children[de]){let e=t.children[de];return new Ae(t.segments.concat(e.segments),e.children)}return t}function So(t){return t instanceof Gr}function bU(t,e,n=null,r=null){let i=bA(t);return DA(i,e,n,r)}function bA(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ae(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=IA(r);return e??i}function DA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return bv(i,i,i,n,r);let o=DU(e);if(o.toRoot())return bv(i,i,new Ae([],{}),n,r);let s=CU(o,i,t),a=s.processChildren?Wc(s.segmentGroup,s.index,o.commands):TA(s.segmentGroup,s.index,o.commands);return bv(i,s.segmentGroup,a,n,r)}function qh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Zc(t){return typeof t=="object"&&t!=null&&t.outlets}function bv(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=CA(t,e,n);let a=IA(EA(s));return new Gr(a,o,i)}function CA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=CA(o,e,n)}),new Ae(t.segments,r)}var zh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&qh(r[0]))throw new Y(4003,!1);let i=r.find(Zc);if(i&&i!==pA(r))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DU(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new zh(n,e,r)}var qs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function CU(t,e,n){if(t.isAbsolute)return new qs(e,!0,0);if(!n)return new qs(e,!1,NaN);if(n.parent===null)return new qs(n,!0,0);let r=qh(t.commands[0])?0:1,i=n.segments.length-1+r;return TU(n,i,t.numberOfDoubleDots)}function TU(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Y(4005,!1);i=r.segments.length}return new qs(r,!1,i-o)}function SU(t){return Zc(t[0])?t[0].outlets:{[de]:t}}function TA(t,e,n){if(t??=new Ae([],{}),t.segments.length===0&&t.hasChildren())return Wc(t,e,n);let r=AU(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ae(t.segments.slice(0,r.pathIndex),{});return o.children[de]=new Ae(t.segments.slice(r.pathIndex),t.children),Wc(o,0,i)}else return r.match&&i.length===0?new Ae(t.segments,{}):r.match&&!t.hasChildren()?Mv(t,e,n):r.match?Wc(t,0,i):Mv(t,e,n)}function Wc(t,e,n){if(n.length===0)return new Ae(t.segments,{});{let r=SU(n),i={};if(Object.keys(r).some(o=>o!==de)&&t.children[de]&&t.numberOfChildren===1&&t.children[de].segments.length===0){let o=Wc(t.children[de],e,n);return new Ae(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ae(t.segments,i)}}function AU(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Zc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!uA(u,l,s))return o;r+=2}else{if(!uA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Mv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Zc(o)){let u=RU(o.outlets);return new Ae(r,u)}if(i===0&&qh(n[0])){let u=t.segments[e];r.push(new Co(u.path,cA(n[0]))),i++;continue}let s=Zc(o)?o.outlets[de]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&qh(a)?(r.push(new Co(s,cA(a))),i+=2):(r.push(new Co(s,{})),i++)}return new Ae(r,{})}function RU(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Mv(new Ae([],{}),0,r))}),e}function cA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function uA(t,e,n){return t==n.path&&hr(e,n.parameters)}var Kc="imperative",Dt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Dt||{}),Tn=class{constructor(e,n){this.id=e,this.url=n}},Jc=class extends Tn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Dt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Li=class extends Tn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Dt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},gn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(gn||{}),xv=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(xv||{}),zr=class extends Tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Dt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ao=class extends Tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Dt.NavigationSkipped}},Xc=class extends Tn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Dt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gh=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Dt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nv=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Dt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pv=class extends Tn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Dt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ov=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Dt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kv=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Dt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fv=class{constructor(e){this.route=e,this.type=Dt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lv=class{constructor(e){this.route=e,this.type=Dt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vv=class{constructor(e){this.snapshot=e,this.type=Dt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jv=class{constructor(e){this.snapshot=e,this.type=Dt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uv=class{constructor(e){this.snapshot=e,this.type=Dt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bv=class{constructor(e){this.snapshot=e,this.type=Dt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var eu=class{},Ks=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function MU(t,e){return t.providers&&!t._injector&&(t._injector=By(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zn(t){return t.outlet||de}function xU(t,e){let n=t.filter(r=>zn(r)===e);return n.push(...t.filter(r=>zn(r)!==e)),n}function su(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var $v=class{get injector(){return su(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Xh(this.rootInjector),this.attachRef=null}},Xh=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new $v(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(K(Jt))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Wh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Hv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Hv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=qv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qv(e,this._root).map(n=>n.value)}};function Hv(t,e){if(t===e.value)return e;for(let n of e.children){let r=Hv(t,n);if(r)return r}return null}function qv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=qv(t,n);if(r.length)return r.unshift(e),r}return[]}var mn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Hs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Kh=class extends Wh{constructor(e,n){super(e),this.snapshot=n,e_(this,e)}toString(){return this.snapshot.toString()}};function SA(t){let e=NU(t),n=new Pe([new Co("",{})]),r=new Pe({}),i=new Pe({}),o=new Pe({}),s=new Pe(""),a=new Gn(n,r,o,s,i,de,t,e.root);return a.snapshot=e.root,new Kh(new mn(a,[]),e)}function NU(t){let e={},n={},r={},i="",o=new zs([],e,r,i,n,de,t,null,{});return new Yh("",new mn(o,[]))}var Gn=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[ou]))??ee(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>Ws(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>Ws(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&RA(i)&&(r.resolve[ou]=i.title),r}var zs=class{get title(){return this.data?.[ou]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ws(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ws(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Yh=class extends Wh{constructor(e,n){super(n),this.url=e,e_(this,n)}toString(){return AA(this._root)}};function e_(t,e){e.value._routerState=t,e.children.forEach(n=>e_(t,n))}function AA(t){let e=t.children.length>0?` { ${t.children.map(AA).join(", ")} } `:"";return`${t.value}${e}`}function Dv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),hr(e.params,n.params)||t.paramsSubject.next(n.params),oU(e.url,n.url)||t.urlSubject.next(n.url),hr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zv(t,e){let n=hr(t.params,e.params)&&uU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||zv(t.parent,e.parent))}function RA(t){return typeof t.title=="string"||t.title===null}var t_=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=O(Xh),this.location=O(Fs),this.changeDetector=O(Ni),this.inputBinder=O(n_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Gv(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Le({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ir]})}}return t})(),Gv=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Gn?this.route:e===Xh?this.childContexts:this.parent.get(e,n)}},n_=new W("");function PU(t,e,n){let r=tu(t,e._root,n?n._root:void 0);return new Kh(r,e)}function tu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=OU(t,e,n);return new mn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>tu(t,a)),s}}let r=kU(e.value),i=e.children.map(o=>tu(t,o));return new mn(r,i)}}function OU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return tu(t,r,i);return tu(t,r)})}function kU(t){return new Gn(new Pe(t.url),new Pe(t.params),new Pe(t.queryParams),new Pe(t.fragment),new Pe(t.data),t.outlet,t.component,t)}var nu=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},MA="ngNavigationCancelingError";function Zh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=So(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=xA(!1,gn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function xA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[MA]=!0,n.cancellationCode=e,n}function FU(t){return NA(t)&&So(t.url)}function NA(t){return!!t&&t[MA]}var LU=(t,e,n,r)=>re(i=>(new Wv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Wv=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Hs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Hs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Bv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new jv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Dv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Jh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Gs=class{constructor(e,n){this.component=e,this.route=n}};function VU(t,e,n){let r=t._root,i=e?e._root:null;return zc(r,i,n,[r.value])}function jU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ys(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!DD(t)?t:e.get(t):r}function zc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Hs(e);return t.children.forEach(s=>{UU(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qc(a,n.getContext(s),i)),i}function UU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=BU(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Jh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?zc(t,e,a?a.children:null,r,i):zc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gs(a.outlet.component,s))}else s&&Qc(e,a,i),i.canActivateChecks.push(new Jh(r)),o.component?zc(t,null,a?a.children:null,r,i):zc(t,null,n,r,i);return i}function BU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!To(t.url,e.url);case"pathParamsOrQueryParamsChange":return!To(t.url,e.url)||!hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zv(t,e)||!hr(t.queryParams,e.queryParams);case"paramsChange":default:return!zv(t,e)}}function Qc(t,e,n){let r=Hs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Qc(s,e.children.getContext(o),n):Qc(s,null,n):Qc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Gs(e.outlet.component,i)):n.canDeactivateChecks.push(new Gs(null,i)):n.canDeactivateChecks.push(new Gs(null,i))}function au(t){return typeof t=="function"}function $U(t){return typeof t=="boolean"}function HU(t){return t&&au(t.canLoad)}function qU(t){return t&&au(t.canActivate)}function zU(t){return t&&au(t.canActivateChild)}function GU(t){return t&&au(t.canDeactivate)}function WU(t){return t&&au(t.canMatch)}function PA(t){return t instanceof Rr||t?.name==="EmptyError"}var Uh=Symbol("INITIAL_VALUE");function Qs(){return sn(t=>Ql(t.map(e=>e.pipe(On(1),Xl(Uh)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===Uh)return Uh;if(n===!1||KU(n))return n}return!0}),Qt(e=>e!==Uh),On(1)))}function KU(t){return So(t)||t instanceof nu}function QU(t,e){return ht(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ee(he(j({},n),{guardsResult:!0})):YU(s,r,i,t).pipe(ht(a=>a&&$U(a)?ZU(r,o,t,e):ee(a)),re(a=>he(j({},n),{guardsResult:a})))})}function YU(t,e,n,r){return xe(t).pipe(ht(i=>nB(i.component,i.route,n,e,r)),kn(i=>i!==!0,!0))}function ZU(t,e,n,r){return xe(e).pipe(vi(i=>ms(XU(i.route.parent,r),JU(i.route,r),tB(t,i.path,n),eB(t,i.route,n))),kn(i=>i!==!0,!0))}function JU(t,e){return t!==null&&e&&e(new Uv(t)),ee(!0)}function XU(t,e){return t!==null&&e&&e(new Vv(t)),ee(!0)}function eB(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(o=>Yl(()=>{let s=su(e)??n,a=Ys(o,s),u=qU(a)?a.canActivate(e,t):Un(s,()=>a(e,t));return Vi(u).pipe(kn())}));return ee(i).pipe(Qs())}function tB(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>jU(s)).filter(s=>s!==null).map(s=>Yl(()=>{let a=s.guards.map(u=>{let l=su(s.node)??n,h=Ys(u,l),p=zU(h)?h.canActivateChild(r,t):Un(l,()=>h(r,t));return Vi(p).pipe(kn())});return ee(a).pipe(Qs())}));return ee(o).pipe(Qs())}function nB(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(a=>{let u=su(e)??i,l=Ys(a,u),h=GU(l)?l.canDeactivate(t,e,n,r):Un(u,()=>l(t,e,n,r));return Vi(h).pipe(kn())});return ee(s).pipe(Qs())}function rB(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let o=i.map(s=>{let a=Ys(s,t),u=HU(a)?a.canLoad(e,n):Un(t,()=>a(e,n));return Vi(u)});return ee(o).pipe(Qs(),OA(r))}function OA(t){return Ml(rt(e=>{if(typeof e!="boolean")throw Zh(t,e)}),re(e=>e===!0))}function iB(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let o=i.map(s=>{let a=Ys(s,t),u=WU(a)?a.canMatch(e,n):Un(t,()=>a(e,n));return Vi(u)});return ee(o).pipe(Qs(),OA(r))}var ru=class{constructor(e){this.segmentGroup=e||null}},iu=class extends Error{constructor(e){super(),this.urlTree=e}};function $s(t){return ps(new ru(t))}function oB(t){return ps(new Y(4e3,!1))}function sB(t){return ps(xA(!1,gn.GuardRejected))}var Kv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[de])return oB(`${e.redirectTo}`);i=i.children[de]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,params:y,data:D,title:x}=i,R=Un(o,()=>a({params:y,data:D,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:g,title:x}));if(R instanceof Gr)throw new iu(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new iu(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Gr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ae(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Y(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Qv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function aB(t,e,n,r,i){let o=kA(t,e,n);return o.matched?(r=MU(e,r),iB(r,e,n,i).pipe(re(s=>s===!0?o:j({},Qv)))):ee(o)}function kA(t,e,n){if(e.path==="**")return cB(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},Qv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iU)(n,t,e);if(!i)return j({},Qv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function cB(t){return{matched:!0,parameters:t.length>0?pA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function lA(t,e,n,r){return n.length>0&&dB(t,n,r)?{segmentGroup:new Ae(e,lB(r,new Ae(n,t.children))),slicedSegments:[]}:n.length===0&&hB(t,n,r)?{segmentGroup:new Ae(t.segments,uB(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ae(t.segments,t.children),slicedSegments:n}}function uB(t,e,n,r){let i={};for(let o of n)if(ef(t,e,o)&&!r[zn(o)]){let s=new Ae([],{});i[zn(o)]=s}return j(j({},r),i)}function lB(t,e){let n={};n[de]=e;for(let r of t)if(r.path===""&&zn(r)!==de){let i=new Ae([],{});n[zn(r)]=i}return n}function dB(t,e,n){return n.some(r=>ef(t,e,r)&&zn(r)!==de)}function hB(t,e,n){return n.some(r=>ef(t,e,r))}function ef(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function fB(t,e,n){return e.length===0&&!t.children[n]}var Yv=class{};function pB(t,e,n,r,i,o,s="emptyOnly"){return new Zv(t,e,n,r,i,s,o).recognize()}var mB=31,Zv=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Kv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Y(4002,`'${e.segmentGroup}'`)}recognize(){let e=lA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:n,rootSnapshot:r})=>{let i=new mn(r,n),o=new Yh("",i),s=bU(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new zs([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),de,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,de,n).pipe(re(r=>({children:r,rootSnapshot:n})),yi(r=>{if(r instanceof iu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ru?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(re(s=>s instanceof mn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return xe(o).pipe(vi(s=>{let a=r.children[s],u=xU(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Jl((s,a)=>(s.push(...a),s)),_i(null),Km(),ht(s=>{if(s===null)return $s(r);let a=FA(s);return gB(a),ee(a)}))}processSegment(e,n,r,i,o,s,a){return xe(n).pipe(vi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(yi(l=>{if(l instanceof ru)return ee(null);throw l}))),kn(u=>!!u),yi(u=>{if(PA(u))return fB(r,i,o)?ee(new Yv):$s(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return zn(r)!==s&&(s===de||!ef(i,o,r))?$s(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):$s(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=kA(n,i,o);if(!u)return $s(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>mB&&(this.allowRedirects=!1));let y=new zs(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,dA(i),zn(i),i.component??i._loadedComponent??null,i,hA(i)),D=Qh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(D.params),y.data=Object.freeze(D.data);let x=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,x).pipe(ht(R=>this.processSegment(e,r,n,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=aB(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(sn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(sn(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,D=new zs(g,p,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,dA(r),zn(r),r.component??r._loadedComponent??null,r,hA(r)),x=Qh(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(x.params),D.data=Object.freeze(x.data);let{segmentGroup:R,slicedSegments:L}=lA(n,g,y,l);if(L.length===0&&R.hasChildren())return this.processChildren(h,l,R,D).pipe(re(U=>new mn(D,U)));if(l.length===0&&L.length===0)return ee(new mn(D,[]));let G=zn(r)===o;return this.processSegment(h,l,R,L,G?de:o,!0,D).pipe(re(U=>new mn(D,U instanceof mn?[U]:[])))}))):$s(n)))}getChildConfig(e,n,r){return n.children?ee({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ee({routes:n._loadedRoutes,injector:n._loadedInjector}):rB(e,n,r,this.urlSerializer).pipe(ht(i=>i?this.configLoader.loadChildren(e,n).pipe(rt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):sB(n))):ee({routes:[],injector:e})}};function gB(t){t.sort((e,n)=>e.value.outlet===de?-1:n.value.outlet===de?1:e.value.outlet.localeCompare(n.value.outlet))}function yB(t){let e=t.value.routeConfig;return e&&e.path===""}function FA(t){let e=[],n=new Set;for(let r of t){if(!yB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=FA(r.children);e.push(new mn(r.value,i))}return e.filter(r=>!n.has(r))}function dA(t){return t.data||{}}function hA(t){return t.resolve||{}}function vB(t,e,n,r,i,o){return ht(s=>pB(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:u})=>he(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function _B(t,e){return ht(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of LA(u))s.add(l);let a=0;return xe(s).pipe(vi(u=>o.has(u)?wB(u,r,t,e):(u.data=Qh(u,u.parent,t).resolve,ee(void 0))),rt(()=>a++),gs(1),ht(u=>a===s.size?ee(n):on))})}function LA(t){let e=t.children.map(n=>LA(n)).flat();return[t,...e]}function wB(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!RA(i)&&(o[ou]=i.title),IB(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=Qh(t,t.parent,n).resolve,null)))}function IB(t,e,n,r){let i=Sv(t);if(i.length===0)return ee({});let o={};return xe(i).pipe(ht(s=>EB(t[s],e,n,r).pipe(kn(),rt(a=>{if(a instanceof nu)throw Zh(new Yc,a);o[s]=a}))),gs(1),Wm(o),yi(s=>PA(s)?on:ps(s)))}function EB(t,e,n,r){let i=su(e)??r,o=Ys(t,i),s=o.resolve?o.resolve(e,n):Un(i,()=>o(e,n));return Vi(s)}function Cv(t){return sn(e=>{let n=t(e);return n?xe(n).pipe(re(()=>e)):ee(e)})}var VA=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===de);return r}getResolvedTitleForRoute(n){return n.data[ou]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>O(bB),providedIn:"root"})}}return t})(),bB=(()=>{class t extends VA{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(K(iA))}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),r_=new W("",{providedIn:"root",factory:()=>({})}),DB=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Fe({type:t,selectors:[["ng-component"]],standalone:!0,features:[je],decls:1,vars:0,template:function(r,i){r&1&&H(0,"router-outlet")},dependencies:[t_],encapsulation:2})}}return t})();function i_(t){let e=t.children&&t.children.map(i_),n=e?he(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=DB),n}var o_=new W(""),CB=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Ky)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Vi(n.loadComponent()).pipe(re(jA),rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),uo(()=>{this.componentLoaders.delete(n)})),i=new ls(r,()=>new gt).pipe(us());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=TB(r,this.compiler,n,this.onLoadEndListener).pipe(uo(()=>{this.childrenLoaders.delete(r)})),s=new ls(o,()=>new gt).pipe(us());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function TB(t,e,n,r){return Vi(t.loadChildren()).pipe(re(jA),ht(i=>i instanceof wc||Array.isArray(i)?ee(i):xe(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(o_,[],{optional:!0,self:!0}).flat()),{routes:s.map(i_),injector:o}}))}function SB(t){return t&&typeof t=="object"&&"default"in t}function jA(t){return SB(t)?t.default:t}var s_=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>O(AB),providedIn:"root"})}}return t})(),AB=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),RB=new W("");var MB=new W(""),xB=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gt,this.transitionAbortSubject=new gt,this.configLoader=O(CB),this.environmentInjector=O(Jt),this.urlSerializer=O(Xv),this.rootContexts=O(Xh),this.location=O(Fc),this.inputBindingEnabled=O(n_,{optional:!0})!==null,this.titleStrategy=O(VA),this.options=O(r_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(s_),this.createViewTransition=O(RB,{optional:!0}),this.navigationErrorHandler=O(MB,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Fv(i)),r=i=>this.events.next(new Lv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(he(j(j({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Pe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Kc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qt(o=>o.id!==0),re(o=>he(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),sn(o=>{let s=!1,a=!1;return ee(o).pipe(sn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",gn.SupersededByNewNavigation),on;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?he(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Ao(u.id,this.urlSerializer.serialize(u.rawUrl),p,xv.IgnoredSameUrlNavigation)),u.resolve(!1),on}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ee(u).pipe(sn(p=>{let g=this.transitions?.getValue();return this.events.next(new Jc(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?on:Promise.resolve(p)}),vB(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),rt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=he(j({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new Gh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:D,extras:x}=u,R=new Jc(p,this.urlSerializer.serialize(g),y,D);this.events.next(R);let L=SA(this.rootComponentType).snapshot;return this.currentTransition=o=he(j({},u),{targetSnapshot:L,urlAfterRedirects:g,extras:he(j({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,ee(o)}else{let p="";return this.events.next(new Ao(u.id,this.urlSerializer.serialize(u.extractedUrl),p,xv.IgnoredByUrlHandlingStrategy)),u.resolve(!1),on}}),rt(u=>{let l=new Nv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),re(u=>(this.currentTransition=o=he(j({},u),{guards:VU(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),QU(this.environmentInjector,u=>this.events.next(u)),rt(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Zh(this.urlSerializer,u.guardsResult);let l=new Pv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Qt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",gn.GuardRejected),!1)),Cv(u=>{if(u.guards.canActivateChecks.length)return ee(u).pipe(rt(l=>{let h=new Ov(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),sn(l=>{let h=!1;return ee(l).pipe(_B(this.paramsInheritanceStrategy,this.environmentInjector),rt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",gn.NoDataFromResolver)}}))}),rt(l=>{let h=new kv(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Cv(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(rt(g=>{h.component=g}),re(()=>{})));for(let g of h.children)p.push(...l(g));return p};return Ql(l(u.targetSnapshot.root)).pipe(_i(null),On(1))}),Cv(()=>this.afterPreactivation()),sn(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?xe(h).pipe(re(()=>o)):ee(o)}),re(u=>{let l=PU(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=he(j({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),rt(()=>{this.events.next(new eu)}),LU(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),On(1),rt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Li(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Qm(this.transitionAbortSubject.pipe(rt(u=>{throw u}))),uo(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",gn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),yi(u=>{if(a=!0,NA(u))this.events.next(new zr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),FU(u)?this.events.next(new Ks(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Xc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=Un(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof nu){let{message:p,cancellationCode:g}=Zh(this.urlSerializer,h);this.events.next(new zr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,g)),this.events.next(new Ks(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);o.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return on}))}))}cancelNavigationTransition(n,r,i){let o=new zr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function NB(t){return t!==Kc}var PB=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>O(OB),providedIn:"root"})}}return t})(),Jv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},OB=(()=>{class t extends Jv{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=or(t)))(i||t)}})()}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),UA=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:()=>O(kB),providedIn:"root"})}}return t})(),kB=(()=>{class t extends UA{constructor(){super(...arguments),this.location=O(Fc),this.urlSerializer=O(Xv),this.options=O(r_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(s_),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=SA(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Jc)this.stateMemento=this.createStateMemento();else if(n instanceof Ao)this.rawUrlTree=r.initialUrl;else if(n instanceof Gh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof eu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof zr&&(n.code===gn.GuardRejected||n.code===gn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Xc?this.restoreHistory(r,!0):n instanceof Li&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Gr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=j(j({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=or(t)))(i||t)}})()}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Gc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Gc||{});function FB(t,e){t.events.pipe(Qt(n=>n instanceof Li||n instanceof zr||n instanceof Xc||n instanceof Ao),re(n=>n instanceof Li||n instanceof Ao?Gc.COMPLETE:(n instanceof zr?n.code===gn.Redirect||n.code===gn.SupersededByNewNavigation:!1)?Gc.REDIRECTING:Gc.FAILED),Qt(n=>n!==Gc.REDIRECTING),On(1)).subscribe(()=>{e()})}function LB(t){throw t}var VB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ft=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(yh),this.stateManager=O(UA),this.options=O(r_,{optional:!0})||{},this.pendingTasks=O(Ai),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(xB),this.urlSerializer=O(Xv),this.location=O(Fc),this.urlHandlingStrategy=O(s_),this._events=new gt,this.errorHandler=this.options.errorHandler||LB,this.navigated=!1,this.routeReuseStrategy=O(PB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(o_,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(n_,{optional:!0}),this.eventsSubscription=new Ke,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof zr&&r.code!==gn.Redirect&&r.code!==gn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Li)this.navigated=!0;else if(r instanceof Ks){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||NB(i.source)},s);this.scheduleNavigation(a,Kc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}BB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Kc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=j({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(i_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=bA(g)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return DA(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=So(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Kc,null,r)}navigate(n,r={skipLocationChange:!1}){return UB(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=j({},VB):r===!1?i=j({},jB):i=r,So(n))return sA(this.currentUrlTree,n,i);let o=this.parseUrl(n);return sA(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return FB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function UB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Y(4008,!1)}function BB(t){return!(t instanceof eu)&&!(t instanceof Ks)}var Zs=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new gt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Li&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(So(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:ZC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:So(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(k(ft),k(Gn),py("tabindex"),k(sr),k($n),k(Us))}}static{this.\u0275dir=Le({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&me("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Vr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Pi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Pi],replaceUrl:[2,"replaceUrl","replaceUrl",Pi],routerLink:"routerLink"},standalone:!0,features:[Uy,ir]})}}return t})();var $B=new W("");function BA(t,...e){return ln([{provide:o_,multi:!0,useValue:t},[],{provide:Gn,useFactory:HB,deps:[ft]},{provide:Ls,multi:!0,useFactory:qB},e.map(n=>n.\u0275providers)])}function HB(t){return t.routerState.root}function qB(){let t=O(xt);return e=>{let n=t.get(cr);if(e!==n.components[0])return;let r=t.get(ft),i=t.get(zB);t.get(GB)===1&&r.initialNavigation(),t.get(WB,null,fe.Optional)?.setUpPreloading(),t.get($B,null,fe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var zB=new W("",{factory:()=>new gt}),GB=new W("",{providedIn:"root",factory:()=>1});var WB=new W("");var Js=class{product;qte;constructor(e,n){this.product=e,this.qte=n}};var ZA=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(k(sr),k($n))}}static{this.\u0275dir=Le({type:t})}}return t})(),df=(()=>{class t extends ZA{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=or(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,features:[Ht]})}}return t})(),ia=new W("");var KB={provide:ia,useExisting:un(()=>tn),multi:!0};function QB(){let t=Hr()?Hr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var YB=new W(""),tn=(()=>{class t extends ZA{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!QB())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(k(sr),k($n),k(YB,8))}}static{this.\u0275dir=Le({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&me("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Hn([KB]),Ht]})}}return t})();function ji(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function JA(t){return t!=null&&typeof t.length=="number"}var oa=new W(""),hf=new W(""),ZB=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ta=class{static min(e){return XA(e)}static max(e){return JB(e)}static required(e){return e1(e)}static requiredTrue(e){return XB(e)}static email(e){return e4(e)}static minLength(e){return t4(e)}static maxLength(e){return n4(e)}static pattern(e){return r4(e)}static nullValidator(e){return nf(e)}static compose(e){return s1(e)}static composeAsync(e){return a1(e)}};function XA(t){return e=>{if(ji(e.value)||ji(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function JB(t){return e=>{if(ji(e.value)||ji(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function e1(t){return ji(t.value)?{required:!0}:null}function XB(t){return t.value===!0?null:{required:!0}}function e4(t){return ji(t.value)||ZB.test(t.value)?null:{email:!0}}function t4(t){return e=>ji(e.value)||!JA(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function n4(t){return e=>JA(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function r4(t){if(!t)return nf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ji(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function nf(t){return null}function t1(t){return t!=null}function n1(t){return xi(t)?xe(t):t}function r1(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function i1(t,e){return e.map(n=>n(t))}function i4(t){return!t.validate}function o1(t){return t.map(e=>i4(e)?e:n=>e.validate(n))}function s1(t){if(!t)return null;let e=t.filter(t1);return e.length==0?null:function(n){return r1(i1(n,e))}}function h_(t){return t!=null?s1(o1(t)):null}function a1(t){if(!t)return null;let e=t.filter(t1);return e.length==0?null:function(n){let r=i1(n,e).map(n1);return Gm(r).pipe(re(r1))}}function f_(t){return t!=null?a1(o1(t)):null}function $A(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function c1(t){return t._rawValidators}function u1(t){return t._rawAsyncValidators}function a_(t){return t?Array.isArray(t)?t:[t]:[]}function rf(t,e){return Array.isArray(t)?t.includes(e):t===e}function HA(t,e){let n=a_(e);return a_(t).forEach(i=>{rf(n,i)||n.push(i)}),n}function qA(t,e){return a_(e).filter(n=>!rf(t,n))}var of=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=h_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=f_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Kr=class extends of{get formDirective(){return null}get path(){return null}},Ro=class extends of{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},sf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},o4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},hY=he(j({},o4),{"[class.ng-submitted]":"isSubmitted"}),Sn=(()=>{class t extends sf{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(k(Ro,2))}}static{this.\u0275dir=Le({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&fh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ht]})}}return t})(),Bi=(()=>{class t extends sf{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(k(Kr,10))}}static{this.\u0275dir=Le({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&fh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ht]})}}return t})();var cu="VALID",tf="INVALID",Xs="PENDING",uu="DISABLED",Ui=class{},af=class extends Ui{constructor(e,n){super(),this.value=e,this.source=n}},du=class extends Ui{constructor(e,n){super(),this.pristine=e,this.source=n}},hu=class extends Ui{constructor(e,n){super(),this.touched=e,this.source=n}},ea=class extends Ui{constructor(e,n){super(),this.status=e,this.source=n}},c_=class extends Ui{constructor(e){super(),this.source=e}},u_=class extends Ui{constructor(e){super(),this.source=e}};function p_(t){return(ff(t)?t.validators:t)||null}function s4(t){return Array.isArray(t)?h_(t):t||null}function m_(t,e){return(ff(e)?e.asyncValidators:t)||null}function a4(t){return Array.isArray(t)?f_(t):t||null}function ff(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function l1(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Y(1e3,"");if(!r[n])throw new Y(1001,"")}function d1(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Y(1002,"")})}var na=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Vs(()=>this.statusReactive()),this.statusReactive=Mi(void 0),this._pristine=Vs(()=>this.pristineReactive()),this.pristineReactive=Mi(!0),this._touched=Vs(()=>this.touchedReactive()),this.touchedReactive=Mi(!1),this._events=new gt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Dn(this.statusReactive)}set status(e){Dn(()=>this.statusReactive.set(e))}get valid(){return this.status===cu}get invalid(){return this.status===tf}get pending(){return this.status==Xs}get disabled(){return this.status===uu}get enabled(){return this.status!==uu}get pristine(){return Dn(this.pristineReactive)}set pristine(e){Dn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Dn(this.touchedReactive)}set touched(e){Dn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qA(e,this._rawAsyncValidators))}hasValidator(e){return rf(this._rawValidators,e)}hasAsyncValidator(e){return rf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(he(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new hu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new hu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(he(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new du(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new du(!0,r))}markAsPending(e={}){this.status=Xs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ea(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(he(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uu,this.errors=null,this._forEachChild(i=>{i.disable(he(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new af(this.value,r)),this._events.next(new ea(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cu,this._forEachChild(r=>{r.enable(he(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(he(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cu||this.status===Xs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new af(this.value,n)),this._events.next(new ea(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(he(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uu:cu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Xs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=n1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ea(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?uu:this.errors?tf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xs)?Xs:this._anyControlsHaveStatus(tf)?tf:cu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new du(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new hu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ff(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=s4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=a4(this._rawAsyncValidators)}},ra=class extends na{constructor(e,n,r){super(p_(n),m_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){d1(this,!0,e),Object.keys(e).forEach(r=>{l1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var l_=class extends ra{};var pu=new W("CallSetDisabledState",{providedIn:"root",factory:()=>pf}),pf="always";function h1(t,e){return[...e.path,t]}function cf(t,e,n=pf){g_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),u4(t,e),d4(t,e),l4(t,e),c4(t,e)}function zA(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),lf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function uf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function c4(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function g_(t,e){let n=c1(t);e.validator!==null?t.setValidators($A(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=u1(t);e.asyncValidator!==null?t.setAsyncValidators($A(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();uf(e._rawValidators,i),uf(e._rawAsyncValidators,i)}function lf(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=c1(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=u1(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return uf(e._rawValidators,r),uf(e._rawAsyncValidators,r),n}function u4(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&f1(t,e)})}function l4(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&f1(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function f1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function d4(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function p1(t,e){t==null,g_(t,e)}function h4(t,e){return lf(t,e)}function m1(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function f4(t){return Object.getPrototypeOf(t.constructor)===df}function g1(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function y1(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===tn?n=o:f4(o)?r=o:i=o}),i||r||n||null}function p4(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var m4={provide:Kr,useExisting:un(()=>Mo)},lu=Promise.resolve(),Mo=(()=>{class t extends Kr{get submitted(){return Dn(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Vs(()=>this.submittedReactive()),this.submittedReactive=Mi(!1),this._directives=new Set,this.ngSubmit=new Qe,this.form=new ra({},h_(n),f_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){lu.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),cf(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){lu.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){lu.then(()=>{let r=this._findContainer(n.path),i=new ra({});p1(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){lu.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){lu.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),g1(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(k(oa,10),k(hf,10),k(pu,8))}}static{this.\u0275dir=Le({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hn([m4]),Ht]})}}return t})();function GA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var fu=class extends na{constructor(e=null,n,r){super(p_(n),m_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ff(n)&&(n.nonNullable||n.initialValueIsDefault)&&(WA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){WA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var g4=t=>t instanceof fu;var y4={provide:Ro,useExisting:un(()=>Wn)},KA=Promise.resolve(),Wn=(()=>{class t extends Ro{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new fu,this._registered=!1,this.name="",this.update=new Qe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=y1(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),m1(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){cf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){KA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Pi(r);KA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?h1(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(k(Kr,9),k(oa,10),k(hf,10),k(ia,10),k(Ni,8),k(pu,8))}}static{this.\u0275dir=Le({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Hn([y4]),Ht,ir]})}}return t})(),$i=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Le({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),v4={provide:ia,useExisting:un(()=>y_),multi:!0},y_=(()=>{class t extends df{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=or(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&me("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Hn([v4]),Ht]})}}return t})();var v1=new W("");var _4={provide:Kr,useExisting:un(()=>v_)},v_=(()=>{class t extends Kr{get submitted(){return Dn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=Vs(()=>this._submittedReactive()),this._submittedReactive=Mi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return cf(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){zA(n.control||null,n,!1),p4(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),g1(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new c_(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new u_(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(zA(r||null,n),g4(i)&&(cf(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);p1(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&h4(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){g_(this.form,this),this._oldForm&&lf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(k(oa,10),k(hf,10),k(pu,8))}}static{this.\u0275dir=Le({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hn([_4]),Ht,ir]})}}return t})();var w4={provide:Ro,useExisting:un(()=>__)},__=(()=>{class t extends Ro{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Qe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=y1(this,o)}ngOnChanges(n){this._added||this._setUpControl(),m1(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return h1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(k(Kr,13),k(oa,10),k(hf,10),k(ia,10),k(v1,8))}}static{this.\u0275dir=Le({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Hn([w4]),Ht,ir]})}}return t})(),I4={provide:ia,useExisting:un(()=>mf),multi:!0};function _1(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function E4(t){return t.split(":")[0]}var mf=(()=>{class t extends df{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=_1(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=E4(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=or(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&me("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Hn([I4]),Ht]})}}return t})(),w1=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(_1(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(k($n),k(sr),k(mf,9))}}static{this.\u0275dir=Le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),b4={provide:ia,useExisting:un(()=>I1),multi:!0};function QA(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function D4(t){return t.split(":")[0]}var I1=(()=>{class t extends df{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=D4(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=or(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&me("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Hn([b4]),Ht]})}}return t})(),E1=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(QA(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(QA(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(k($n),k(sr),k(I1,9))}}static{this.\u0275dir=Le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function C4(t){return typeof t=="number"?t:parseFloat(t)}var b1=(()=>{class t{constructor(){this._validator=nf}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):nf,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Le({type:t,features:[ir]})}}return t})();var T4={provide:oa,useExisting:un(()=>w_),multi:!0},w_=(()=>{class t extends b1{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>C4(n),this.createValidator=n=>XA(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=or(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Vr("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Hn([T4]),Ht]})}}return t})(),S4={provide:oa,useExisting:un(()=>mu),multi:!0};var mu=(()=>{class t extends b1{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Pi,this.createValidator=n=>e1}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=or(t)))(i||t)}})()}static{this.\u0275dir=Le({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Vr("required",i._enabled?"":null)},inputs:{required:"required"},features:[Hn([S4]),Ht]})}}return t})();var D1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Lr({type:t})}static{this.\u0275inj=Fr({})}}return t})(),d_=class extends na{constructor(e,n,r){super(p_(n),m_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){d1(this,!1,e),e.forEach((r,i)=>{l1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function YA(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var C1=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return YA(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ra(i,o)}record(n,r=null){let i=this._reduceControls(n);return new l_(i,r)}control(n,r,i){let o={};return this.useNonNullable?(YA(r)?o=r:(o.validators=r,o.asyncValidators=i),new fu(n,he(j({},o),{nonNullable:!0}))):new fu(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new d_(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof fu)return n;if(n instanceof na)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var fr=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:pu,useValue:n.callSetDisabledState??pf}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Lr({type:t})}static{this.\u0275inj=Fr({imports:[D1]})}}return t})(),T1=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:v1,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:pu,useValue:n.callSetDisabledState??pf}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Lr({type:t})}static{this.\u0275inj=Fr({imports:[D1]})}}return t})();var gf=class{productid;qte;constructor(e,n){this.productid=e,this.qte=n}};var A1=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A4=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},R1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(n[h],n[p],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(A1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new E_;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},E_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},R4=function(t){let e=A1(t);return R1.encodeByteArray(e,!0)},gu=function(t){return R4(t).replace(/\./g,"")},D_=function(t){try{return R1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function M4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var x4=()=>M4().__FIREBASE_DEFAULTS__,N4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&D_(t[1]);return e&&JSON.parse(e)},vf=()=>{try{return x4()||N4()||P4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},C_=t=>{var e,n;return(n=(e=vf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},M1=t=>{let e=C_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},T_=()=>{var t;return(t=vf())===null||t===void 0?void 0:t.config},S_=t=>{var e;return(e=vf())===null||e===void 0?void 0:e[`_${t}`]};var yf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function x1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gu(JSON.stringify(n)),gu(JSON.stringify(s)),""].join(".")}function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function O4(){var t;let e=(t=vf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O1(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function k1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F1(){let t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function L1(){return!O4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A_(){try{return typeof indexedDB=="object"}catch{return!1}}function V1(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var k4="FirebaseError",yn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=k4,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qr.prototype.create)}},Qr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?F4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new yn(i,a,r)}};function F4(t,e){return t.replace(L4,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var L4=/\{\$([^}]+)}/g;function j1(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(S1(o)&&S1(s)){if(!xo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function S1(t){return t!==null&&typeof t=="object"}function yu(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aa(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ca(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function U1(t,e){let n=new b_(t,e);return n.subscribe.bind(n)}var b_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=I_),i.error===void 0&&(i.error=I_),i.complete===void 0&&(i.complete=I_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function V4(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function I_(){}var gY=4*60*60*1e3;function at(t){return t&&t._delegate?t._delegate:t}var An=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var No="[DEFAULT]";var R_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new yf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U4(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function j4(t){return t===No?void 0:t}function U4(t){return t.instantiationMode==="EAGER"}var _f=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new R_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var B4=[],ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{}),$4={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},H4=ve.INFO,q4={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},z4=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=q4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Hi=class{constructor(e){this.name=e,this._logLevel=H4,this._logHandler=z4,this._userLogHandler=null,B4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var G4=(t,e)=>e.some(n=>t instanceof n),B1,$1;function W4(){return B1||(B1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K4(){return $1||($1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var H1=new WeakMap,x_=new WeakMap,q1=new WeakMap,M_=new WeakMap,P_=new WeakMap;function Q4(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(pr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&H1.set(n,t)}).catch(()=>{}),P_.set(e,t),e}function Y4(t){if(x_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});x_.set(t,e)}var N_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return x_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||q1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z1(t){N_=t(N_)}function Z4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(wf(this),e,...n);return q1.set(r,e.sort?e.sort():[e]),pr(r)}:K4().includes(t)?function(...e){return t.apply(wf(this),e),pr(H1.get(this))}:function(...e){return pr(t.apply(wf(this),e))}}function J4(t){return typeof t=="function"?Z4(t):(t instanceof IDBTransaction&&Y4(t),G4(t,W4())?new Proxy(t,N_):t)}function pr(t){if(t instanceof IDBRequest)return Q4(t);if(M_.has(t))return M_.get(t);let e=J4(t);return e!==t&&(M_.set(t,e),P_.set(e,t)),e}var wf=t=>P_.get(t);function W1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=pr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(pr(s.result),u.oldVersion,u.newVersion,pr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var X4=["get","getKey","getAll","getAllKeys","count"],e3=["put","add","delete","clear"],O_=new Map;function G1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(O_.get(e))return O_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=e3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||X4.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return O_.set(e,o),o}z1(t=>he(j({},t),{get:(e,n,r)=>G1(e,n)||t.get(e,n,r),has:(e,n)=>!!G1(e,n)||t.has(e,n)}));var F_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t3(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function t3(t){let e=t.getComponent();return e?.type==="VERSION"}var L_="@firebase/app",K1="0.10.13";var Yr=new Hi("@firebase/app"),n3="@firebase/app-compat",r3="@firebase/analytics-compat",i3="@firebase/analytics",o3="@firebase/app-check-compat",s3="@firebase/app-check",a3="@firebase/auth",c3="@firebase/auth-compat",u3="@firebase/database",l3="@firebase/data-connect",d3="@firebase/database-compat",h3="@firebase/functions",f3="@firebase/functions-compat",p3="@firebase/installations",m3="@firebase/installations-compat",g3="@firebase/messaging",y3="@firebase/messaging-compat",v3="@firebase/performance",_3="@firebase/performance-compat",w3="@firebase/remote-config",I3="@firebase/remote-config-compat",E3="@firebase/storage",b3="@firebase/storage-compat",D3="@firebase/firestore",C3="@firebase/vertexai-preview",T3="@firebase/firestore-compat",S3="firebase",A3="10.14.1";var V_="[DEFAULT]",R3={[L_]:"fire-core",[n3]:"fire-core-compat",[i3]:"fire-analytics",[r3]:"fire-analytics-compat",[s3]:"fire-app-check",[o3]:"fire-app-check-compat",[a3]:"fire-auth",[c3]:"fire-auth-compat",[u3]:"fire-rtdb",[l3]:"fire-data-connect",[d3]:"fire-rtdb-compat",[h3]:"fire-fn",[f3]:"fire-fn-compat",[p3]:"fire-iid",[m3]:"fire-iid-compat",[g3]:"fire-fcm",[y3]:"fire-fcm-compat",[v3]:"fire-perf",[_3]:"fire-perf-compat",[w3]:"fire-rc",[I3]:"fire-rc-compat",[E3]:"fire-gcs",[b3]:"fire-gcs-compat",[D3]:"fire-fst",[T3]:"fire-fst-compat",[C3]:"fire-vertex","fire-js":"fire-js",[S3]:"fire-js-all"};var vu=new Map,M3=new Map,j_=new Map;function Q1(t,e){try{t.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zi(t){let e=t.name;if(j_.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;j_.set(e,t);for(let n of vu.values())Q1(n,t);for(let n of M3.values())Q1(n,t);return!0}function wu(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Kn(t){return t.settings!==void 0}var x3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new Qr("app","Firebase",x3);var U_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new An("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}};var Gi=A3;function H_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:V_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qi.create("bad-app-name",{appName:String(i)});if(n||(n=T_()),!n)throw qi.create("no-options");let o=vu.get(i);if(o){if(xo(n,o.options)&&xo(r,o.config))return o;throw qi.create("duplicate-app",{appName:i})}let s=new _f(i);for(let u of j_.values())s.addComponent(u);let a=new U_(n,r,s);return vu.set(i,a),a}function ua(t=V_){let e=vu.get(t);if(!e&&t===V_&&T_())return H_();if(!e)throw qi.create("no-app",{appName:t});return e}function If(){return Array.from(vu.values())}function pt(t,e,n){var r;let i=(r=R3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(a.join(" "));return}zi(new An(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var N3="firebase-heartbeat-database",P3=1,_u="firebase-heartbeat-store",k_=null;function X1(){return k_||(k_=W1(N3,P3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_u)}catch(n){console.warn(n)}}}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),k_}function O3(t){return _(this,null,function*(){try{let n=(yield X1()).transaction(_u),r=yield n.objectStore(_u).get(eR(t));return yield n.done,r}catch(e){if(e instanceof yn)Yr.warn(e.message);else{let n=qi.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(n.message)}}})}function Y1(t,e){return _(this,null,function*(){try{let r=(yield X1()).transaction(_u,"readwrite");yield r.objectStore(_u).put(e,eR(t)),yield r.done}catch(n){if(n instanceof yn)Yr.warn(n.message);else{let r=qi.create("idb-set",{originalErrorMessage:n?.message});Yr.warn(r.message)}}})}function eR(t){return`${t.name}!${t.options.appId}`}var k3=1024,F3=30*24*60*60*1e3,B_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new $_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Z1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=F3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Z1(),{heartbeatsToSend:r,unsentEntries:i}=L3(this._heartbeatsCache.heartbeats),o=gu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Yr.warn(n),""}})}};function Z1(){return new Date().toISOString().substring(0,10)}function L3(t,e=k3){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),J1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var $_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return A_()?V1().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield O3(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Y1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Y1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function J1(t){return gu(JSON.stringify({version:2,heartbeats:t})).length}function V3(t){zi(new An("platform-logger",e=>new F_(e),"PRIVATE")),zi(new An("heartbeat",e=>new B_(e),"PRIVATE")),pt(L_,K1,t),pt(L_,K1,"esm2017"),pt("fire-js","")}V3("");var j3="firebase",U3="10.14.1";pt(j3,U3,"app");var Oo=new kr("ANGULARFIRE2_VERSION");function bf(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Iu=(t,e)=>{let n=e?[e]:If(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},da=class{constructor(){return Iu(B3)}},B3="app-check";function la(){}var Ef=class{zone;delegate;constructor(e,n=$m){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},q_=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",la,{},la,la)),n.pipe(rt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ha=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ef(Zone.current)),this.insideAngular=n.run(()=>new Ef(Zone.current,uc)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(K(Re))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Df(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function $3(t){return Df().ngZone.runOutsideAngular(()=>t())}function Po(t){return Df().ngZone.run(()=>t())}function H3(t){return q3(Df())(t)}function q3(t){return function(n){return n=n.lift(new q_(t.ngZone)),n.pipe(gi(t.outsideAngular),mi(t.insideAngular))}}var z3=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Po(()=>t.apply(void 0,r))},mt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Po(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",la,{},la,la))),r[o]=z3(r[o],n));let i=$3(()=>t.apply(this,r));if(!e)if(i instanceof ue){let o=Df();return i.pipe(gi(o.outsideAngular),mi(o.insideAngular))}else return Po(()=>i);return i instanceof ue?i.pipe(H3):i instanceof Promise?Po(()=>new Promise((o,s)=>i.then(a=>Po(()=>o(a)),a=>Po(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Po(()=>i)};var Zr=class{constructor(e){return e}},ko=class{constructor(){return If()}};function G3(t){return t&&t.length===1?t[0]:new Zr(ua())}var z_=new W("angularfire2._apps"),W3={provide:Zr,useFactory:G3,deps:[[new Bt,z_]]},K3={provide:ko,deps:[[new Bt,z_]]};function Q3(t){return(e,n)=>{let r=n.get($t);pt("angularfire",Oo.full,"core"),pt("angularfire",Oo.full,"app"),pt("angular",oS.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Zr(i)}}function tR(t,...e){return ln([W3,K3,{provide:z_,useFactory:Q3(t),multi:!0,deps:[Re,xt,ha,...e]}])}var nR=mt(H_,!0);function _R(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var wR=_R,IR=new Qr("auth","Firebase",_R());var Mf=new Hi("@firebase/auth");function Y3(t,...e){Mf.logLevel<=ve.WARN&&Mf.warn(`Auth (${Gi}): ${t}`,...e)}function Tf(t,...e){Mf.logLevel<=ve.ERROR&&Mf.error(`Auth (${Gi}): ${t}`,...e)}function gr(t,...e){throw p0(t,...e)}function Fo(t,...e){return p0(t,...e)}function ER(t,e,n){let r=Object.assign(Object.assign({},wR()),{[e]:n});return new Qr("auth","Firebase",r).create(e,{appName:t.name})}function ei(t){return ER(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p0(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IR.create(t,...e)}function te(t,e,...n){if(!t)throw p0(e,...n)}function Jr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Tf(e),new Error(e)}function Ki(t,e){t||Jr(e)}function Q_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Z3(){return rR()==="http:"||rR()==="https:"}function rR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function J3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z3()||O1()||"connection"in navigator)?navigator.onLine:!0}function X3(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Lo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=N1()||k1()}get(){return J3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function m0(t,e){Ki(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var xf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var e$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var t$=new Lo(3e4,6e4);function Qi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ti(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return bR(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=yu(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:g},l);return P1()||(y.referrerPolicy="no-referrer"),xf.fetch()(DR(t,t.config.apiHost,n,p),y)}))})}function bR(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},e$),e);try{let i=new Y_(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Cf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Cf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Cf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ER(t,h,l);gr(t,h)}}catch(i){if(i instanceof yn)throw i;gr(t,"network-request-failed",{message:String(i)})}})}function Au(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield ti(t,e,n,r,i);return"mfaPendingCredential"in l&&gr(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function DR(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?m0(t.config,i):`${t.config.apiScheme}://${i}`}function n$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Y_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fo(this.auth,"network-request-failed")),t$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Cf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Fo(t,e,r);return i.customData._tokenResponse=n,i}function iR(t){return t!==void 0&&t.enterprise!==void 0}var Z_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return n$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function r$(t,e){return _(this,null,function*(){return ti(t,"GET","/v2/recaptchaConfig",Qi(t,e))})}function i$(t,e){return _(this,null,function*(){return ti(t,"POST","/v1/accounts:delete",e)})}function CR(t,e){return _(this,null,function*(){return ti(t,"POST","/v1/accounts:lookup",e)})}function Eu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function g0(t,e=!1){return _(this,null,function*(){let n=at(t),r=yield n.getIdToken(e),i=y0(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Eu(G_(i.auth_time)),issuedAtTime:Eu(G_(i.iat)),expirationTime:Eu(G_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function G_(t){return Number(t)*1e3}function y0(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{let i=D_(n);return i?JSON.parse(i):(Tf("Failed to decode base64 JWT payload"),null)}catch(i){return Tf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function oR(t){let e=y0(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function fa(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof yn&&o$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function o$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var J_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Du=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nf(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield fa(t,CR(n,{idToken:r}));te(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?TR(o.providerUserInfo):[],a=s$(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Du(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function v0(t){return _(this,null,function*(){let e=at(t);yield Nf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function s$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TR(t){return t.map(e=>{var{providerId:n}=e,r=Hm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function a$(t,e){return _(this,null,function*(){let n=yield bR(t,{},()=>_(this,null,function*(){let r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=DR(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xf.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function c$(t,e){return _(this,null,function*(){return ti(t,"POST","/v2/accounts:revokeToken",Qi(t,e))})}var bu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");let n=oR(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield a$(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(te(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Jr("not implemented")}};function Wi(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var pa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Hm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new J_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Du(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield fa(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return g0(this,e)}reload(){return v0(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Nf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Kn(this.auth.app))return Promise.reject(ei(this.auth));let e=yield this.getIdToken();return yield fa(this,i$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=n.photoURL)!==null&&s!==void 0?s:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,L=(l=n.createdAt)!==null&&l!==void 0?l:void 0,G=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:U,emailVerified:J,isAnonymous:we,providerData:X,stsTokenManager:E}=n;te(U&&E,e,"internal-error");let v=bu.fromJSON(this.name,E);te(typeof U=="string",e,"internal-error"),Wi(p,e.name),Wi(g,e.name),te(typeof J=="boolean",e,"internal-error"),te(typeof we=="boolean",e,"internal-error"),Wi(y,e.name),Wi(D,e.name),Wi(x,e.name),Wi(R,e.name),Wi(L,e.name),Wi(G,e.name);let w=new t({uid:U,auth:e,email:g,emailVerified:J,displayName:p,isAnonymous:we,photoURL:D,phoneNumber:y,tenantId:x,stsTokenManager:v,createdAt:L,lastLoginAt:G});return X&&Array.isArray(X)&&(w.providerData=X.map(b=>Object.assign({},b))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new bu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nf(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];te(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?TR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new bu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Du(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var sR=new Map;function Xr(t){Ki(t instanceof Function,"Expected a class definition");let e=sR.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sR.set(t,e),e)}var u$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),X_=u$;function Sf(t,e,n){return`firebase:${t}:${e}:${n}`}var Pf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Sf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Sf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?pa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Xr(X_),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Xr(X_),s=Sf(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=pa._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function aR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NR(e))return"Blackberry";if(PR(e))return"Webos";if(AR(e))return"Safari";if((e.includes("chrome/")||RR(e))&&!e.includes("edge/"))return"Chrome";if(xR(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function SR(t=vt()){return/firefox\//i.test(t)}function AR(t=vt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RR(t=vt()){return/crios\//i.test(t)}function MR(t=vt()){return/iemobile/i.test(t)}function xR(t=vt()){return/android/i.test(t)}function NR(t=vt()){return/blackberry/i.test(t)}function PR(t=vt()){return/webos/i.test(t)}function _0(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l$(t=vt()){var e;return _0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function d$(){return F1()&&document.documentMode===10}function OR(t=vt()){return _0(t)||xR(t)||PR(t)||NR(t)||/windows phone/i.test(t)||MR(t)}function kR(t,e=[]){let n;switch(t){case"Browser":n=aR(vt());break;case"Worker":n=`${aR(vt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gi}/${r}`}var e0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function h$(n){return _(this,arguments,function*(t,e={}){return ti(t,"GET","/v2/passwordPolicy",Qi(t,e))})}var f$=6,t0=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:f$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var n0=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Of(this),this.idTokenSubscription=new Of(this),this.beforeStateQueue=new e0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Pf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield CR(this,{idToken:e}),r=yield pa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(Kn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Nf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=X3()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Kn(this.app))return Promise.reject(ei(this));let n=e?at(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Kn(this.app)?Promise.reject(ei(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Kn(this.app)?Promise.reject(ei(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Xr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield h$(this),n=new t0(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield c$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Xr(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=yield Pf.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Y3(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function jo(t){return at(t)}var Of=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=U1(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Bf={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p$(t){Bf=t}function FR(t){return Bf.loadJS(t)}function m$(){return Bf.recaptchaEnterpriseScript}function g$(){return Bf.gapiScript}function LR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var y$="recaptcha-enterprise",v$="NO_RECAPTCHA",r0=class{constructor(e){this.type=y$,this.auth=jo(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(this,null,function*(){r$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Z_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;iR(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(v$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&iR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=m$();u.length!==0&&(u+=a),FR(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function cR(t,e,n,r=!1){return _(this,null,function*(){let i=new r0(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function i0(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield cR(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>_(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield cR(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function w0(t,e){let n=wu(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(xo(o,e??{}))return i;gr(i,"already-initialized")}return n.initialize({options:e})}function _$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function I0(t,e,n){let r=jo(t);te(r._canInitEmulator,r,"emulator-config-failed"),te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=VR(e),{host:s,port:a}=w$(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||I$()}function VR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w$(t){let e=VR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:uR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:uR(s)}}}function uR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function I$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Cu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}};function E$(t,e){return _(this,null,function*(){return ti(t,"POST","/v1/accounts:signUp",e)})}function b$(t,e){return _(this,null,function*(){return Au(t,"POST","/v1/accounts:signInWithPassword",Qi(t,e))})}function D$(t,e){return _(this,null,function*(){return Au(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))})}function C$(t,e){return _(this,null,function*(){return Au(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))})}var Tu=class t extends Cu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i0(e,n,"signInWithPassword",b$);case"emailLink":return D$(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i0(e,r,"signUpPassword",E$);case"emailLink":return C$(e,{idToken:n,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function W_(t,e){return _(this,null,function*(){return Au(t,"POST","/v1/accounts:signInWithIdp",Qi(t,e))})}function T$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S$(t){let e=aa(ca(t)).link,n=e?aa(ca(e)).deep_link_id:null,r=aa(ca(t)).deep_link_id;return(r?aa(ca(r)).link:null)||r||n||e||t}var kf=class t{constructor(e){var n,r,i,o,s,a;let u=aa(ca(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=T$((i=u.mode)!==null&&i!==void 0?i:null);te(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=S$(e);try{return new t(n)}catch{return null}}};var jR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Tu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=kf.parseLink(r);return te(i,"argument-error"),Tu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ff=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var o0=class extends Ff{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function A$(t,e){return _(this,null,function*(){return Au(t,"POST","/v1/accounts:signUp",Qi(t,e))})}var ma=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield pa._fromIdTokenResponse(e,r,i),s=lR(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=lR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function lR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var s0=class t extends yn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function UR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?s0._fromErrorAndOperation(t,o,e,r):o})}function R$(t,e,n=!1){return _(this,null,function*(){let r=yield fa(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ma._forOperation(t,"link",r)})}function M$(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(Kn(r.app))return Promise.reject(ei(r));let i="reauthenticate";try{let o=yield fa(t,UR(r,i,e,t),n);te(o.idToken,r,"internal-error");let s=y0(o.idToken);te(s,r,"internal-error");let{sub:a}=s;return te(t.uid===a,r,"user-mismatch"),ma._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&gr(r,"user-mismatch"),o}})}function BR(t,e,n=!1){return _(this,null,function*(){if(Kn(t.app))return Promise.reject(ei(t));let r="signIn",i=yield UR(t,r,e),o=yield ma._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function E0(t,e){return _(this,null,function*(){return BR(jo(t),e)})}function $R(t){return _(this,null,function*(){let e=jo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function b0(t,e,n){return _(this,null,function*(){if(Kn(t.app))return Promise.reject(ei(t));let r=jo(t),s=yield i0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A$).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&$R(t),u}),a=yield ma._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function D0(t,e,n){return Kn(t.app)?Promise.reject(ei(t)):E0(at(t),jR.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&$R(t),r}))}function x$(t,e){return _(this,null,function*(){return ti(t,"POST","/v1/accounts:update",e)})}function C0(r,i){return _(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=at(t),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield fa(o,x$(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function Ru(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function T0(t,e,n){return at(t).beforeAuthStateChanged(e,n)}var Lf="__sak";var Vf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var N$=1e3,P$=10,O$=(()=>{class t extends Vf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OR(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);d$()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,P$):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},N$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield fi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield fi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield fi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),HR=O$;var k$=(()=>{class t extends Vf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),S0=k$;function F$(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var L$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield F$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function qR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var a0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=qR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function mr(){return window}function V$(t){mr().location.href=t}function zR(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}function j$(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function U$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function B$(){return zR()?self:null}var GR="firebaseLocalStorageDb",$$=1,jf="firebaseLocalStorage",WR="fbase_key",Vo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function $f(t,e){return t.transaction([jf],e?"readwrite":"readonly").objectStore(jf)}function H$(){let t=indexedDB.deleteDatabase(GR);return new Vo(t).toPromise()}function c0(){let t=indexedDB.open(GR,$$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(jf,{keyPath:WR})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(jf)?e(r):(r.close(),yield H$(),e(yield c0()))}))})}function dR(t,e,n){return _(this,null,function*(){let r=$f(t,!0).put({[WR]:e,value:n});return new Vo(r).toPromise()})}function q$(t,e){return _(this,null,function*(){let n=$f(t,!1).get(e),r=yield new Vo(n).toPromise();return r===void 0?null:r.value})}function hR(t,e){let n=$f(t,!0).delete(e);return new Vo(n).toPromise()}var z$=800,G$=3,W$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield c0(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>G$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return zR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=L$._getInstance(B$()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield j$(),!this.activeServiceWorker)return;this.sender=new a0(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||U$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield c0();return yield dR(n,Lf,"1"),yield hR(n,Lf),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>dR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>q$(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>hR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=$f(o,!1).getAll();return new Vo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),z$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),KR=W$;var uZ=LR("rcb"),lZ=new Lo(3e4,6e4);function K$(t,e){return e?Xr(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Su=class extends Cu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return W_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return W_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return W_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Q$(t){return BR(t.auth,new Su(t),t.bypassAuthState)}function Y$(t){let{auth:e,user:n}=t;return te(n,e,"internal-error"),M$(n,new Su(t),t.bypassAuthState)}function Z$(t){return _(this,null,function*(){let{auth:e,user:n}=t;return te(n,e,"internal-error"),R$(n,new Su(t),t.bypassAuthState)})}var u0=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q$;case"linkViaPopup":case"linkViaRedirect":return Z$;case"reauthViaPopup":case"reauthViaRedirect":return Y$;default:gr(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var dZ=new Lo(2e3,1e4);var J$="pendingRedirect",Af=new Map,l0=class t extends u0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Af.get(this.auth._key());if(!e){try{let r=(yield X$(this.resolver,this.auth))?yield fi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return fi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,fi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function X$(t,e){return _(this,null,function*(){let n=n5(e),r=t5(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function e5(t,e){Af.set(t._key(),e)}function t5(t){return Xr(t._redirectPersistence)}function n5(t){return Sf(J$,t.config.apiKey,t.name)}function r5(t,e,n=!1){return _(this,null,function*(){if(Kn(t.app))return Promise.reject(ei(t));let r=jo(t),i=K$(r,e),s=yield new l0(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var i5=10*60*1e3,d0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fR(e))}saveEventToCache(e){this.cachedEventUids.add(fR(e)),this.lastProcessedEventTime=Date.now()}};function fR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function o5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QR(t);default:return!1}}function s5(n){return _(this,arguments,function*(t,e={}){return ti(t,"GET","/v1/projects",e)})}var a5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c5=/^https?/;function u5(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield s5(t);for(let n of e)try{if(l5(n))return}catch{}gr(t,"unauthorized-domain")})}function l5(t){let e=Q_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!c5.test(n))return!1;if(a5.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var d5=new Lo(3e4,6e4);function pR(){let t=mr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h5(t){return new Promise((e,n)=>{var r,i,o;function s(){pR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pR(),n(Fo(t,"network-request-failed"))},timeout:d5.get()})}if(!((i=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=mr().gapi)===null||o===void 0)&&o.load)s();else{let a=LR("iframefcb");return mr()[a]=()=>{gapi.load?s():n(Fo(t,"network-request-failed"))},FR(`${g$()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Rf=null,e})}var Rf=null;function f5(t){return Rf=Rf||h5(t),Rf}var p5=new Lo(5e3,15e3),m5="__/auth/iframe",g5="emulator/auth/iframe",y5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _5(t){let e=t.config;te(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?m0(e,g5):`https://${t.config.authDomain}/${m5}`,r={apiKey:e.apiKey,appName:t.name,v:Gi},i=v5.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${yu(r).slice(1)}`}function w5(t){return _(this,null,function*(){let e=yield f5(t),n=mr().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:_5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y5,dontclear:!0},r=>new Promise((i,o)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Fo(t,"network-request-failed"),a=mr().setTimeout(()=>{o(s)},p5.get());function u(){mr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var I5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E5=500,b5=600,D5="_blank",C5="http://localhost",Uf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function T5(t,e,n,r=E5,i=b5){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},I5),{width:r.toString(),height:i.toString(),top:o,left:s}),l=vt().toLowerCase();n&&(a=RR(l)?D5:n),SR(l)&&(e=e||C5,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,D])=>`${g}${y}=${D},`,"");if(l$(l)&&a!=="_self")return S5(e||"",a),new Uf(null);let p=window.open(e||"",a,h);te(p,t,"popup-blocked");try{p.focus()}catch{}return new Uf(p)}function S5(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var A5="__/auth/handler",R5="emulator/auth/handler",M5=encodeURIComponent("fac");function mR(t,e,n,r,i,o){return _(this,null,function*(){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gi,eventId:i};if(e instanceof Ff){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",j1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof o0){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${M5}=${encodeURIComponent(u)}`:"";return`${x5(t)}?${yu(a).slice(1)}${l}`})}function x5({config:t}){return t.emulator?m0(t,R5):`https://${t.authDomain}/${A5}`}var K_="webStorageSupport",h0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S0,this._completeRedirectFn=r5,this._overrideRedirectResult=e5}_openPopup(e,n,r,i){return _(this,null,function*(){var o;Ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield mR(e,n,r,Q_(),i);return T5(e,s,qR())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield mR(e,n,r,Q_(),i);return V$(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ki(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield w5(e),r=new d0(e);return n.register("authEvent",i=>(te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(K_,{type:K_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[K_];s!==void 0&&n(!!s),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return OR()||AR()||_0()}},YR=h0;var gR="@firebase/auth",yR="1.7.9";var f0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function N5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P5(t){zi(new An("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kR(t)},l=new n0(r,i,o,u);return _$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zi(new An("auth-internal",e=>{let n=jo(e.getProvider("auth").getImmediate());return(r=>new f0(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pt(gR,yR,N5(t)),pt(gR,yR,"esm2017")}var O5=5*60,k5=S_("authIdTokenMaxAge")||O5,vR=null,F5=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k5)return;let i=n?.token;vR!==i&&(vR=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function A0(t=ua()){let e=wu(t,"auth");if(e.isInitialized())return e.getImmediate();let n=w0(t,{popupRedirectResolver:YR,persistence:[KR,HR,S0]}),r=S_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=F5(o.toString());T0(n,s,()=>s(n.currentUser)),Ru(n,a=>s(a))}}let i=C_("auth");return i&&I0(n,`http://${i}`),n}function L5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}p$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Fo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",L5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P5("Browser");function XR(t){return new ue(function(e){var n=Ru(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var eM="auth",Uo=class{constructor(e){return e}},Mu=class{constructor(){return Iu(eM)}};var R0=new W("angularfire2.auth-instances");function C6(t,e){let n=bf(eM,t,e);return n&&new Uo(n)}function T6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Uo(r)}}var S6={provide:Mu,deps:[[new Bt,R0]]},A6={provide:Uo,useFactory:C6,deps:[[new Bt,R0],Zr]};function tM(t,...e){return pt("angularfire",Oo.full,"auth"),ln([A6,S6,{provide:R0,useFactory:T6(t),multi:!0,deps:[Re,xt,ha,ko,[new Bt,da],...e]}])}var nM=mt(XR,!0);var rM=mt(b0,!0);var iM=mt(A0,!0);var oM=mt(D0,!0);var sM=mt(C0,!0);var aM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cM={};var Yi,M0;(function(){var t;function e(E,v){function w(){}w.prototype=v.prototype,E.D=v.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(b,C,S){for(var I=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)I[Cr-2]=arguments[Cr];return v.prototype[C].apply(b,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,w){w||(w=0);var b=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)b[C]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(C=0;16>C;++C)b[C]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=E.g[0],w=E.g[1],C=E.g[2];var S=E.g[3],I=v+(S^w&(C^S))+b[0]+3614090360&4294967295;v=w+(I<<7&4294967295|I>>>25),I=S+(C^v&(w^C))+b[1]+3905402710&4294967295,S=v+(I<<12&4294967295|I>>>20),I=C+(w^S&(v^w))+b[2]+606105819&4294967295,C=S+(I<<17&4294967295|I>>>15),I=w+(v^C&(S^v))+b[3]+3250441966&4294967295,w=C+(I<<22&4294967295|I>>>10),I=v+(S^w&(C^S))+b[4]+4118548399&4294967295,v=w+(I<<7&4294967295|I>>>25),I=S+(C^v&(w^C))+b[5]+1200080426&4294967295,S=v+(I<<12&4294967295|I>>>20),I=C+(w^S&(v^w))+b[6]+2821735955&4294967295,C=S+(I<<17&4294967295|I>>>15),I=w+(v^C&(S^v))+b[7]+4249261313&4294967295,w=C+(I<<22&4294967295|I>>>10),I=v+(S^w&(C^S))+b[8]+1770035416&4294967295,v=w+(I<<7&4294967295|I>>>25),I=S+(C^v&(w^C))+b[9]+2336552879&4294967295,S=v+(I<<12&4294967295|I>>>20),I=C+(w^S&(v^w))+b[10]+4294925233&4294967295,C=S+(I<<17&4294967295|I>>>15),I=w+(v^C&(S^v))+b[11]+2304563134&4294967295,w=C+(I<<22&4294967295|I>>>10),I=v+(S^w&(C^S))+b[12]+1804603682&4294967295,v=w+(I<<7&4294967295|I>>>25),I=S+(C^v&(w^C))+b[13]+4254626195&4294967295,S=v+(I<<12&4294967295|I>>>20),I=C+(w^S&(v^w))+b[14]+2792965006&4294967295,C=S+(I<<17&4294967295|I>>>15),I=w+(v^C&(S^v))+b[15]+1236535329&4294967295,w=C+(I<<22&4294967295|I>>>10),I=v+(C^S&(w^C))+b[1]+4129170786&4294967295,v=w+(I<<5&4294967295|I>>>27),I=S+(w^C&(v^w))+b[6]+3225465664&4294967295,S=v+(I<<9&4294967295|I>>>23),I=C+(v^w&(S^v))+b[11]+643717713&4294967295,C=S+(I<<14&4294967295|I>>>18),I=w+(S^v&(C^S))+b[0]+3921069994&4294967295,w=C+(I<<20&4294967295|I>>>12),I=v+(C^S&(w^C))+b[5]+3593408605&4294967295,v=w+(I<<5&4294967295|I>>>27),I=S+(w^C&(v^w))+b[10]+38016083&4294967295,S=v+(I<<9&4294967295|I>>>23),I=C+(v^w&(S^v))+b[15]+3634488961&4294967295,C=S+(I<<14&4294967295|I>>>18),I=w+(S^v&(C^S))+b[4]+3889429448&4294967295,w=C+(I<<20&4294967295|I>>>12),I=v+(C^S&(w^C))+b[9]+568446438&4294967295,v=w+(I<<5&4294967295|I>>>27),I=S+(w^C&(v^w))+b[14]+3275163606&4294967295,S=v+(I<<9&4294967295|I>>>23),I=C+(v^w&(S^v))+b[3]+4107603335&4294967295,C=S+(I<<14&4294967295|I>>>18),I=w+(S^v&(C^S))+b[8]+1163531501&4294967295,w=C+(I<<20&4294967295|I>>>12),I=v+(C^S&(w^C))+b[13]+2850285829&4294967295,v=w+(I<<5&4294967295|I>>>27),I=S+(w^C&(v^w))+b[2]+4243563512&4294967295,S=v+(I<<9&4294967295|I>>>23),I=C+(v^w&(S^v))+b[7]+1735328473&4294967295,C=S+(I<<14&4294967295|I>>>18),I=w+(S^v&(C^S))+b[12]+2368359562&4294967295,w=C+(I<<20&4294967295|I>>>12),I=v+(w^C^S)+b[5]+4294588738&4294967295,v=w+(I<<4&4294967295|I>>>28),I=S+(v^w^C)+b[8]+2272392833&4294967295,S=v+(I<<11&4294967295|I>>>21),I=C+(S^v^w)+b[11]+1839030562&4294967295,C=S+(I<<16&4294967295|I>>>16),I=w+(C^S^v)+b[14]+4259657740&4294967295,w=C+(I<<23&4294967295|I>>>9),I=v+(w^C^S)+b[1]+2763975236&4294967295,v=w+(I<<4&4294967295|I>>>28),I=S+(v^w^C)+b[4]+1272893353&4294967295,S=v+(I<<11&4294967295|I>>>21),I=C+(S^v^w)+b[7]+4139469664&4294967295,C=S+(I<<16&4294967295|I>>>16),I=w+(C^S^v)+b[10]+3200236656&4294967295,w=C+(I<<23&4294967295|I>>>9),I=v+(w^C^S)+b[13]+681279174&4294967295,v=w+(I<<4&4294967295|I>>>28),I=S+(v^w^C)+b[0]+3936430074&4294967295,S=v+(I<<11&4294967295|I>>>21),I=C+(S^v^w)+b[3]+3572445317&4294967295,C=S+(I<<16&4294967295|I>>>16),I=w+(C^S^v)+b[6]+76029189&4294967295,w=C+(I<<23&4294967295|I>>>9),I=v+(w^C^S)+b[9]+3654602809&4294967295,v=w+(I<<4&4294967295|I>>>28),I=S+(v^w^C)+b[12]+3873151461&4294967295,S=v+(I<<11&4294967295|I>>>21),I=C+(S^v^w)+b[15]+530742520&4294967295,C=S+(I<<16&4294967295|I>>>16),I=w+(C^S^v)+b[2]+3299628645&4294967295,w=C+(I<<23&4294967295|I>>>9),I=v+(C^(w|~S))+b[0]+4096336452&4294967295,v=w+(I<<6&4294967295|I>>>26),I=S+(w^(v|~C))+b[7]+1126891415&4294967295,S=v+(I<<10&4294967295|I>>>22),I=C+(v^(S|~w))+b[14]+2878612391&4294967295,C=S+(I<<15&4294967295|I>>>17),I=w+(S^(C|~v))+b[5]+4237533241&4294967295,w=C+(I<<21&4294967295|I>>>11),I=v+(C^(w|~S))+b[12]+1700485571&4294967295,v=w+(I<<6&4294967295|I>>>26),I=S+(w^(v|~C))+b[3]+2399980690&4294967295,S=v+(I<<10&4294967295|I>>>22),I=C+(v^(S|~w))+b[10]+4293915773&4294967295,C=S+(I<<15&4294967295|I>>>17),I=w+(S^(C|~v))+b[1]+2240044497&4294967295,w=C+(I<<21&4294967295|I>>>11),I=v+(C^(w|~S))+b[8]+1873313359&4294967295,v=w+(I<<6&4294967295|I>>>26),I=S+(w^(v|~C))+b[15]+4264355552&4294967295,S=v+(I<<10&4294967295|I>>>22),I=C+(v^(S|~w))+b[6]+2734768916&4294967295,C=S+(I<<15&4294967295|I>>>17),I=w+(S^(C|~v))+b[13]+1309151649&4294967295,w=C+(I<<21&4294967295|I>>>11),I=v+(C^(w|~S))+b[4]+4149444226&4294967295,v=w+(I<<6&4294967295|I>>>26),I=S+(w^(v|~C))+b[11]+3174756917&4294967295,S=v+(I<<10&4294967295|I>>>22),I=C+(v^(S|~w))+b[2]+718787259&4294967295,C=S+(I<<15&4294967295|I>>>17),I=w+(S^(C|~v))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var w=v-this.blockSize,b=this.B,C=this.h,S=0;S<v;){if(C==0)for(;S<=w;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<v;)if(b[C++]=E.charCodeAt(S++),C==this.blockSize){i(this,b),C=0;break}}else for(;S<v;)if(b[C++]=E[S++],C==this.blockSize){i(this,b),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var w=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=w&255,w/=256;for(this.u(E),E=Array(16),v=w=0;4>v;++v)for(var b=0;32>b;b+=8)E[w++]=this.g[v]>>>b&255;return E};function o(E,v){var w=a;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=v(E)}function s(E,v){this.h=v;for(var w=[],b=!0,C=E.length-1;0<=C;C--){var S=E[C]|0;b&&S==v||(w[C]=S,b=!1)}this.g=w}var a={};function u(E){return-128<=E&&128>E?o(E,function(v){return new s([v|0],0>v?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],w=1,b=0;E>=w;b++)v[b]=E/w|0,w*=4294967296;return new s(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(v,8)),b=p,C=0;C<E.length;C+=8){var S=Math.min(8,E.length-C),I=parseInt(E.substring(C,C+S),v);8>S?(S=l(Math.pow(v,S)),b=b.j(S).add(l(I))):(b=b.j(w),b=b.add(l(I)))}return b}var p=u(0),g=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(x(this))return-R(this).m();for(var E=0,v=1,w=0;w<this.g.length;w++){var b=this.i(w);E+=(0<=b?b:4294967296+b)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D(this))return"0";if(x(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),w=this,b="";;){var C=J(w,v).g;w=L(w,C.j(v));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=C,D(w))return S+b;for(;6>S.length;)S="0"+S;b=S+b}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function D(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=L(this,E),x(E)?-1:D(E)?0:1};function R(E){for(var v=E.g.length,w=[],b=0;b<v;b++)w[b]=~E.g[b];return new s(w,~E.h).add(g)}t.abs=function(){return x(this)?R(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),w=[],b=0,C=0;C<=v;C++){var S=b+(this.i(C)&65535)+(E.i(C)&65535),I=(S>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);b=I>>>16,S&=65535,I&=65535,w[C]=I<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function L(E,v){return E.add(R(v))}t.j=function(E){if(D(this)||D(E))return p;if(x(this))return x(E)?R(this).j(R(E)):R(R(this).j(E));if(x(E))return R(this.j(R(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,w=[],b=0;b<2*v;b++)w[b]=0;for(b=0;b<this.g.length;b++)for(var C=0;C<E.g.length;C++){var S=this.i(b)>>>16,I=this.i(b)&65535,Cr=E.i(C)>>>16,Ua=E.i(C)&65535;w[2*b+2*C]+=I*Ua,G(w,2*b+2*C),w[2*b+2*C+1]+=S*Ua,G(w,2*b+2*C+1),w[2*b+2*C+1]+=I*Cr,G(w,2*b+2*C+1),w[2*b+2*C+2]+=S*Cr,G(w,2*b+2*C+2)}for(b=0;b<v;b++)w[b]=w[2*b+1]<<16|w[2*b];for(b=v;b<2*v;b++)w[b]=0;return new s(w,0)};function G(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function U(E,v){this.g=E,this.h=v}function J(E,v){if(D(v))throw Error("division by zero");if(D(E))return new U(p,p);if(x(E))return v=J(R(E),v),new U(R(v.g),R(v.h));if(x(v))return v=J(E,R(v)),new U(R(v.g),v.h);if(30<E.g.length){if(x(E)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var w=g,b=v;0>=b.l(E);)w=we(w),b=we(b);var C=X(w,1),S=X(b,1);for(b=X(b,2),w=X(w,2);!D(b);){var I=S.add(b);0>=I.l(E)&&(C=C.add(w),S=I),b=X(b,1),w=X(w,1)}return v=L(E,C.j(v)),new U(C,v)}for(C=p;0<=E.l(v);){for(w=Math.max(1,Math.floor(E.m()/v.m())),b=Math.ceil(Math.log(w)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),S=l(w),I=S.j(v);x(I)||0<I.l(E);)w-=b,S=l(w),I=S.j(v);D(S)&&(S=g),C=C.add(S),E=L(E,I)}return new U(C,E)}t.A=function(E){return J(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),w=[],b=0;b<v;b++)w[b]=this.i(b)&E.i(b);return new s(w,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),w=[],b=0;b<v;b++)w[b]=this.i(b)|E.i(b);return new s(w,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),w=[],b=0;b<v;b++)w[b]=this.i(b)^E.i(b);return new s(w,this.h^E.h)};function we(E){for(var v=E.g.length+1,w=[],b=0;b<v;b++)w[b]=E.i(b)<<1|E.i(b-1)>>>31;return new s(w,E.h)}function X(E,v){var w=v>>5;v%=32;for(var b=E.g.length-w,C=[],S=0;S<b;S++)C[S]=0<v?E.i(S+w)>>>v|E.i(S+w+1)<<32-v:E.i(S+w);return new s(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,M0=cM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Yi=cM.Integer=s}).apply(typeof aM<"u"?aM:typeof self<"u"?self:typeof window<"u"?window:{});var Hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ni={};var x0,R6,ga,N0,xu,qf,P0,O0,k0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hf=="object"&&Hf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var T=c[m];if(!(T in f))break e;f=f[T]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,T={next:function(){if(!m&&f<c.length){var M=f++;return{value:d(M,c[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function D(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,T,M){for(var V=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)V[Ne-2]=arguments[Ne];return d.prototype[T].apply(m,V)}}function x(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let T=c.length||0,M=m.length||0;c.length=T+M;for(let V=0;V<M;V++)c[T+V]=m[V]}else c.push(m)}}class L{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var we=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function X(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(f in m)c[f]=m[f];for(let M=0;M<w.length;M++)f=w[M],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=tm;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Cr{constructor(){this.h=this.g=null}add(d,f){let m=Ua.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ua=new L(()=>new vN,c=>c.reset());class vN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ba,$a=!1,tm=new Cr,zI=()=>{let c=a.Promise.resolve(void 0);Ba=()=>{c.then(_N)}};var _N=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=Ua;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}$a=!1};function ui(){this.s=this.s,this.C=this.C}ui.prototype.s=!1,ui.prototype.ma=function(){this.s||(this.s=!0,this.N())},ui.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var wN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ha(c,d){if(Tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(we){e:{try{J(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:IN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ha.aa.h.call(this)}}D(Ha,Tt);var IN={2:"touch",3:"pen",4:"mouse"};Ha.prototype.h=function(){Ha.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var qa="closure_listenable_"+(1e6*Math.random()|0),EN=0;function bN(c,d,f,m,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=T,this.key=++EN,this.da=this.fa=!1}function nl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rl(c){this.src=c,this.g={},this.h=0}rl.prototype.add=function(c,d,f,m,T){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var V=rm(c,d,m,T);return-1<V?(d=c[V],f||(d.fa=!1)):(d=new bN(d,this.src,M,!!m,T),d.fa=f,c.push(d)),d};function nm(c,d){var f=d.type;if(f in c.g){var m=c.g[f],T=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=T)&&Array.prototype.splice.call(m,T,1),M&&(nl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function rm(c,d,f,m){for(var T=0;T<c.length;++T){var M=c[T];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==m)return T}return-1}var im="closure_lm_"+(1e6*Math.random()|0),om={};function GI(c,d,f,m,T){if(m&&m.once)return KI(c,d,f,m,T);if(Array.isArray(d)){for(var M=0;M<d.length;M++)GI(c,d[M],f,m,T);return null}return f=um(f),c&&c[qa]?c.K(d,f,l(m)?!!m.capture:!!m,T):WI(c,d,f,!1,m,T)}function WI(c,d,f,m,T,M){if(!d)throw Error("Invalid event type");var V=l(T)?!!T.capture:!!T,Ne=am(c);if(Ne||(c[im]=Ne=new rl(c)),f=Ne.add(d,f,m,V,M),f.proxy)return f;if(m=DN(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)wN||(T=V),T===void 0&&(T=!1),c.addEventListener(d.toString(),m,T);else if(c.attachEvent)c.attachEvent(YI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function DN(){function c(f){return d.call(c.src,c.listener,f)}let d=CN;return c}function KI(c,d,f,m,T){if(Array.isArray(d)){for(var M=0;M<d.length;M++)KI(c,d[M],f,m,T);return null}return f=um(f),c&&c[qa]?c.L(d,f,l(m)?!!m.capture:!!m,T):WI(c,d,f,!0,m,T)}function QI(c,d,f,m,T){if(Array.isArray(d))for(var M=0;M<d.length;M++)QI(c,d[M],f,m,T);else m=l(m)?!!m.capture:!!m,f=um(f),c&&c[qa]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],f=rm(M,f,m,T),-1<f&&(nl(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=am(c))&&(d=c.g[d.toString()],c=-1,d&&(c=rm(d,f,m,T)),(f=-1<c?d[c]:null)&&sm(f))}function sm(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[qa])nm(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(YI(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=am(d))?(nm(f,c),f.h==0&&(f.src=null,d[im]=null)):nl(c)}}}function YI(c){return c in om?om[c]:om[c]="on"+c}function CN(c,d){if(c.da)c=!0;else{d=new Ha(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&sm(c),c=f.call(m,d)}return c}function am(c){return c=c[im],c instanceof rl?c:null}var cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function um(c){return typeof c=="function"?c:(c[cm]||(c[cm]=function(d){return c.handleEvent(d)}),c[cm])}function St(){ui.call(this),this.i=new rl(this),this.M=this,this.F=null}D(St,ui),St.prototype[qa]=!0,St.prototype.removeEventListener=function(c,d,f,m){QI(this,c,d,f,m)};function Lt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Tt(d,c);else if(d instanceof Tt)d.target=d.target||c;else{var T=d;d=new Tt(m,c),b(d,T)}if(T=!0,f)for(var M=f.length-1;0<=M;M--){var V=d.g=f[M];T=il(V,m,!0,d)&&T}if(V=d.g=c,T=il(V,m,!0,d)&&T,T=il(V,m,!1,d)&&T,f)for(M=0;M<f.length;M++)V=d.g=f[M],T=il(V,m,!1,d)&&T}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)nl(f[m]);delete c.g[d],c.h--}}this.F=null},St.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},St.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function il(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,M=0;M<d.length;++M){var V=d[M];if(V&&!V.da&&V.capture==f){var Ne=V.listener,wt=V.ha||V.src;V.fa&&nm(c.i,V),T=Ne.call(wt,m)!==!1&&T}}return T&&!m.defaultPrevented}function ZI(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function JI(c){c.g=ZI(()=>{c.g=null,c.i&&(c.i=!1,JI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class TN extends ui{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:JI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function za(c){ui.call(this),this.h=c,this.g={}}D(za,ui);var XI=[];function eE(c){X(c.g,function(d,f){this.g.hasOwnProperty(f)&&sm(d)},c),c.g={}}za.prototype.N=function(){za.aa.N.call(this),eE(this)},za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lm=a.JSON.stringify,SN=a.JSON.parse,AN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function dm(){}dm.prototype.h=null;function tE(c){return c.h||(c.h=c.i())}function nE(){}var Ga={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hm(){Tt.call(this,"d")}D(hm,Tt);function fm(){Tt.call(this,"c")}D(fm,Tt);var to={},rE=null;function ol(){return rE=rE||new St}to.La="serverreachability";function iE(c){Tt.call(this,to.La,c)}D(iE,Tt);function Wa(c){let d=ol();Lt(d,new iE(d))}to.STAT_EVENT="statevent";function oE(c,d){Tt.call(this,to.STAT_EVENT,c),this.stat=d}D(oE,Tt);function Vt(c){let d=ol();Lt(d,new oE(d,c))}to.Ma="timingevent";function sE(c,d){Tt.call(this,to.Ma,c),this.size=d}D(sE,Tt);function Ka(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Qa(){this.g=!0}Qa.prototype.xa=function(){this.g=!1};function RN(c,d,f,m,T,M){c.info(function(){if(c.g)if(M)for(var V="",Ne=M.split("&"),wt=0;wt<Ne.length;wt++){var De=Ne[wt].split("=");if(1<De.length){var At=De[0];De=De[1];var Rt=At.split("_");V=2<=Rt.length&&Rt[1]=="type"?V+(At+"="+De+"&"):V+(At+"=redacted&")}}else V=null;else V=M;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+d+`
`+f+`
`+V})}function MN(c,d,f,m,T,M,V){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+d+`
`+f+`
`+M+" "+V})}function es(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+NN(c,f)+(m?" "+m:"")})}function xN(c,d){c.info(function(){return"TIMEOUT: "+d})}Qa.prototype.info=function(){};function NN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var M=T[0];if(M!="noop"&&M!="stop"&&M!="close")for(var V=1;V<T.length;V++)T[V]=""}}}}return lm(f)}catch{return d}}var sl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},aE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pm;function al(){}D(al,dm),al.prototype.g=function(){return new XMLHttpRequest},al.prototype.i=function(){return{}},pm=new al;function li(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new za(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cE}function cE(){this.i=null,this.g="",this.h=!1}var uE={},mm={};function gm(c,d,f){c.L=1,c.v=dl(Tr(d)),c.m=f,c.P=!0,lE(c,null)}function lE(c,d){c.F=Date.now(),cl(c),c.A=Tr(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),DE(f.i,"t",m),c.C=0,f=c.j.J,c.h=new cE,c.g=$E(c.j,f?d:null,!c.m),0<c.O&&(c.M=new TN(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(XI[0]=T.toString()),T=XI);for(var M=0;M<T.length;M++){var V=GI(f,T[M],m||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Wa(),RN(c.i,c.u,c.A,c.l,c.R,c.m)}li.prototype.ca=function(c){c=c.target;let d=this.M;d&&Sr(c)==3?d.j():this.Y(c)},li.prototype.Y=function(c){try{if(c==this.g)e:{let Rt=Sr(this.g);var d=this.g.Ba();let rs=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||xE(this.g)))){this.J||Rt!=4||d==7||(d==8||0>=rs?Wa(3):Wa(2)),ym(this);var f=this.g.Z();this.X=f;t:if(dE(this)){var m=xE(this.g);c="";var T=m.length,M=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){no(this),Ya(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(M&&d==T-1)});m.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,MN(this.i,this.u,this.A,this.l,this.R,Rt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,wt=this.g;if((Ne=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ne)){var De=Ne;break t}}De=null}if(f=De)es(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vm(this,f);else{this.o=!1,this.s=3,Vt(12),no(this),Ya(this);break e}}if(this.P){f=!0;let Nn;for(;!this.J&&this.C<V.length;)if(Nn=PN(this,V),Nn==mm){Rt==4&&(this.s=4,Vt(14),f=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==uE){this.s=4,Vt(15),es(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else es(this.i,this.l,Nn,null),vm(this,Nn);if(dE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||V.length!=0||this.h.h||(this.s=1,Vt(16),f=!1),this.o=this.o&&f,!f)es(this.i,this.l,V,"[Invalid Chunked Response]"),no(this),Ya(this);else if(0<V.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Dm(At),At.M=!0,Vt(11))}}else es(this.i,this.l,V,null),vm(this,V);Rt==4&&no(this),this.o&&!this.J&&(Rt==4?VE(this.j,this):(this.o=!1,cl(this)))}else YN(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),no(this),Ya(this)}}}catch{}finally{}};function dE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function PN(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?mm:(f=Number(d.substring(f,m)),isNaN(f)?uE:(m+=1,m+f>d.length?mm:(d=d.slice(m,m+f),c.C=m+f,d)))}li.prototype.cancel=function(){this.J=!0,no(this)};function cl(c){c.S=Date.now()+c.I,hE(c,c.I)}function hE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ka(g(c.ba,c),d)}function ym(c){c.B&&(a.clearTimeout(c.B),c.B=null)}li.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(xN(this.i,this.A),this.L!=2&&(Wa(),Vt(17)),no(this),this.s=2,Ya(this)):hE(this,this.S-c)};function Ya(c){c.j.G==0||c.J||VE(c.j,c)}function no(c){ym(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,eE(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function vm(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||_m(f.h,c))){if(!c.K&&_m(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)gl(f),pl(f);else break e;bm(f),Vt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ka(g(f.Za,f),6e3));if(1>=mE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else io(f,11)}else if((c.K||f.g==c)&&gl(f),!G(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let De=T[d];if(f.T=De[0],De=De[1],f.G==2)if(De[0]=="c"){f.K=De[1],f.ia=De[2];let At=De[3];At!=null&&(f.la=At,f.j.info("VER="+f.la));let Rt=De[4];Rt!=null&&(f.Aa=Rt,f.j.info("SVER="+f.Aa));let rs=De[5];rs!=null&&typeof rs=="number"&&0<rs&&(m=1.5*rs,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Nn=c.g;if(Nn){let vl=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vl){var M=m.h;M.g||vl.indexOf("spdy")==-1&&vl.indexOf("quic")==-1&&vl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(wm(M,M.h),M.h=null))}if(m.D){let Cm=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cm&&(m.ya=Cm,Be(m.I,m.D,Cm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var V=c;if(m.qa=BE(m,m.J?m.ia:null,m.W),V.K){gE(m.h,V);var Ne=V,wt=m.L;wt&&(Ne.I=wt),Ne.B&&(ym(Ne),cl(Ne)),m.g=V}else FE(m);0<f.i.length&&ml(f)}else De[0]!="stop"&&De[0]!="close"||io(f,7);else f.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?io(f,7):Em(f):De[0]!="noop"&&f.l&&f.l.ta(De),f.v=0)}}Wa(4)}catch{}}var ON=class{constructor(c,d){this.g=c,this.map=d}};function fE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mE(c){return c.h?1:c.g?c.g.size:0}function _m(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function wm(c,d){c.g?c.g.add(d):c.h=d}function gE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}fE.prototype.cancel=function(){if(this.i=yE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function yE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return x(c.i)}function kN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function FN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function vE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=FN(c),m=kN(c),T=m.length,M=0;M<T;M++)d.call(void 0,m[M],f&&f[M],c)}var _E=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function LN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),T=null;if(0<=m){var M=c[f].substring(0,m);T=c[f].substring(m+1)}else M=c[f];d(M,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function ro(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ro){this.h=c.h,ul(this,c.j),this.o=c.o,this.g=c.g,ll(this,c.s),this.l=c.l;var d=c.i,f=new Xa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),wE(this,f),this.m=c.m}else c&&(d=String(c).match(_E))?(this.h=!1,ul(this,d[1]||"",!0),this.o=Za(d[2]||""),this.g=Za(d[3]||"",!0),ll(this,d[4]),this.l=Za(d[5]||"",!0),wE(this,d[6]||"",!0),this.m=Za(d[7]||"")):(this.h=!1,this.i=new Xa(null,this.h))}ro.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ja(d,IE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ja(d,IE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ja(f,f.charAt(0)=="/"?UN:jN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ja(f,$N)),c.join("")};function Tr(c){return new ro(c)}function ul(c,d,f){c.j=f?Za(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ll(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function wE(c,d,f){d instanceof Xa?(c.i=d,HN(c.i,c.h)):(f||(d=Ja(d,BN)),c.i=new Xa(d,c.h))}function Be(c,d,f){c.i.set(d,f)}function dl(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Za(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ja(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,VN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function VN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var IE=/[#\/\?@]/g,jN=/[#\?:]/g,UN=/[#\?]/g,BN=/[#\?@]/g,$N=/#/g;function Xa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function di(c){c.g||(c.g=new Map,c.h=0,c.i&&LN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Xa.prototype,t.add=function(c,d){di(this),this.i=null,c=ts(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function EE(c,d){di(c),d=ts(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function bE(c,d){return di(c),d=ts(c,d),c.g.has(d)}t.forEach=function(c,d){di(this),this.g.forEach(function(f,m){f.forEach(function(T){c.call(d,T,m,this)},this)},this)},t.na=function(){di(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let T=c[m];for(let M=0;M<T.length;M++)f.push(d[m])}return f},t.V=function(c){di(this);let d=[];if(typeof c=="string")bE(this,c)&&(d=d.concat(this.g.get(ts(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return di(this),this.i=null,c=ts(this,c),bE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function DE(c,d,f){EE(c,d),0<f.length&&(c.i=null,c.g.set(ts(c,d),x(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let M=encodeURIComponent(String(m)),V=this.V(m);for(m=0;m<V.length;m++){var T=M;V[m]!==""&&(T+="="+encodeURIComponent(String(V[m]))),c.push(T)}}return this.i=c.join("&")};function ts(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function HN(c,d){d&&!c.j&&(di(c),c.i=null,c.g.forEach(function(f,m){var T=m.toLowerCase();m!=T&&(EE(this,m),DE(this,T,f))},c)),c.j=d}function qN(c,d){let f=new Qa;if(a.Image){let m=new Image;m.onload=y(hi,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(hi,f,"TestLoadImage: error",!1,d,m),m.onabort=y(hi,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(hi,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function zN(c,d){let f=new Qa,m=new AbortController,T=setTimeout(()=>{m.abort(),hi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(T),M.ok?hi(f,"TestPingServer: ok",!0,d):hi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),hi(f,"TestPingServer: error",!1,d)})}function hi(c,d,f,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(f)}catch{}}function GN(){this.g=new AN}function WN(c,d,f){let m=f||"";try{vE(c,function(T,M){let V=T;l(T)&&(V=lm(T)),d.push(m+M+"="+encodeURIComponent(V))})}catch(T){throw d.push(m+"type="+encodeURIComponent("_badmap")),T}}function ec(c){this.l=c.Ub||null,this.j=c.eb||!1}D(ec,dm),ec.prototype.g=function(){return new hl(this.l,this.j)},ec.prototype.i=function(c){return function(){return c}}({});function hl(c,d){St.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(hl,St),t=hl.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,nc(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tc(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,nc(this)),this.g&&(this.readyState=3,nc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;CE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function CE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?tc(this):nc(this),this.readyState==3&&CE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,tc(this))},t.Qa=function(c){this.g&&(this.response=c,tc(this))},t.ga=function(){this.g&&tc(this)};function tc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,nc(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function nc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function TE(c){let d="";return X(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Im(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=TE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Be(c,d,f))}function We(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(We,St);var KN=/^https?$/i,QN=["POST","PUT"];t=We.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pm.g(),this.v=this.o?tE(this.o):tE(pm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){SE(this,M);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)f.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())f.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(QN,d,void 0))||m||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,V]of f)this.g.setRequestHeader(M,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ME(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){SE(this,M)}};function SE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,AE(c),fl(c)}function AE(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),fl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fl(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?RE(this):this.bb())},t.bb=function(){RE(this)};function RE(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Sr(c)!=4||c.Z()!=2)){if(c.u&&Sr(c)==4)ZI(c.Ea,0,c);else if(Lt(c,"readystatechange"),Sr(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=V===0){var T=String(c.D).match(_E)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),m=!KN.test(T?T.toLowerCase():"")}f=m}if(f)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var M=2<Sr(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",AE(c)}}finally{fl(c)}}}}function fl(c,d){if(c.g){ME(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Lt(c,"ready");try{f.onreadystatechange=m}catch{}}}function ME(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Sr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),SN(d)}};function xE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function YN(c){let d={};c=(c.g&&2<=Sr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(G(c[m]))continue;var f=C(c[m]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[T]||[];d[T]=M,M.push(f)}E(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function NE(c){this.Aa=0,this.i=[],this.j=new Qa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rc("baseRetryDelayMs",5e3,c),this.cb=rc("retryDelaySeedMs",1e4,c),this.Wa=rc("forwardChannelMaxRetries",2,c),this.wa=rc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new fE(c&&c.concurrentRequestLimit),this.Da=new GN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=NE.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Vt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=BE(this,null,this.W),ml(this)};function Em(c){if(PE(c),c.G==3){var d=c.U++,f=Tr(c.I);if(Be(f,"SID",c.K),Be(f,"RID",d),Be(f,"TYPE","terminate"),ic(c,f),d=new li(c,c.j,d),d.L=2,d.v=dl(Tr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=$E(d.j,null),d.g.ea(d.v)),d.F=Date.now(),cl(d)}UE(c)}function pl(c){c.g&&(Dm(c),c.g.cancel(),c.g=null)}function PE(c){pl(c),c.u&&(a.clearTimeout(c.u),c.u=null),gl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ml(c){if(!pE(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ba||zI(),$a||(Ba(),$a=!0),tm.add(d,c),c.B=0}}function ZN(c,d){return mE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ka(g(c.Ga,c,d),jE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new li(this,this.j,c),M=this.o;if(this.S&&(M?(M=v(M),b(M,this.S)):M=this.S),this.m!==null||this.O||(T.H=M,M=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=kE(this,T,d),f=Tr(this.I),Be(f,"RID",c),Be(f,"CVER",22),this.D&&Be(f,"X-HTTP-Session-Id",this.D),ic(this,f),M&&(this.O?d="headers="+encodeURIComponent(String(TE(M)))+"&"+d:this.m&&Im(f,this.m,M)),wm(this.h,T),this.Ua&&Be(f,"TYPE","init"),this.P?(Be(f,"$req",d),Be(f,"SID","null"),T.T=!0,gm(T,f,null)):gm(T,f,d),this.G=2}}else this.G==3&&(c?OE(this,c):this.i.length==0||pE(this.h)||OE(this))};function OE(c,d){var f;d?f=d.l:f=c.U++;let m=Tr(c.I);Be(m,"SID",c.K),Be(m,"RID",f),Be(m,"AID",c.T),ic(c,m),c.m&&c.o&&Im(m,c.m,c.o),f=new li(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=kE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wm(c.h,f),gm(f,m,d)}function ic(c,d){c.H&&X(c.H,function(f,m){Be(d,m,f)}),c.l&&vE({},function(f,m){Be(d,m,f)})}function kE(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var T=c.i;let M=-1;for(;;){let V=["count="+f];M==-1?0<f?(M=T[0].g,V.push("ofs="+M)):M=0:V.push("ofs="+M);let Ne=!0;for(let wt=0;wt<f;wt++){let De=T[wt].g,At=T[wt].map;if(De-=M,0>De)M=Math.max(0,T[wt].g-100),Ne=!1;else try{WN(At,V,"req"+De+"_")}catch{m&&m(At)}}if(Ne){m=V.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function FE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ba||zI(),$a||(Ba(),$a=!0),tm.add(d,c),c.v=0}}function bm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ka(g(c.Fa,c),jE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,LE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ka(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),pl(this),LE(this))};function Dm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function LE(c){c.g=new li(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Tr(c.qa);Be(d,"RID","rpc"),Be(d,"SID",c.K),Be(d,"AID",c.T),Be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(d,"TO",c.ja),Be(d,"TYPE","xmlhttp"),ic(c,d),c.m&&c.o&&Im(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=dl(Tr(d)),f.m=null,f.P=!0,lE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,pl(this),bm(this),Vt(19))};function gl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function VE(c,d){var f=null;if(c.g==d){gl(c),Dm(c),c.g=null;var m=2}else if(_m(c.h,d))f=d.D,gE(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;m=ol(),Lt(m,new sE(m,f)),ml(c)}else FE(c);else if(T=d.s,T==3||T==0&&0<d.X||!(m==1&&ZN(c,d)||m==2&&bm(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:io(c,5);break;case 4:io(c,10);break;case 3:io(c,6);break;default:io(c,2)}}}function jE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function io(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let T=!m;m=new ro(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ul(m,"https"),dl(m),T?qN(m.toString(),f):zN(m.toString(),f)}else Vt(2);c.G=0,c.l&&c.l.sa(d),UE(c),PE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function UE(c){if(c.G=0,c.ka=[],c.l){let d=yE(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function BE(c,d,f){var m=f instanceof ro?Tr(f):new ro(f);if(m.g!="")d&&(m.g=d+"."+m.g),ll(m,m.s);else{var T=a.location;m=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var M=new ro(null);m&&ul(M,m),d&&(M.g=d),T&&ll(M,T),f&&(M.l=f),m=M}return f=c.D,d=c.ya,f&&d&&Be(m,f,d),Be(m,"VER",c.la),ic(c,m),m}function $E(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new We(new ec({eb:f})):new We(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function HE(){}t=HE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yl(){}yl.prototype.g=function(c,d){return new nn(c,d)};function nn(c,d){St.call(this),this.g=new NE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ns(this)}D(nn,St),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Em(this.g)},nn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=lm(c),c=f);d.i.push(new ON(d.Ya++,c)),d.G==3&&ml(d)},nn.prototype.N=function(){this.g.l=null,delete this.j,Em(this.g),delete this.g,nn.aa.N.call(this)};function qE(c){hm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(qE,hm);function zE(){fm.call(this),this.status=1}D(zE,fm);function ns(c){this.g=c}D(ns,HE),ns.prototype.ua=function(){Lt(this.g,"a")},ns.prototype.ta=function(c){Lt(this.g,new qE(c))},ns.prototype.sa=function(c){Lt(this.g,new zE)},ns.prototype.ra=function(){Lt(this.g,"b")},yl.prototype.createWebChannel=yl.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,k0=ni.createWebChannelTransport=function(){return new yl},O0=ni.getStatEventTarget=function(){return ol()},P0=ni.Event=to,qf=ni.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sl.NO_ERROR=0,sl.TIMEOUT=8,sl.HTTP_ERROR=6,xu=ni.ErrorCode=sl,aE.COMPLETE="complete",N0=ni.EventType=aE,nE.EventType=Ga,Ga.OPEN="a",Ga.CLOSE="b",Ga.ERROR="c",Ga.MESSAGE="d",St.prototype.listen=St.prototype.K,ga=ni.WebChannel=nE,R6=ni.FetchXmlHttpFactory=ec,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,x0=ni.XhrIo=We}).apply(typeof Hf<"u"?Hf:typeof self<"u"?self:typeof window<"u"?window:{});var uM="@firebase/firestore";var _t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");var La="10.14.0";var qo=new Hi("@firebase/firestore");function Nu(){return qo.logLevel}function Q(t,...e){if(qo.logLevel<=ve.DEBUG){let n=e.map(_I);qo.debug(`Firestore (${La}): ${t}`,...n)}}function ii(t,...e){if(qo.logLevel<=ve.ERROR){let n=e.map(_I);qo.error(`Firestore (${La}): ${t}`,...n)}}function ba(t,...e){if(qo.logLevel<=ve.WARN){let n=e.map(_I);qo.warn(`Firestore (${La}): ${t}`,...n)}}function _I(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ne(t="Unexpected state"){let e=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: `+t;throw ii(e),new Error(e)}function Me(t,e){t||ne()}function oe(t,e){return t}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends yn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Qf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},U0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}},B0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},$0=class{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new Qf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new _t(e)}},H0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},q0=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new H0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}},z0=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},G0=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Me(this.o===void 0);let r=o=>{o.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new z0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function M6(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Yf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=M6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ce(t,e){return t<e?-1:t>e?1:0}function Da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Ct=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ce=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Ct(0,0))}static max(){return new t(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ge=class t extends Zf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},x6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_n=class t extends Zf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return x6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new z(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new z(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ge.fromString(e))}static fromName(e){return new t(Ge.fromString(e).popFirst(5))}static empty(){return new t(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ge(e.slice()))}};var W0=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};W0.UNKNOWN_ID=-1;function N6(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new zo(i,Z.empty(),e)}function P6(t){return new zo(t.readTime,t.key,-1)}var zo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ce.min(),Z.empty(),-1)}static max(){return new t(ce.max(),Z.empty(),-1)}};function O6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}var k6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",K0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Zu(t){return _(this,null,function*(){if(t.code!==P.FAILED_PRECONDITION||t.message!==k6)throw t;Q("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function F6(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ju(t){return t.name==="IndexedDbTransactionError"}var qM=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Ap(t){return t==null}function Vu(t){return t===0&&1/t==-1/0}function L6(t){return typeof t=="number"&&Number.isInteger(t)&&!Vu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var V6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fJ=[...V6,"documentOverlays"],j6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],U6=j6,B6=[...U6,"indexConfiguration","indexState","indexEntries"];var pJ=[...B6,"globals"];function lM(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var tt=class t{constructor(e,n){this.comparator=e,this.root=n||_r.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_r.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_r.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wa(this.root,e,this.comparator,!1)}getReverseIterator(){return new wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wa(this.root,e,this.comparator,!0)}},wa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_r=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};_r.EMPTY=null,_r.RED=!0,_r.BLACK=!1;_r.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,o){return this}insert(e,n,r){return new _r(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var kt=class t{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jf(this.data.getIterator())}getIteratorFrom(e){return new Jf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Jf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Rn=class t{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new t([])}unionWith(e){let n=new kt(_n.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Xf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ft=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Xf("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ft.EMPTY_BYTE_STRING=new Ft("");var $6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(t){if(Me(!!t),typeof t=="string"){let e=0,n=$6.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ji(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}function wI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function II(t){let e=t.mapValue.fields.__previous_value__;return wI(e)?II(e):e}function ju(t){let e=oi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}var Q0=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},ep=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var zf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wI(t)?4:WM(t)?9007199254740991:GM(t)?10:11:ne()}function br(t,e){if(t===e)return!0;let n=Go(t);if(n!==Go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ju(t).isEqual(ju(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=oi(i.timestampValue),a=oi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ji(i.bytesValue).isEqual(Ji(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ze(i.geoPointValue.latitude)===ze(o.geoPointValue.latitude)&&ze(i.geoPointValue.longitude)===ze(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ze(i.integerValue)===ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ze(i.doubleValue),a=ze(o.doubleValue);return s===a?Vu(s)===Vu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Da(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(lM(s)!==lM(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!br(s[u],a[u])))return!1;return!0}(t,e);default:return ne()}}function Uu(t,e){return(t.values||[]).find(n=>br(n,e))!==void 0}function Ca(t,e){if(t===e)return 0;let n=Go(t),r=Go(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=ze(o.integerValue||o.doubleValue),u=ze(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return dM(t.timestampValue,e.timestampValue);case 4:return dM(ju(t),ju(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(o,s){let a=Ji(o),u=Ji(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ce(a[l],u[l]);if(h!==0)return h}return Ce(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ce(ze(o.latitude),ze(s.latitude));return a!==0?a:Ce(ze(o.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hM(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,D=(u=g.value)===null||u===void 0?void 0:u.arrayValue,x=Ce(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=D?.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:hM(y,D)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===zf.mapValue&&s===zf.mapValue)return 0;if(o===zf.mapValue)return 1;if(s===zf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Ce(u[p],h[p]);if(g!==0)return g;let y=Ca(a[u[p]],l[h[p]]);if(y!==0)return y}return Ce(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ne()}}function dM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);let n=oi(t),r=oi(e),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function hM(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ca(n[i],r[i]);if(o)return o}return Ce(n.length,r.length)}function Ta(t){return Y0(t)}function Y0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=oi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Y0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Y0(n.fields[s])}`;return i+"}"}(t.mapValue):ne()}function fM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Z0(t){return!!t&&"integerValue"in t}function EI(t){return!!t&&"arrayValue"in t}function pM(t){return!!t&&"nullValue"in t}function mM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wf(t){return!!t&&"mapValue"in t}function GM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ou(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Zo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ou(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ou(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var vn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ou(n)}setAll(e){let n=_n.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ou(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zo(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Ou(this.value))}};function KM(t){let e=[];return Zo(t.fields,(n,r)=>{let i=new _n([n]);if(Wf(r)){let o=KM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Rn(e)}var Qn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ce.min(),ce.min(),ce.min(),vn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ce.min(),ce.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ce.min(),ce.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Sa=class{constructor(e,n){this.position=e,this.inclusive=n}};function gM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Z.comparator(Z.fromName(s.referenceValue),n.key):r=Ca(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}var Aa=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function H6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var tp=class{},lt=class t extends tp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X0(e,n,r):n==="array-contains"?new nw(e,r):n==="in"?new rw(e,r):n==="not-in"?new iw(e,r):n==="array-contains-any"?new ow(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ew(e,r):new tw(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ca(n,this.value)):n!==null&&Go(this.value)===Go(n)&&this.matchesComparison(Ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Yn=class t extends tp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return QM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function QM(t){return t.op==="and"}function YM(t){return q6(t)&&QM(t)}function q6(t){for(let e of t.filters)if(e instanceof Yn)return!1;return!0}function J0(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+Ta(t.value);if(YM(t))return t.filters.map(e=>J0(e)).join(",");{let e=t.filters.map(n=>J0(n)).join(",");return`${t.op}(${e})`}}function ZM(t,e){return t instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&br(r.value,i.value)}(t,e):t instanceof Yn?function(r,i){return i instanceof Yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ZM(s,i.filters[a]),!0):!1}(t,e):void ne()}function JM(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ta(n.value)}`}(t):t instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(JM).join(" ,")+"}"}(t):"Filter"}var X0=class extends lt{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){let n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}},ew=class extends lt{constructor(e,n){super(e,"in",n),this.keys=XM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},tw=class extends lt{constructor(e,n){super(e,"not-in",n),this.keys=XM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function XM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}var nw=class extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return EI(n)&&Uu(n.arrayValue,this.value)}},rw=class extends lt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Uu(this.value.arrayValue,n)}},iw=class extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Uu(this.value.arrayValue,n)}},ow=class extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!EI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uu(this.value.arrayValue,r))}};var sw=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function vM(t,e=null,n=[],r=[],i=null,o=null,s=null){return new sw(t,e,n,r,i,o,s)}function bI(t){let e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>J0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ap(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ta(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ta(r)).join(",")),e.ue=n}return e.ue}function DI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yM(t.startAt,e.startAt)&&yM(t.endAt,e.endAt)}function aw(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Wo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function z6(t,e,n,r,i,o,s,a){return new Wo(t,e,n,r,i,o,s,a)}function Rp(t){return new Wo(t)}function _M(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ex(t){return t.collectionGroup!==null}function ku(t){let e=oe(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new kt(_n.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Aa(o,r))}),n.has(_n.keyField().canonicalString())||e.ce.push(new Aa(_n.keyField(),r))}return e.ce}function wr(t){let e=oe(t);return e.le||(e.le=G6(e,ku(t))),e.le}function G6(t,e){if(t.limitType==="F")return vM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Aa(i.field,o)});let n=t.endAt?new Sa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sa(t.startAt.position,t.startAt.inclusive):null;return vM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cw(t,e){let n=t.filters.concat([e]);return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uw(t,e,n){return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mp(t,e){return DI(wr(t),wr(e))&&t.limitType===e.limitType}function tx(t){return`${bI(wr(t))}|lt:${t.limitType}`}function ya(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>JM(i)).join(", ")}]`),Ap(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ta(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ta(i)).join(",")),`Target(${r})`}(wr(t))}; limitType=${t.limitType})`}function xp(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ku(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=gM(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,ku(r),i)||r.endAt&&!function(s,a,u){let l=gM(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,ku(r),i))}(t,e)}function W6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nx(t){return(e,n)=>{let r=!1;for(let i of ku(t)){let o=K6(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function K6(t,e,n){let r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ca(u,l):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var Xi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return zM(this.inner)}size(){return this.innerSize}};var Q6=new tt(Z.comparator);function si(){return Q6}var rx=new tt(Z.comparator);function Pu(...t){let e=rx;for(let n of t)e=e.insert(n.key,n);return e}function ix(t){let e=rx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bo(){return Fu()}function ox(){return Fu()}function Fu(){return new Xi(t=>t.toString(),(t,e)=>t.isEqual(e))}var Y6=new tt(Z.comparator),Z6=new kt(Z.comparator);function _e(...t){let e=Z6;for(let n of t)e=e.add(n);return e}var J6=new kt(Ce);function X6(){return J6}function CI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vu(e)?"-0":e}}function sx(t){return{integerValue:""+t}}function eH(t,e){return L6(e)?sx(e):CI(t,e)}var Ra=class{constructor(){this._=void 0}};function tH(t,e,n){return t instanceof Ma?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&wI(o)&&(o=II(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ko?cx(t,e):t instanceof Qo?ux(t,e):function(i,o){let s=ax(i,o),a=wM(s)+wM(i.Pe);return Z0(s)&&Z0(i.Pe)?sx(a):CI(i.serializer,a)}(t,e)}function nH(t,e,n){return t instanceof Ko?cx(t,e):t instanceof Qo?ux(t,e):n}function ax(t,e){return t instanceof xa?function(r){return Z0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ma=class extends Ra{},Ko=class extends Ra{constructor(e){super(),this.elements=e}};function cx(t,e){let n=lx(e);for(let r of t.elements)n.some(i=>br(i,r))||n.push(r);return{arrayValue:{values:n}}}var Qo=class extends Ra{constructor(e){super(),this.elements=e}};function ux(t,e){let n=lx(e);for(let r of t.elements)n=n.filter(i=>!br(i,r));return{arrayValue:{values:n}}}var xa=class extends Ra{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function wM(t){return ze(t.integerValue||t.doubleValue)}function lx(t){return EI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ko&&i instanceof Ko||r instanceof Qo&&i instanceof Qo?Da(r.elements,i.elements,br):r instanceof xa&&i instanceof xa?br(r.Pe,i.Pe):r instanceof Ma&&i instanceof Ma}(t.transform,e.transform)}var lw=class{constructor(e,n){this.version=e,this.transformResults=n}},ri=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Na=class{};function dx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bu(t.key,ri.none()):new Yo(t.key,t.data,ri.none());{let n=t.data,r=vn.empty(),i=new kt(_n.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Dr(t.key,r,new Rn(i.toArray()),ri.none())}}function iH(t,e,n){t instanceof Yo?function(i,o,s){let a=i.value.clone(),u=EM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Dr?function(i,o,s){if(!Kf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=EM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(hx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Lu(t,e,n,r){return t instanceof Yo?function(o,s,a,u){if(!Kf(o.precondition,s))return a;let l=o.value.clone(),h=bM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Dr?function(o,s,a,u){if(!Kf(o.precondition,s))return a;let l=bM(o.fieldTransforms,u,s),h=s.data;return h.setAll(hx(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Kf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function oH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=ax(r.transform,i||null);o!=null&&(n===null&&(n=vn.empty()),n.set(r.field,o))}return n||null}function IM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Da(r,i,(o,s)=>rH(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Yo=class extends Na{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Dr=class extends Na{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function hx(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function EM(t,e,n){let r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,nH(s,a,n[i]))}return r}function bM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,tH(o,s,e))}return r}var Bu=class extends Na{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},dw=class extends Na{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var hw=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&iH(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Lu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=ox();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=dx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,(n,r)=>IM(n,r))&&Da(this.baseMutations,e.baseMutations,(n,r)=>IM(n,r))}},fw=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=function(){return Y6}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var pw=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var mw=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ct,be;function sH(t){switch(t){default:return ne();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function fx(t){if(t===void 0)return ii("GRPC error has no .code"),P.UNKNOWN;switch(t){case ct.OK:return P.OK;case ct.CANCELLED:return P.CANCELLED;case ct.UNKNOWN:return P.UNKNOWN;case ct.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case ct.INTERNAL:return P.INTERNAL;case ct.UNAVAILABLE:return P.UNAVAILABLE;case ct.UNAUTHENTICATED:return P.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case ct.NOT_FOUND:return P.NOT_FOUND;case ct.ALREADY_EXISTS:return P.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return P.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case ct.ABORTED:return P.ABORTED;case ct.OUT_OF_RANGE:return P.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return P.UNIMPLEMENTED;case ct.DATA_LOSS:return P.DATA_LOSS;default:return ne()}}(be=ct||(ct={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var DM=null;function aH(){return new TextEncoder}var cH=new Yi([4294967295,4294967295],0);function CM(t){let e=aH().encode(t),n=new M0;return n.update(e),new Uint8Array(n.digest())}function TM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yi([n,r],0),new Yi([i,o],0)]}var gw=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(r<0)throw new $o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Yi.fromNumber(r)));return i.compare(cH)===1&&(i=new Yi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=CM(e),[r,i]=TM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=CM(e),[r,i]=TM(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},$o=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var np=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ce.min(),i,new tt(Ce),si(),_e())}},$u=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var Ia=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},rp=class{constructor(e,n){this.targetId=e,this.me=n}},ip=class{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},op=class{constructor(){this.fe=0,this.ge=AM(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new $u(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=AM()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},yw=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=si(),this.qe=SM(),this.Qe=new tt(Ce)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(aw(o))if(r===0){let s=new Z(o.path);this.Ue(n,s,Qn.newNoDocument(s,ce.min()))}else Me(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}DM?.et(function(h,p,g,y,D){var x,R,L,G,U,J;let we={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},X=p.unchangedNames;return X&&(we.bloomFilter={applied:D===0,hashCount:(x=X?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(G=(L=(R=X?.bits)===null||R===void 0?void 0:R.bitmap)===null||L===void 0?void 0:L.length)!==null&&G!==void 0?G:0,padding:(J=(U=X?.bits)===null||U===void 0?void 0:U.padding)!==null&&J!==void 0?J:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),we}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Ji(r).toUint8Array()}catch(u){if(u instanceof Xf)return ba("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new gw(s,i,o)}catch(u){return ba(u instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&aw(a.target)){let u=new Z(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Qn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=_e();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new np(e,n,this.Qe,this.ke,r);return this.ke=si(),this.qe=SM(),this.Qe=new tt(Ce),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new op,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kt(Ce),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new op),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function SM(){return new tt(Z.comparator)}function AM(){return new tt(Z.comparator)}var uH={asc:"ASCENDING",desc:"DESCENDING"},lH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dH={and:"AND",or:"OR"},vw=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function _w(t,e){return t.useProto3Json||Ap(e)?e:{value:e}}function sp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function px(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hH(t,e){return sp(t,e.toTimestamp())}function Ir(t){return Me(!!t),ce.fromTimestamp(function(n){let r=oi(n);return new Ct(r.seconds,r.nanos)}(t))}function TI(t,e){return ww(t,e).canonicalString()}function ww(t,e){let n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function mx(t){let e=Ge.fromString(t);return Me(wx(e)),e}function Iw(t,e){return TI(t.databaseId,e.path)}function F0(t,e){let n=mx(e);if(n.get(1)!==t.databaseId.projectId)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(yx(n))}function gx(t,e){return TI(t.databaseId,e)}function fH(t){let e=mx(t);return e.length===4?Ge.emptyPath():yx(e)}function Ew(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yx(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function RM(t,e,n){return{name:Iw(t,e),fields:n.value.mapValue.fields}}function pH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Me(h===void 0||typeof h=="string"),Ft.fromBase64String(h||"")):(Me(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ft.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:fx(l.code);return new z(h,l.message||"")}(s);n=new ip(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=F0(t,r.document.name),o=Ir(r.document.updateTime),s=r.document.createTime?Ir(r.document.createTime):ce.min(),a=new vn({mapValue:{fields:r.document.fields}}),u=Qn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ia(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=F0(t,r.document),o=r.readTime?Ir(r.readTime):ce.min(),s=Qn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ia([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=F0(t,r.document),o=r.removedTargetIds||[];n=new Ia([],o,i,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new mw(i,o),a=r.targetId;n=new rp(a,s)}}return n}function mH(t,e){let n;if(e instanceof Yo)n={update:RM(t,e.key,e.value)};else if(e instanceof Bu)n={delete:Iw(t,e.key)};else if(e instanceof Dr)n={update:RM(t,e.key,e.data),updateMask:DH(e.fieldMask)};else{if(!(e instanceof dw))return ne();n={verify:Iw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ma)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ko)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xa)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:hH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne()}(t,e.precondition)),n}function gH(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ir(i.updateTime):Ir(o);return s.isEqual(ce.min())&&(s=Ir(o)),new lw(s,i.transformResults||[])}(n,e))):[]}function yH(t,e){return{documents:[gx(t,e.path)]}}function vH(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gx(t,i);let o=function(l){if(l.length!==0)return _x(Yn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:va(g.field),direction:IH(g.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=_w(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function _H(t){let e=fH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Me(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let g=vx(p);return g instanceof Yn&&YM(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(g=>function(D){return new Aa(_a(D.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Ap(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new Sa(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new Sa(y,g)}(n.endAt)),z6(e,i,s,o,a,"F",u,l)}function wH(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=_a(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=_a(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=_a(n.unaryFilter.field);return lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=_a(n.unaryFilter.field);return lt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(_a(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(r=>vx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function IH(t){return uH[t]}function EH(t){return lH[t]}function bH(t){return dH[t]}function va(t){return{fieldPath:t.canonicalString()}}function _a(t){return _n.fromServerFormat(t.fieldPath)}function _x(t){return t instanceof lt?function(n){if(n.op==="=="){if(mM(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NAN"}};if(pM(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mM(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NOT_NAN"}};if(pM(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(n.field),op:EH(n.op),value:n.value}}}(t):t instanceof Yn?function(n){let r=n.getFilters().map(i=>_x(i));return r.length===1?r[0]:{compositeFilter:{op:bH(n.op),filters:r}}}(t):ne()}function DH(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Hu=class t{constructor(e,n,r,i,o=ce.min(),s=ce.min(),a=Ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var bw=class{constructor(e){this.ct=e}};function CH(t){let e=_H({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uw(e,e.limit,"L"):e}var ap=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ze(e.integerValue));else if("doubleValue"in e){let r=ze(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Vu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=oi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ji(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?WM(e)?this.dt(n,Number.MAX_SAFE_INTEGER):GM(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ne()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ze(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};ap.vt=new ap;var Dw=class{constructor(){this.un=new Cw}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(zo.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},Cw=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(Ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(Ge.comparator)).toArray()}};var gJ=new Uint8Array(0);var yr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(41943040,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);var qu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Tw=class{constructor(){this.changes=new Xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Sw=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Aw=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lu(r.mutation,i,Rn.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=Bo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Pu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Bo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=si(),s=Fu(),a=function(){return Fu()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Dr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Lu(h.mutation,l,h.mutation.getFieldMask(),Ct.now())):s.set(l.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Sw(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Fu(),i=new tt((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Rn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=ox();h.forEach(g=>{if(!o.has(g)){let y=dx(n.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ex(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(Bo()),a=-1,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,_e())).next(h=>({batchId:a,changes:ix(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=Pu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Pu();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=function(p,g){return new Wo(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Qn.newInvalidDocument(h)))});let a=Pu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Lu(h.mutation,l,Rn.empty(),Ct.now()),xp(n,l)&&(a=a.insert(u,l))}),a})}};var Rw=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ir(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:CH(i.bundledQuery),readTime:Ir(i.readTime)}}(n)),F.resolve()}};var Mw=class{constructor(){this.overlays=new tt(Z.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Bo();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=Bo(),o=n.length+1,s=new Z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new tt((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Bo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Bo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new pw(n,r));let o=this.Ir.get(n);o===void 0&&(o=_e(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var xw=class{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var zu=class{constructor(){this.Tr=new kt(ut.Er),this.dr=new kt(ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new Z(new Ge([])),r=new ut(n,e),i=new ut(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Z(new Ge([])),r=new ut(n,e),i=new ut(n,e+1),o=_e();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ut=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Z.comparator(e.key,n.key)||Ce(e.wr,n.wr)}static Ar(e,n){return Ce(e.wr,n.wr)||Z.comparator(e.key,n.key)}};var Nw=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kt(ut.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new hw(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ut(n,0),i=new ut(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Ce);return n.forEach(i=>{let o=new ut(i,0),s=new ut(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Z.isDocumentKey(o)||(o=o.child(""));let s=new ut(new Z(o),0),a=new kt(Ce);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),F.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{let o=new ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new ut(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Pw=class{constructor(e){this.Mr=e,this.docs=function(){return new tt(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Qn.newInvalidDocument(n))}getEntries(e,n){let r=si();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Qn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=si(),s=n.path,a=new Z(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||O6(P6(h),r)<=0||(i.has(h.key)||xp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ne()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ow(this)}getSize(e){return F.resolve(this.size)}},Ow=class extends Tw{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var kw=class{constructor(e){this.persistence=e,this.Nr=new Xi(n=>bI(n),DI),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zu,this.targetCount=0,this.kr=qu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new qu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}};var Fw=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new qM(0),this.Kr=!1,this.Kr=!0,this.$r=new xw,this.referenceDelegate=e(this),this.Ur=new kw(this),this.indexManager=new Dw,this.remoteDocumentCache=function(i){return new Pw(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new bw(n),this.Gr=new Rw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Mw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Nw(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);let i=new Lw(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Lw=class extends K0{constructor(e){super(),this.currentSequenceNumber=e}},Vw=class t{constructor(e){this.persistence=e,this.Jr=new zu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let i=Z.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var jw=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Uw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Bw=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return L1()?8:F6(vt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Uw;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Nu()<=ve.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Nu()<=ve.DEBUG&&Q("QueryEngine","Query:",ya(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Nu()<=ve.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):F.resolve())}Yi(e,n){if(_M(n))return F.resolve(null);let r=wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=uw(n,null,"F"),r=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=_e(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,uw(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return _M(n)||i.isEqual(ce.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?F.resolve(null):(Nu()<=ve.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ya(n)),this.rs(e,s,n,N6(i,-1)).next(a=>a))})}ts(e,n){let r=new kt(nx(e));return n.forEach((i,o)=>{xp(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Nu()<=ve.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",ya(n)),this.Ji.getDocumentsMatchingQuery(e,n,zo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var $w=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new tt(Ce),this._s=new Xi(o=>bI(o),DI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Aw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function TH(t,e,n,r){return new $w(t,e,n,r)}function Ix(t,e){return _(this,null,function*(){let n=oe(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=_e();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function SH(t,e){let n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=F.resolve();return g.forEach(D=>{y=y.next(()=>h.getEntry(u,D)).next(x=>{let R=l.docVersions.get(D);Me(R!==null),x.version.compareTo(R)<0&&(p.applyToRemoteDocument(x,l),x.isValidDocument()&&(x.setReadTime(l.commitVersion),h.addEntry(x)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ex(t){let e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function AH(t,e){let n=oe(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Ft.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(x,R,L){return x.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(g,y,h)&&a.push(n.Ur.updateTargetData(o,y))});let u=si(),l=_e();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(RH(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ce.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function RH(t,e,n){let r=_e(),i=_e();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=si();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function MH(t,e){let n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xH(t,e){let n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Hu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Hw(t,e,n){return _(this,null,function*(){let r=oe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ju(s))throw s;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function MM(t,e,n){let r=oe(t),i=ce.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=oe(u),g=p._s.get(h);return g!==void 0?F.resolve(p.os.get(g)):p.Ur.getTargetData(l,h)}(r,s,wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ce.min(),n?o:_e())).next(a=>(NH(r,W6(e),a),{documents:a,Ts:o})))}function NH(t,e,n){let r=t.us.get(e)||ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var cp=class{constructor(){this.activeTargetIds=X6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var qw=class{constructor(){this.so=new cp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new cp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var zw=class{_o(e){}shutdown(){}};var up=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Gf=null;function L0(){return Gf===null?Gf=function(){return 268435456+Math.round(2147483648*Math.random())}():Gf++,"0x"+Gf.toString(16)}var PH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Gw=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ot="WebChannelConnection",Ww=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=L0(),u=this.xo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ba("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=PH[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=L0();return new Promise((s,a)=>{let u=new x0;u.setWithCredentials(!0),u.listenOnce(N0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xu.NO_ERROR:let h=u.getResponseJson();Q(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case xu.TIMEOUT:Q(Ot,`RPC '${e}' ${o} timed out`),a(new z(P.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:let p=u.getStatus();if(Q(Ot,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let D=function(R){let L=R.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(L)>=0?L:P.UNKNOWN}(y.status);a(new z(D,y.message))}else a(new z(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new z(P.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{Q(Ot,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);Q(Ot,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=L0(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=k0(),a=O0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");Q(Ot,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),g=!1,y=!1,D=new Gw({Io:R=>{y?Q(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(Q(Ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Q(Ot,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),x=(R,L,G)=>{R.listen(L,U=>{try{G(U)}catch(J){setTimeout(()=>{throw J},0)}})};return x(p,ga.EventType.OPEN,()=>{y||(Q(Ot,`RPC '${e}' stream ${i} transport opened.`),D.yo())}),x(p,ga.EventType.CLOSE,()=>{y||(y=!0,Q(Ot,`RPC '${e}' stream ${i} transport closed`),D.So())}),x(p,ga.EventType.ERROR,R=>{y||(y=!0,ba(Ot,`RPC '${e}' stream ${i} transport errored:`,R),D.So(new z(P.UNAVAILABLE,"The operation could not be completed")))}),x(p,ga.EventType.MESSAGE,R=>{var L;if(!y){let G=R.data[0];Me(!!G);let U=G,J=U.error||((L=U[0])===null||L===void 0?void 0:L.error);if(J){Q(Ot,`RPC '${e}' stream ${i} received error:`,J);let we=J.status,X=function(w){let b=ct[w];if(b!==void 0)return fx(b)}(we),E=J.message;X===void 0&&(X=P.INTERNAL,E="Unknown error status: "+we+" with message "+J.message),y=!0,D.So(new z(X,E)),p.close()}else Q(Ot,`RPC '${e}' stream ${i} received:`,G),D.bo(G)}}),x(a,P0.STAT_EVENT,R=>{R.stat===qf.PROXY?Q(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===qf.NOPROXY&&Q(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}};function V0(){return typeof document<"u"?document:null}function Np(t){return new vw(t,!0)}var lp=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var dp=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new lp(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new z(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Kw=class extends dp{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=pH(this.serializer,e),r=function(o){if(!("targetChange"in o))return ce.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Ir(s.readTime):ce.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Ew(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=aw(u)?{documents:yH(o,u)}:{query:vH(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=px(o,s.resumeToken);let l=_w(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=sp(o,s.snapshotVersion.toTimestamp());let l=_w(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=wH(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Ew(this.serializer),n.removeTarget=e,this.a_(n)}},Qw=class extends dp{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=gH(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Ew(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>mH(this.serializer,r))};this.a_(n)}};var Yw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,ww(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(P.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,ww(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(P.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Zw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ii(n),this.D_=!1):Q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Jw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Jo(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=oe(u);l.L_.add(4),yield Xu(l),l.q_.set("Unknown"),l.L_.delete(4),yield Pp(l)})}(this))}))}),this.q_=new Zw(r,i)}};function Pp(t){return _(this,null,function*(){if(Jo(t))for(let e of t.B_)yield e(!0)})}function Xu(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function bx(t,e){let n=oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),MI(n)?RI(n):Va(n).r_()&&AI(n,e))}function SI(t,e){let n=oe(t),r=Va(n);n.N_.delete(e),r.r_()&&Dx(n,e),n.N_.size===0&&(r.r_()?r.o_():Jo(n)&&n.q_.set("Unknown"))}function AI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Va(t).A_(e)}function Dx(t,e){t.Q_.xe(e),Va(t).R_(e)}function RI(t){t.Q_=new yw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Va(t).start(),t.q_.v_()}function MI(t){return Jo(t)&&!Va(t).n_()&&t.N_.size>0}function Jo(t){return oe(t).L_.size===0}function Cx(t){t.Q_=void 0}function OH(t){return _(this,null,function*(){t.q_.set("Online")})}function kH(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{AI(t,e)})})}function FH(t,e){return _(this,null,function*(){Cx(t),MI(t)?(t.q_.M_(e),RI(t)):t.q_.set("Unknown")})}function LH(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof ip&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hp(t,r)}else if(e instanceof Ia?t.Q_.Ke(e):e instanceof rp?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ce.min()))try{let r=yield Ex(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(Ft.EMPTY_BYTE_STRING,h.snapshotVersion)),Dx(o,u);let p=new Hu(h.target,u,l,h.sequenceNumber);AI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),yield hp(t,r)}})}function hp(t,e,n){return _(this,null,function*(){if(!Ju(e))throw e;t.L_.add(1),yield Xu(t),t.q_.set("Offline"),n||(n=()=>Ex(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){Q("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Pp(t)}))})}function Tx(t,e){return e().catch(n=>hp(t,n,e))}function Op(t){return _(this,null,function*(){let e=oe(t),n=eo(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;VH(e);)try{let i=yield MH(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,jH(e,i)}catch(i){yield hp(e,i)}Sx(e)&&Ax(e)})}function VH(t){return Jo(t)&&t.O_.length<10}function jH(t,e){t.O_.push(e);let n=eo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Sx(t){return Jo(t)&&!eo(t).n_()&&t.O_.length>0}function Ax(t){eo(t).start()}function UH(t){return _(this,null,function*(){eo(t).p_()})}function BH(t){return _(this,null,function*(){let e=eo(t);for(let n of t.O_)e.m_(n.mutations)})}function $H(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=fw.from(r,e,n);yield Tx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Op(t)})}function HH(t,e){return _(this,null,function*(){e&&eo(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return sH(s)&&s!==P.ABORTED}(i.code)){let o=r.O_.shift();eo(r).s_(),yield Tx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Op(r)}})}(t,e)),Sx(t)&&Ax(t)})}function xM(t,e){return _(this,null,function*(){let n=oe(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");let r=Jo(n);n.L_.add(3),yield Xu(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Pp(n)})}function qH(t,e){return _(this,null,function*(){let n=oe(t);e?(n.L_.delete(2),yield Pp(n)):e||(n.L_.add(2),yield Xu(n),n.q_.set("Unknown"))})}function Va(t){return t.K_||(t.K_=function(n,r,i){let o=oe(n);return o.w_(),new Kw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:OH.bind(null,t),Ro:kH.bind(null,t),mo:FH.bind(null,t),d_:LH.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),MI(t)?RI(t):t.q_.set("Unknown")):(yield t.K_.stop(),Cx(t))}))),t.K_}function eo(t){return t.U_||(t.U_=function(n,r,i){let o=oe(n);return o.w_(),new Qw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:UH.bind(null,t),mo:HH.bind(null,t),f_:BH.bind(null,t),g_:$H.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield Op(t)):(yield t.U_.stop(),t.O_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Xw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function xI(t,e){if(ii("AsyncQueue",`${e}: ${t}`),Ju(t))return new z(P.UNAVAILABLE,`${e}: ${t}`);throw t}var fp=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Pu(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var pp=class{constructor(){this.W_=new tt(Z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Pa=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,fp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var eI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},tI=class{constructor(){this.queries=NM(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=oe(n),o=i.queries;i.queries=NM(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new z(P.ABORTED,"Firestore shutting down"))}};function NM(){return new Xi(t=>tx(t),Mp)}function Rx(t,e){return _(this,null,function*(){let n=oe(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new eI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=xI(s,`Initialization of query '${ya(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&NI(n)})}function Mx(t,e){return _(this,null,function*(){let n=oe(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function zH(t,e){let n=oe(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&NI(n)}function GH(t,e,n){let r=oe(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function NI(t){t.Y_.forEach(e=>{e.next()})}var nI,PM;(PM=nI||(nI={})).ea="default",PM.Cache="cache";var mp=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==nI.Cache}};var gp=class{constructor(e){this.key=e}},yp=class{constructor(e){this.key=e}},rI=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=nx(e),this.Ra=new fp(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new pp,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=xp(this.query,p)?p:null,D=!!g&&this.mutatedKeys.has(g.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?D!==x&&(r.track({type:3,doc:y}),R=!0):this.ga(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=x?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(y,D){let x=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return x(y)-x(D)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new Pa(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new pp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new yp(r))}),this.da.forEach(r=>{e.has(r)||n.push(new gp(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Pa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},iI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},oI=class{constructor(e){this.key=e,this.va=!1}},sI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Xi(a=>tx(a),Mp),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(Z.comparator),this.Na=new Map,this.La=new zu,this.Ba={},this.ka=new Map,this.qa=qu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function WH(t,e,n=!0){return _(this,null,function*(){let r=Fx(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield xx(r,e,n,!0),i})}function KH(t,e){return _(this,null,function*(){let n=Fx(t);yield xx(n,e,!0,!1)})}function xx(t,e,n,r){return _(this,null,function*(){let i=yield xH(t.localStore,wr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield QH(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&bx(t.remoteStore,i),a})}function QH(t,e,n,r,i){return _(this,null,function*(){t.Ka=(p,g,y)=>function(x,R,L,G){return _(this,null,function*(){let U=R.view.ma(L);U.ns&&(U=yield MM(x.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,U)));let J=G&&G.targetChanges.get(R.targetId),we=G&&G.targetMismatches.get(R.targetId)!=null,X=R.view.applyChanges(U,x.isPrimaryClient,J,we);return kM(x,R.targetId,X.wa),X.snapshot})}(t,p,g,y);let o=yield MM(t.localStore,e,!0),s=new rI(e,o.Ts),a=s.ma(o.documents),u=$u.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);kM(t,n,l.wa);let h=new iI(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function YH(t,e,n){return _(this,null,function*(){let r=oe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Mp(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&SI(r.remoteStore,i.targetId),aI(r,i.targetId)}).catch(Zu))):(aI(r,i.targetId),yield Hw(r.localStore,i.targetId,!0))})}function ZH(t,e){return _(this,null,function*(){let n=oe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),SI(n.remoteStore,r.targetId))})}function JH(t,e,n){return _(this,null,function*(){let r=o8(t);try{let i=yield function(s,a){let u=oe(s),l=Ct.now(),h=a.reduce((y,D)=>y.add(D.key),_e()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=si(),x=_e();return u.cs.getEntries(y,h).next(R=>{D=R,D.forEach((L,G)=>{G.isValidDocument()||(x=x.add(L))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,D)).next(R=>{p=R;let L=[];for(let G of a){let U=oH(G,p.get(G.key).overlayedDocument);U!=null&&L.push(new Dr(G.key,U,KM(U.value.mapValue),ri.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,L,a)}).next(R=>{g=R;let L=R.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(y,R.batchId,L)})}).then(()=>({batchId:g.batchId,changes:ix(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new tt(Ce)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield el(r,i.changes),yield Op(r.remoteStore)}catch(i){let o=xI(i,"Failed to persist write");n.reject(o)}})}function Nx(t,e){return _(this,null,function*(){let n=oe(t);try{let r=yield AH(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Me(s.va):i.removedDocuments.size>0&&(Me(s.va),s.va=!1))}),yield el(n,r,e)}catch(r){yield Zu(r)}})}function OM(t,e,n){let r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=oe(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(l=!0)}),l&&NI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function XH(t,e,n){return _(this,null,function*(){let r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new tt(Z.comparator);s=s.insert(o,Qn.newNoDocument(o,ce.min()));let a=_e().add(o),u=new np(ce.min(),new Map,new tt(Ce),s,a);yield Nx(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),PI(r)}else yield Hw(r.localStore,e,!1).then(()=>aI(r,e,n)).catch(Zu)})}function e8(t,e){return _(this,null,function*(){let n=oe(t),r=e.batch.batchId;try{let i=yield SH(n.localStore,e);Ox(n,r,null),Px(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield el(n,i)}catch(i){yield Zu(i)}})}function t8(t,e,n){return _(this,null,function*(){let r=oe(t);try{let i=yield function(s,a){let u=oe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Me(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);Ox(r,e,n),Px(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield el(r,i)}catch(i){yield Zu(i)}})}function Px(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Ox(t,e,n){let r=oe(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function aI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||kx(t,r)})}function kx(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(SI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),PI(t))}function kM(t,e,n){for(let r of n)r instanceof gp?(t.La.addReference(r.key,e),n8(t,r)):r instanceof yp?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||kx(t,r.key)):ne()}function n8(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.xa.add(r),PI(t))}function PI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Z(Ge.fromString(e)),r=t.qa.next();t.Na.set(r,new oI(n)),t.Oa=t.Oa.insert(n,r),bx(t.remoteStore,new Hu(wr(Rp(n.path)),r,"TargetPurposeLimboResolution",qM.oe))}}function el(t,e,n){return _(this,null,function*(){let r=oe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=jw.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=oe(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,g=>F.forEach(g.$i,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>F.forEach(g.Ui,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Ju(p))throw p;Q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.os.get(g),D=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(D);h.os=h.os.insert(g,x)}}})}(r.localStore,o))})}function r8(t,e){return _(this,null,function*(){let n=oe(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());let r=yield Ix(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new z(P.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield el(n,r.hs)}})}function i8(t,e){let n=oe(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function Fx(t){let e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XH.bind(null,e),e.Ca.d_=zH.bind(null,e.eventManager),e.Ca.$a=GH.bind(null,e.eventManager),e}function o8(t){let e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t8.bind(null,e),e}var FM=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=Np(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return TH(this.persistence,new Bw,n.initialUser,this.serializer)}Ga(n){return new Fw(Vw.Zr,this.serializer)}Wa(n){return new qw}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var s8=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>OM(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=r8.bind(null,this.syncEngine),yield qH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new tI}()}createDatastore(n){let r=Np(n.databaseInfo.databaseId),i=function(s){return new Ww(s)}(n.databaseInfo);return function(s,a,u,l){return new Yw(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new Jw(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>OM(this.syncEngine,r,0),function(){return up.D()?new up:new zw}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let g=new sI(o,s,a,u,l,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=oe(o);Q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Xu(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var vp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var cI=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_t.UNAUTHENTICATED,this.clientId=Yf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){Q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=xI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function j0(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield Ix(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function LM(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield a8(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>xM(e.remoteStore,i)),t._onlineComponents=e})}function a8(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield j0(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ba("Error using user provided cache. Falling back to memory cache: "+n),yield j0(t,new FM)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),yield j0(t,new FM);return t._offlineComponents})}function Lx(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),yield LM(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),yield LM(t,new s8))),t._onlineComponents})}function c8(t){return Lx(t).then(e=>e.syncEngine)}function uI(t){return _(this,null,function*(){let e=yield Lx(t),n=e.eventManager;return n.onListen=WH.bind(null,e.syncEngine),n.onUnlisten=YH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZH.bind(null,e.syncEngine),n})}function u8(t,e,n={}){let r=new vr;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(o,s,a,u,l){let h=new vp({next:g=>{h.Za(),s.enqueueAndForget(()=>Mx(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new z(P.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new z(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new mp(Rp(a.path),h,{includeMetadataChanges:!0,_a:!0});return Rx(o,p)}(yield uI(t),t.asyncQueue,e,n,r)})),r.promise}function Vx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var VM=new Map;function jx(t,e,n){if(!n)throw new z(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function l8(t,e,n,r){if(e===!0&&r===!0)throw new z(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jM(t){if(!Z.isDocumentKey(t))throw new z(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UM(t){if(Z.isDocumentKey(t))throw new z(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=kp(t);throw new z(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var _p=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Oa=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _p({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _p(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U0;switch(r.type){case"firstParty":return new q0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=VM.get(n);r&&(Q("ComponentProvider","Removing Datastore"),VM.delete(n),r.terminate())}(this),Promise.resolve()}};function Ux(t,e,n,r={}){var i;let o=(t=Er(t,Oa))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=_t.MOCK_USER;else{a=x1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new z(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _t(l)}t._authCredentials=new B0(new Qf(a,u))}}var ka=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Wt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Zi=class t extends ka{constructor(e,n,r){super(e,n,Rp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Bx(t,e,...n){if(t=at(t),jx("collection","path",e),t instanceof Oa){let r=Ge.fromString(e,...n);return UM(r),new Zi(t,null,r)}{if(!(t instanceof Wt||t instanceof Zi))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ge.fromString(e,...n));return UM(r),new Zi(t.firestore,null,r)}}function OI(t,e,...n){if(t=at(t),arguments.length===1&&(e=Yf.newId()),jx("doc","path",e),t instanceof Oa){let r=Ge.fromString(e,...n);return jM(r),new Wt(t,null,new Z(r))}{if(!(t instanceof Wt||t instanceof Zi))throw new z(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ge.fromString(e,...n));return jM(r),new Wt(t.firestore,t instanceof Zi?t.converter:null,new Z(r))}}var wp=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new lp(this,"async_queue_retry"),this.Vu=()=>{let r=V0();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=V0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=V0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new vr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ju(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ii("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Xw.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function BM(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var ai=class extends Oa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new wp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new wp(e),this._firestoreClient=void 0,yield e}})}};function $x(t,e){let n=typeof t=="object"?t:ua(),r=typeof t=="string"?t:e||"(default)",i=wu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=M1("firestore");o&&Ux(i,...o)}return i}function kI(t){if(t._terminated)throw new z(P.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||d8(t),t._firestoreClient}function d8(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Q0(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Vx(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new cI(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Gu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ft.fromBase64String(e))}catch(n){throw new z(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Fa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Wu=class{constructor(e){this._methodName=e}};var Ku=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}};var Qu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var h8=/^__.*__$/,lI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yo(e,this.data,n,this.fieldTransforms)}},Ip=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function Hx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var dI=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Hx(this.Cu)&&h8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},hI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Np(e)}Qu(e,n,r,i=!1){return new dI({Cu:e,methodName:n,qu:r,path:_n.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function FI(t){let e=t._freezeSettings(),n=Np(t._databaseId);return new hI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f8(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);LI("Data must be an object, but it was:",s,r);let a=qx(r,s),u,l;if(o.merge)u=new Rn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=fI(e,p,n);if(!s.contains(g))throw new z(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Gx(h,g)||h.push(g)}u=new Rn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new lI(new vn(a),u,l)}var Ep=class t extends Wu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function p8(t,e,n,r){let i=t.Qu(1,e,n);LI("Data must be an object, but it was:",i,r);let o=[],s=vn.empty();Zo(r,(u,l)=>{let h=VI(e,u,n);l=at(l);let p=i.Nu(h);if(l instanceof Ep)o.push(h);else{let g=tl(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new Rn(o);return new Ip(s,a,i.fieldTransforms)}function m8(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[fI(e,r,n)],u=[i];if(o.length%2!=0)throw new z(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(fI(e,o[g])),u.push(o[g+1]);let l=[],h=vn.empty();for(let g=a.length-1;g>=0;--g)if(!Gx(l,a[g])){let y=a[g],D=u[g];D=at(D);let x=s.Nu(y);if(D instanceof Ep)l.push(y);else{let R=tl(D,x);R!=null&&(l.push(y),h.set(y,R))}}let p=new Rn(l);return new Ip(h,p,s.fieldTransforms)}function g8(t,e,n,r=!1){return tl(n,t.Qu(r?4:3,e))}function tl(t,e){if(zx(t=at(t)))return LI("Unsupported field value:",e,t),qx(t,e);if(t instanceof Wu)return function(r,i){if(!Hx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=tl(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ct.fromDate(r);return{timestampValue:sp(i.serializer,o)}}if(r instanceof Ct){let o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sp(i.serializer,o)}}if(r instanceof Ku)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gu)return{bytesValue:px(i.serializer,r._byteString)};if(r instanceof Wt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:TI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qu)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return CI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${kp(r)}`)}(t,e)}function qx(t,e){let n={};return zM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(t,(r,i)=>{let o=tl(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function zx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Ku||t instanceof Gu||t instanceof Wt||t instanceof Wu||t instanceof Qu)}function LI(t,e,n){if(!zx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=kp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function fI(t,e,n){if((e=at(e))instanceof Fa)return e._internalPath;if(typeof e=="string")return VI(t,e);throw bp("Field path arguments must be of type string or ",t,!1,void 0,n)}var y8=new RegExp("[~\\*/\\[\\]]");function VI(t,e,n){if(e.search(y8)>=0)throw bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fa(...e.split("."))._internalPath}catch{throw bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bp(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(P.INVALID_ARGUMENT,a+t+u)}function Gx(t,e){return t.some(n=>n.isEqual(e))}var Dp=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new pI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(jI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},pI=class extends Dp{data(){return super.data()}};function jI(t,e){return typeof e=="string"?VI(t,e):e instanceof Fa?e._internalPath:e._delegate._internalPath}function v8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Yu=class{},mI=class extends Yu{};function Wx(t,e,...n){let r=[];e instanceof Yu&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof gI).length,a=o.filter(u=>u instanceof Cp).length;if(s>1||s>0&&a>0)throw new z(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Cp=class t extends mI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Qx(e._query,n),new ka(e.firestore,e.converter,cw(e._query,n))}_parse(e){let n=FI(e.firestore);return function(o,s,a,u,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new z(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){HM(p,h);let y=[];for(let D of p)y.push($M(u,o,D));g={arrayValue:{values:y}}}else g=$M(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||HM(p,h),g=g8(a,s,p,h==="in"||h==="not-in");return lt.create(l,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Kx(t,e,n){let r=e,i=jI("where",t);return Cp._create(i,r,n)}var gI=class t extends Yu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Qx(s,u),s=cw(s,u)}(e._query,n),new ka(e.firestore,e.converter,cw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function $M(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new z(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ex(e)&&n.indexOf("/")!==-1)throw new z(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ge.fromString(n));if(!Z.isDocumentKey(r))throw new z(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fM(t,new Z(r))}if(n instanceof Wt)return fM(t,n._key);throw new z(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kp(n)}.`)}function HM(t,e){if(!Array.isArray(t)||t.length===0)throw new z(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qx(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var yI=class{convertValue(e,n="none"){switch(Go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Zo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ze(s.doubleValue));return new Qu(o)}convertGeoPoint(e){return new Ku(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=II(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){let n=oi(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ge.fromString(e);Me(wx(r));let i=new ep(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return i.isEqual(n)||ii(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function _8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ho=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Tp=class extends Dp{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ea(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(jI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ea=class extends Tp{data(e={}){return super.data(e)}},vI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ea(this._firestore,this._userDataWriter,r.key,r,new Ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ea(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ho(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ea(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ho(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:w8(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function w8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function Yx(t){t=Er(t,Wt);let e=Er(t.firestore,ai);return u8(kI(e),t._key).then(n=>eN(e,t,n))}var Sp=class extends yI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}};function Zx(t,e,n,...r){t=Er(t,Wt);let i=Er(t.firestore,ai),o=FI(i),s;return s=typeof(e=at(e))=="string"||e instanceof Fa?m8(o,"updateDoc",t._key,e,n,r):p8(o,"updateDoc",t._key,e),BI(i,[s.toMutation(t._key,ri.exists(!0))])}function Jx(t){return BI(Er(t.firestore,ai),[new Bu(t._key,ri.none())])}function Xx(t,e){let n=Er(t.firestore,ai),r=OI(t),i=_8(t.converter,e);return BI(n,[f8(FI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ri.exists(!1))]).then(()=>r)}function UI(t,...e){var n,r,i;t=at(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||BM(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(BM(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Wt)l=Er(t.firestore,ai),h=Rp(t._key.path),u={next:p=>{e[s]&&e[s](eN(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Er(t,ka);l=Er(p.firestore,ai),h=p._query;let g=new Sp(l);u={next:y=>{e[s]&&e[s](new vI(l,g,p,y))},error:e[s+1],complete:e[s+2]},v8(t._query)}return function(g,y,D,x){let R=new vp(x),L=new mp(y,R,D);return g.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return Rx(yield uI(g),L)})),()=>{R.Za(),g.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return Mx(yield uI(g),L)}))}}(kI(l),h,a,u)}function BI(t,e){return function(r,i){let o=new vr;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return JH(yield c8(r),i,o)})),o.promise}(kI(t),e)}function eN(t,e,n){let r=n.docs.get(e._key),i=new Sp(t);return new Tp(t,i,e._key,r,new Ho(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){La=i})(Gi),zi(new An("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ai(new $0(r.getProvider("auth-internal")),new G0(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ep(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),pt(uM,"4.7.3",e),pt(uM,"4.7.3","esm2017")})();var Fp=function(){return Fp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Fp.apply(this,arguments)};var b8={includeMetadataChanges:!1};function tN(t,e){return e===void 0&&(e=b8),new ue(function(n){var r=UI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function nN(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Fp(Fp({},r),(n={},n[e.idField]=t.id,n))}function rN(t){return tN(t,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}function iN(t,e){return e===void 0&&(e={}),rN(t).pipe(re(function(n){return n.map(function(r){return nN(r,e)})}))}var Xo=class{constructor(e){return e}},oN="firestore",$I=class{constructor(){return Iu(oN)}};var HI=new W("angularfire2.firestore-instances");function D8(t,e){let n=bf(oN,t,e);return n&&new Xo(n)}function C8(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xo(r)}}var T8={provide:$I,deps:[[new Bt,HI]]},S8={provide:Xo,useFactory:D8,deps:[[new Bt,HI],Zr]};function sN(t,...e){return pt("angularfire",Oo.full,"fst"),ln([S8,T8,{provide:HI,useFactory:C8(t),multi:!0,deps:[Re,xt,ha,ko,[new Bt,Mu],[new Bt,da],...e]}])}var qI=mt(iN,!0);var aN=mt(Xx,!0);var Lp=mt(Bx,!0);var cN=mt(Jx,!0);var Vp=mt(OI,!0);var uN=mt(Yx,!0);var lN=mt($x,!0);var dN=mt(Wx,!0);var hN=mt(Zx,!0);var fN=mt(Kx,!0);var ja=class t{constructor(e){this.fs=e}commandes;addCommande(e,n,r){let i=r.map(a=>({productid:a.productid,qte:a.qte})),o={userid:e,montant:n,dateCommande:new Date().toISOString(),details:i},s=Lp(this.fs,"commandes");aN(s,o).then(()=>console.log("Data saved successfully!")).catch(a=>console.log(a))}getAllCommandes(){let e=Lp(this.fs,"commandes");return qI(e,{idField:"id"})}getCommandeById(e){let n=Vp(this.fs,"commandes",e);return uN(n)}updateCommande(e,n){let r=Vp(this.fs,"commandes",e);hN(r,n).then(()=>console.log(`Commande with ID ${e} updated successfully!`)).catch(i=>console.log(i))}deleteCommande(e){let n=Vp(this.fs,"commandes",e);cN(n).then(()=>console.log("Data deleted!")).catch(r=>console.log(r))}getCommandesByUserId(e){let n=Lp(this.fs,"commandes"),r=dN(n,fN("userid","==",e));return qI(r,{idField:"id"})}static \u0275fac=function(n){return new(n||t)(K(Xo))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var nt=class t{constructor(e){this.router=e}authenticatedSubject=new Pe(!1);authenticated$=this.authenticatedSubject.asObservable();fireBaseAuth=O(Uo);user$=nM(this.fireBaseAuth);currentUserSig=Mi(null);toggleAuth(){this.authenticatedSubject.next(!this.authenticatedSubject.value)}getAuthState(){return this.authenticatedSubject.value}register(e,n,r){let i=rM(this.fireBaseAuth,e,r).then(o=>sM(o.user,{displayName:n}));return this.toggleAuth(),xe(i)}login(e,n){let r=oM(this.fireBaseAuth,e,n).then(()=>{});return this.toggleAuth(),xe(r)}getToken(){return _(this,null,function*(){let e=this.fireBaseAuth.currentUser;return e?yield e.getIdToken():null})}logout(){this.toggleAuth(),this.router.navigate(["/home"])}static \u0275fac=function(n){return new(n||t)(K(ft))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var Mn=class t{constructor(e,n,r,i){this.cmdSrv=e;this.authSrv=n;this.router=r;this.isBrowser=RS(i),this.restoreCart()}cartVisibility$=new Pe(!1);cartDetails$=new Pe([]);cartVisibilityObs=this.cartVisibility$.asObservable();cartDetailsObs=this.cartDetails$.asObservable();isBrowser;restoreCart(){if(!this.isBrowser)return;let e=localStorage.getItem("cartDetails");e&&this.cartDetails$.next(JSON.parse(e))}persistCart(){this.isBrowser&&localStorage.setItem("cartDetails",JSON.stringify(this.cartDetails$.value))}toggleCart(){this.cartVisibility$.next(!this.cartVisibility$.value)}addToCart(e){let n=[...this.cartDetails$.value],r=n.find(i=>i.product.id===e.product.id);r?r.qte+=e.qte:n.push(e),this.cartDetails$.next(n),this.persistCart()}removeItem(e){let n=[...this.cartDetails$.value],r=n.findIndex(i=>i.product.id===e.product.id);r!==-1&&(n[r].qte>1?n[r].qte--:n.splice(r,1),this.cartDetails$.next(n),this.persistCart())}clearCart(){this.cartDetails$.next([]),this.isBrowser&&localStorage.removeItem("cartDetails")}getTotal(){return this.cartDetails$.value.reduce((e,n)=>e+n.product.price*n.qte,0)}validerPanier(){if(!this.authSrv.getAuthState()){this.router.navigate(["/login"]);return}this.authSrv.user$.pipe(On(1)).subscribe(e=>{if(!e)return;let n=this.getTotal(),r=this.cartDetails$.value.map(i=>new gf(i.product.id,i.qte));this.cmdSrv.addCommande(e.uid,n,r),this.clearCart()})}static \u0275fac=function(n){return new(n||t)(K(ja),K(nt),K(ft),K($t))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var R8=t=>["/product/detail",t],Up=class t{constructor(e){this.cs=e}produit;quantity=1;Available=!1;ngOnInit(){this.Available=this.produit.stock>0}addToPanier(){if(this.produit){let e=new Js(this.produit,this.quantity);this.cs.addToCart(e),alert(`${this.produit.title} added to cart!`)}}getColor(){return this.produit.stock>0?"green":"red"}getState(){return this.produit.stock<=0}incrementQuantity(){this.quantity++}decrementQuantity(){this.quantity>1&&this.quantity--}static \u0275fac=function(n){return new(n||t)(k(Mn))};static \u0275cmp=Fe({type:t,selectors:[["app-product-item"]],inputs:{produit:"produit"},standalone:!0,features:[je],decls:32,vars:11,consts:[[1,"product-item"],[1,"badge","bg-success","position-absolute","m-3"],["href","#",1,"btn-wishlist"],["width","24","height","24"],[0,"xlink","href","#heart"],["title","Product Title",3,"routerLink"],[1,"tab-image",3,"src"],[1,"qty"],[1,"rating"],["width","24","height","24",1,"text-primary"],[0,"xlink","href","#star-solid"],[1,"price"],[1,"d-flex","align-items-center","justify-content-between"],[1,"input-group","product-qty"],[1,"input-group-btn"],["type","button","data-type","minus",1,"quantity-left-minus","btn","btn-danger","btn-number",3,"click"],["width","16","height","16"],[0,"xlink","href","#minus"],["type","text","id","quantity","name","quantity","value","1",1,"form-control","input-number",3,"ngModelChange","ngModel"],["type","button","data-type","plus",1,"quantity-right-plus","btn","btn-success","btn-number",3,"click"],[0,"xlink","href","#plus"],[1,"btn","btn-primary",2,"margin-left","5px","height","40px","width","100px","white-space","nowrap",3,"click","disabled"]],template:function(n,r){n&1&&(A(0,"div",0)(1,"span",1),$(2),N(),A(3,"a",2),He(),A(4,"svg",3),H(5,"use",4),N()(),yt(),A(6,"figure")(7,"a",5),H(8,"img",6),N()(),A(9,"h3"),$(10),N(),A(11,"span",7),$(12),N(),A(13,"span",8),He(),A(14,"svg",9),H(15,"use",10),N(),$(16),N(),yt(),A(17,"span",11),$(18),N(),A(19,"div",12)(20,"div",13)(21,"span",14)(22,"button",15),me("click",function(){return r.decrementQuantity()}),He(),A(23,"svg",16),H(24,"use",17),N()()(),yt(),A(25,"input",18),zt("ngModelChange",function(o){return Xt(r.quantity,o)||(r.quantity=o),o}),N(),A(26,"span",14)(27,"button",19),me("click",function(){return r.incrementQuantity()}),He(),A(28,"svg",16),H(29,"use",20),N()()()(),yt(),A(30,"button",21),me("click",function(){return r.addToPanier()}),$(31," Add to Cart "),N()()()),n&2&&(B(2),Et("-",r.produit.discountPercentage,"%"),B(5),ye("routerLink",JT(9,R8,r.produit.id)),B(),ye("src",r.produit.thumbnail,Mc),B(2),et(r.produit.title),B(2),Et("",r.produit.stock," Unit"),B(4),Et(" ",r.produit.rating," "),B(2),et(r.produit.price),B(7),qt("ngModel",r.quantity),B(5),ye("disabled",r.getState()))},dependencies:[bt,fr,tn,Sn,Wn,Zs],encapsulation:2})};var xn=class t{constructor(e){this.http=e}searchQuerySubject=new Pe("");categorySubject=new Pe("");searchQuery$=this.searchQuerySubject.asObservable();category$=this.categorySubject.asObservable();getAllProducts(){return this.http.get("https://dummyjson.com/products")}getAllCats(){return this.http.get("https://dummyjson.com/products/category-list")}getProductBycategory(e){return this.http.get(`https://dummyjson.com/products/category/${e}`)}getProductBykey(e){return this.http.get(`https://dummyjson.com/products/search?q=${e}`)}getProductById(e){return this.http.get(`https://dummyjson.com/products/${e}`)}setSearchQuery(e){this.searchQuerySubject.next(e)}setCategory(e){this.categorySubject.next(e)}static \u0275fac=function(n){return new(n||t)(K(fv))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};function M8(t,e){if(t&1&&(A(0,"div",32),H(1,"app-product-item",33),N()),t&2){let n=e.$implicit;B(),ye("produit",n)}}var $p=class t{constructor(e){this.ps=e}products=[];searchQuery="";category="";ngOnInit(){this.getAllProducts(),this.ps.searchQuery$.subscribe(e=>{this.searchQuery=e,this.filterProducts()}),this.ps.category$.subscribe(e=>{this.category=e,this.filterProducts()})}getAllProducts(){this.ps.getAllProducts().subscribe(e=>{this.products=e.products})}filterProducts(){this.searchQuery?this.category&&this.category!=="All Categories"?this.ps.getProductBykey(this.searchQuery).subscribe(e=>{this.products=e.products.filter(n=>n.category===this.category)}):this.ps.getProductBykey(this.searchQuery).subscribe(e=>{this.products=e.products}):this.category&&this.category!=="All Categories"?this.ps.getProductBycategory(this.category).subscribe(e=>{this.products=e.products}):this.getAllProducts()}static \u0275fac=function(n){return new(n||t)(k(xn))};static \u0275cmp=Fe({type:t,selectors:[["app-list-product"]],standalone:!0,features:[je],decls:34,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["xmlns","http://www.w3.org/2000/svg","id","link","viewBox","0 0 24 24"],["fill","currentColor","d","M12 19a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm5 0a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm0-4a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm-5 0a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm7-12h-1V2a1 1 0 0 0-2 0v1H8V2a1 1 0 0 0-2 0v1H5a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3Zm1 17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-9h16Zm0-11H4V6a1 1 0 0 1 1-1h1v1a1 1 0 0 0 2 0V5h8v1a1 1 0 0 0 2 0V5h1a1 1 0 0 1 1 1ZM7 15a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm0 4a1 1 0 1 0-1-1a1 1 0 0 0 1 1Z"],["xmlns","http://www.w3.org/2000/svg","id","arrow-right","viewBox","0 0 24 24"],["fill","currentColor","d","M17.92 11.62a1 1 0 0 0-.21-.33l-5-5a1 1 0 0 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l5-5a1 1 0 0 0 .21-.33a1 1 0 0 0 0-.76Z"],["xmlns","http://www.w3.org/2000/svg","id","category","viewBox","0 0 24 24"],["fill","currentColor","d","M19 5.5h-6.28l-.32-1a3 3 0 0 0-2.84-2H5a3 3 0 0 0-3 3v13a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-10a3 3 0 0 0-3-3Zm1 13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-13a1 1 0 0 1 1-1h4.56a1 1 0 0 1 .95.68l.54 1.64a1 1 0 0 0 .95.68h7a1 1 0 0 1 1 1Z"],["xmlns","http://www.w3.org/2000/svg","id","calendar","viewBox","0 0 24 24"],["fill","currentColor","d","M19 4h-2V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3Zm1 15a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-7h16Zm0-9H4V7a1 1 0 0 1 1-1h2v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h2a1 1 0 0 1 1 1Z"],["xmlns","http://www.w3.org/2000/svg","id","heart","viewBox","0 0 24 24"],["fill","currentColor","d","M20.16 4.61A6.27 6.27 0 0 0 12 4a6.27 6.27 0 0 0-8.16 9.48l7.45 7.45a1 1 0 0 0 1.42 0l7.45-7.45a6.27 6.27 0 0 0 0-8.87Zm-1.41 7.46L12 18.81l-6.75-6.74a4.28 4.28 0 0 1 3-7.3a4.25 4.25 0 0 1 3 1.25a1 1 0 0 0 1.42 0a4.27 4.27 0 0 1 6 6.05Z"],["xmlns","http://www.w3.org/2000/svg","id","plus","viewBox","0 0 24 24"],["fill","currentColor","d","M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2Z"],["xmlns","http://www.w3.org/2000/svg","id","minus","viewBox","0 0 24 24"],["fill","currentColor","d","M19 11H5a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2Z"],["xmlns","http://www.w3.org/2000/svg","id","cart","viewBox","0 0 24 24"],["fill","currentColor","d","M8.5 19a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 8.5 19ZM19 16H7a1 1 0 0 1 0-2h8.491a3.013 3.013 0 0 0 2.885-2.176l1.585-5.55A1 1 0 0 0 19 5H6.74a3.007 3.007 0 0 0-2.82-2H3a1 1 0 0 0 0 2h.921a1.005 1.005 0 0 1 .962.725l.155.545v.005l1.641 5.742A3 3 0 0 0 7 18h12a1 1 0 0 0 0-2Zm-1.326-9l-1.22 4.274a1.005 1.005 0 0 1-.963.726H8.754l-.255-.892L7.326 7ZM16.5 19a1.5 1.5 0 1 0 1.5 1.5a1.5 1.5 0 0 0-1.5-1.5Z"],["xmlns","http://www.w3.org/2000/svg","id","check","viewBox","0 0 24 24"],["fill","currentColor","d","M18.71 7.21a1 1 0 0 0-1.42 0l-7.45 7.46l-3.13-3.14A1 1 0 1 0 5.29 13l3.84 3.84a1 1 0 0 0 1.42 0l8.16-8.16a1 1 0 0 0 0-1.47Z"],["xmlns","http://www.w3.org/2000/svg","id","trash","viewBox","0 0 24 24"],["fill","currentColor","d","M10 18a1 1 0 0 0 1-1v-6a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1ZM20 6h-4V5a3 3 0 0 0-3-3h-2a3 3 0 0 0-3 3v1H4a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2ZM10 5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v1h-4Zm7 14a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8h10Zm-3-1a1 1 0 0 0 1-1v-6a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1Z"],["xmlns","http://www.w3.org/2000/svg","id","star-outline","viewBox","0 0 15 15"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","d","M7.5 9.804L5.337 11l.413-2.533L4 6.674l2.418-.37L7.5 4l1.082 2.304l2.418.37l-1.75 1.793L9.663 11L7.5 9.804Z"],["xmlns","http://www.w3.org/2000/svg","id","star-solid","viewBox","0 0 15 15"],["fill","currentColor","d","M7.953 3.788a.5.5 0 0 0-.906 0L6.08 5.85l-2.154.33a.5.5 0 0 0-.283.843l1.574 1.613l-.373 2.284a.5.5 0 0 0 .736.518l1.92-1.063l1.921 1.063a.5.5 0 0 0 .736-.519l-.373-2.283l1.574-1.613a.5.5 0 0 0-.283-.844L8.921 5.85l-.968-2.062Z"],["xmlns","http://www.w3.org/2000/svg","id","search","viewBox","0 0 24 24"],["fill","currentColor","d","M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z"],["xmlns","http://www.w3.org/2000/svg","id","user","viewBox","0 0 24 24"],["fill","currentColor","d","M15.71 12.71a6 6 0 1 0-7.42 0a10 10 0 0 0-6.22 8.18a1 1 0 0 0 2 .22a8 8 0 0 1 15.9 0a1 1 0 0 0 1 .89h.11a1 1 0 0 0 .88-1.1a10 10 0 0 0-6.25-8.19ZM12 12a4 4 0 1 1 4-4a4 4 0 0 1-4 4Z"],["xmlns","http://www.w3.org/2000/svg","id","close","viewBox","0 0 15 15"],[1,"product-grid","row","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-4","row-cols-xl-5",2,"margin-left","15px","margin-right","15px"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[3,"produit"]],template:function(n,r){n&1&&(He(),A(0,"svg",0)(1,"defs")(2,"symbol",1),H(3,"path",2),N(),A(4,"symbol",3),H(5,"path",4),N(),A(6,"symbol",5),H(7,"path",6),N(),A(8,"symbol",7),H(9,"path",8),N(),A(10,"symbol",9),H(11,"path",10),N(),A(12,"symbol",11),H(13,"path",12),N(),A(14,"symbol",13),H(15,"path",14),N(),A(16,"symbol",15),H(17,"path",16),N(),A(18,"symbol",17),H(19,"path",18),N(),A(20,"symbol",19),H(21,"path",20),N(),A(22,"symbol",21),H(23,"path",22),N(),A(24,"symbol",23),H(25,"path",24),N(),A(26,"symbol",25),H(27,"path",26),N(),A(28,"symbol",27),H(29,"path",28),N(),A(30,"symbol",29),H(31,"path",24),N()()(),yt(),A(32,"div",30),Ve(33,M8,2,1,"div",31),N()),n&2&&(B(33),ye("ngForOf",r.products))},dependencies:[Up,bt,ur],encapsulation:2})};var Hp=class t{constructor(e,n){this.as=e;this.router=n}storageKey="comments";commentsSubject=new Pe(this.getCommentsFromLocalStorage());comments$=this.commentsSubject.asObservable();getCommentsByProductId(e){return this.commentsSubject.value.filter(n=>n.productId===e)}addComment(e){if(this.as.getAuthState()){let r=this.commentsSubject.value;r.push(e),this.commentsSubject.next(r),this.saveCommentsToLocalStorage(r),console.log("Comment added:",e)}else this.router.navigate(["/login"])}getCommentsFromLocalStorage(){let e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}saveCommentsToLocalStorage(e){localStorage.setItem(this.storageKey,JSON.stringify(e))}static \u0275fac=function(n){return new(n||t)(K(nt),K(ft))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var mN=()=>[1,2,3,4,5],N8=(t,e)=>({"text-yellow-300":t,"text-gray-300 dark:text-gray-500":e}),P8=(t,e)=>({"text-yellow-300":t,"text-gray-300":e});function O8(t,e){if(t&1&&(mh(0),He(),A(1,"svg",16),H(2,"path",17),N(),gh()),t&2){let n=e.index,r=Xe().$implicit;B(),ye("ngClass",Gy(1,N8,n<r.rating,n>=r.rating))}}function k8(t,e){if(t&1&&(A(0,"article",6)(1,"div",7),H(2,"img",8),A(3,"div",9)(4,"div",10)(5,"p"),$(6),A(7,"time",11),ar(8,"date"),$(9),ar(10,"date"),N()()(),A(11,"div",12),Ve(12,O8,3,4,"ng-container",13),N(),A(13,"h3",14),$(14),N(),A(15,"footer",15)(16,"p"),$(17,"Reviewed on "),A(18,"time"),ar(19,"date"),$(20),ar(21,"date"),N()()()()()()),t&2){let n=e.$implicit;B(6),Et("",n.userName," "),B(),Vr("datetime",jr(8,7,n.createdAt,"yyyy-MM-ddTHH:mm:ss")),B(2),Et(" ",jr(10,10,n.createdAt,"MMMM yyyy")," "),B(3),ye("ngForOf",zy(19,mN)),B(2),et(n.comment),B(4),Vr("datetime",jr(19,13,n.createdAt,"yyyy-MM-ddTHH:mm:ss")),B(2),et(jr(21,16,n.createdAt,"longDate"))}}function F8(t,e){if(t&1){let n=Pt();mh(0),He(),A(1,"svg",24),me("click",function(){let i=Ye(n).$implicit,o=Xe(2);return Ze(o.onStarClick(i))}),H(2,"path",17),N(),gh()}if(t&2){let n,r=e.$implicit,i=Xe(2);B(),ye("ngClass",Gy(1,P8,r<=((n=i.reviewForm.get("rating"))==null?null:n.value),r>((n=i.reviewForm.get("rating"))==null?null:n.value)))}}function L8(t,e){if(t&1){let n=Pt();A(0,"div",18)(1,"form",19),me("ngSubmit",function(){Ye(n);let i=Xe();return Ze(i.submitForm())}),A(2,"label",20),$(3,"Rating"),N(),A(4,"div",21),Ve(5,F8,3,4,"ng-container",13),N(),A(6,"label",20),$(7,"Comment"),N(),H(8,"textarea",22),A(9,"button",23),$(10," Submit Review "),N()()()}if(t&2){let n=Xe();B(),ye("formGroup",n.reviewForm),B(4),ye("ngForOf",zy(3,mN)),B(4),ye("disabled",!n.reviewForm.valid)}}var qp=class t{constructor(e,n,r,i,o){this.commentService=e;this.route=n;this.fb=r;this.as=i;this.router=o;this.reviewForm=this.fb.group({rating:[5,ta.required],comment:["",[ta.required,ta.minLength(5)]]})}productId;comments=[];showReviewForm=!1;reviewForm;commentsSubscription;ngOnInit(){this.productId!=null&&(this.commentsSubscription=this.commentService.comments$.subscribe(e=>{console.log("Comments from service:",e),e&&Array.isArray(e)?this.comments=e.filter(n=>n.productId===this.productId):this.comments=[],console.log("Filtered comments:",this.comments)}))}openReviewForm(){this.as.getAuthState()?this.showReviewForm=!0:this.router.navigate(["/login"])}onStarClick(e){this.reviewForm.get("rating")?.setValue(e)}submitForm(){if(this.as.getAuthState()){let e={id:this.comments.length+1,productId:this.productId,userName:this.as.currentUserSig()?.userName??"anonymous",comment:this.reviewForm.get("comment")?.value,rating:this.reviewForm.get("rating")?.value,createdAt:new Date};this.commentService.addComment(e),this.reviewForm.reset({rating:null,comment:null}),this.showReviewForm=!1}else this.router.navigate(["/login"])}ngOnDestroy(){this.commentsSubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||t)(k(Hp),k(Gn),k(C1),k(nt),k(ft))};static \u0275cmp=Fe({type:t,selectors:[["app-comment"]],inputs:{productId:"productId"},standalone:!0,features:[je],decls:7,vars:2,consts:[["href",xc`https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css`,"rel","stylesheet"],[1,"p-4","bg-white",2,"margin-left","50px","margin-right","50px"],["class","border-b last:border-0 pb-4 mb-4",4,"ngFor","ngForOf"],[1,"mt-6","flex","justify-center",2,"margin-bottom","20px"],[1,"px-4","py-2","bg-blue-500","text-white","font-medium","rounded-lg","hover:bg-blue-600","focus:outline-none","focus:ring-4","focus:ring-blue-300","dark:bg-blue-700","dark:hover:bg-blue-800","dark:focus:ring-blue-900",3,"click"],["class","mt-6 flex justify-center",4,"ngIf"],[1,"border-b","last:border-0","pb-4","mb-4"],[1,"flex","items-start","mb-4"],["src","/path/to/default-avatar.jpg","alt","User Profile",1,"w-10","h-10","rounded-full","mr-3"],[1,"flex-1"],[1,"font-medium","dark:text-white"],[1,"block","text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","mb-1"],[4,"ngFor","ngForOf"],[1,"text-sm","font-semibold","text-gray-900","dark:text-white"],[1,"mt-2","text-xs","text-gray-500","dark:text-gray-400"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 22 20",1,"w-4","h-4",3,"ngClass"],["d","M20.924 7.625a1.523 1.523 0 0 0-1.238-1.044l-5.051-.734-2.259-4.577a1.534 1.534 0 0 0-2.752 0L7.365 5.847l-5.051.734A1.535 1.535 0 0 0 1.463 9.2l3.656 3.563-.863 5.031a1.532 1.532 0 0 0 2.226 1.616L11 17.033l4.518 2.375a1.534 1.534 0 0 0 2.226-1.617l-.863-5.03L20.537 9.2a1.523 1.523 0 0 0 .387-1.575Z"],[1,"mt-6","flex","justify-center"],[1,"max-w-md","w-full","p-4","border","rounded-lg","bg-gray-50","dark:bg-gray-800",3,"ngSubmit","formGroup"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"flex","mb-4"],["formControlName","comment","rows","4",1,"mt-1","mb-4","block","w-full","py-2","px-3","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-indigo-500","focus:border-indigo-500","sm:text-sm"],["type","submit",1,"px-4","py-2","bg-green-500","text-white","font-medium","rounded-lg","hover:bg-green-600","focus:outline-none","focus:ring-4","focus:ring-green-300","dark:bg-green-700","dark:hover:bg-green-800","dark:focus:ring-green-900",3,"disabled"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 22 20",1,"w-6","h-6","cursor-pointer",3,"click","ngClass"]],template:function(n,r){n&1&&(H(0,"link",0),A(1,"div",1),Ve(2,k8,22,20,"article",2),N(),A(3,"div",3)(4,"button",4),me("click",function(){return r.openReviewForm()}),$(5," Add Review "),N()(),Ve(6,L8,11,4,"div",5)),n&2&&(B(2),ye("ngForOf",r.comments),B(4),ye("ngIf",r.showReviewForm))},dependencies:[bt,SS,ur,lr,Bs,T1,$i,tn,Sn,Bi,v_,__],encapsulation:2})};var zp=class t{constructor(e,n,r){this.ps=e;this.route=n;this.cs=r}produit;productId;quantity=1;ngOnInit(){this.route.paramMap.subscribe(e=>{this.productId=+e.get("id"),this.getProduct()})}getProduct(){this.ps.getProductById(this.productId).subscribe(e=>{this.produit=e})}addToPanier(){if(this.produit){let e=new Js(this.produit,this.quantity);this.cs.addToCart(e),alert(`${this.produit.title} added to cart!`)}}static \u0275fac=function(n){return new(n||t)(k(xn),k(Gn),k(Mn))};static \u0275cmp=Fe({type:t,selectors:[["app-product-detail"]],standalone:!0,features:[je],decls:27,vars:9,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["xmlns","http://www.w3.org/2000/svg","id","star-solid","viewBox","0 0 15 15"],["fill","currentColor","d","M7.953 3.788a.5.5 0 0 0-.906 0L6.08 5.85l-2.154.33a.5.5 0 0 0-.283.843l1.574 1.613l-.373 2.284a.5.5 0 0 0 .736.518l1.92-1.063l1.921 1.063a.5.5 0 0 0 .736-.519l-.373-2.283l1.574-1.613a.5.5 0 0 0-.283-.844L8.921 5.85l-.968-2.062Z"],[1,"container","px-4","px-lg-5"],[1,"row","gx-4","gx-lg-5","align-items-center"],[1,"col-md-5"],[1,"card-img-top","mb-5","mb-md-0",3,"src","alt"],[1,"col-md-6",2,"margin-left","15px"],[1,"display-5","fw-bolder"],[1,"fs-5","mb-5"],["width","24","height","24",1,"text-primary"],[0,"xlink","href","#star-solid"],[1,"price","text-primary",2,"margin-left","15px"],[1,"lead"],[1,"d-flex"],["id","inputQuantity","type","number",1,"form-control","text-center","me-3",2,"max-width","3rem",3,"ngModelChange","ngModel","min"],["type","button",1,"btn","btn-success","flex-shrink-0",3,"click"],[1,"bi-cart-fill","me-1"],[3,"productId"]],template:function(n,r){n&1&&(He(),A(0,"svg",0)(1,"defs")(2,"symbol",1),H(3,"path",2),N()()(),yt(),A(4,"section")(5,"div",3)(6,"div",4)(7,"div",5),H(8,"img",6),N(),A(9,"div",7)(10,"h1",8),$(11),N(),A(12,"div",9)(13,"span"),He(),A(14,"svg",10),H(15,"use",11),N(),$(16),N(),yt(),A(17,"span",12),$(18),N()(),A(19,"p",13),$(20),N(),A(21,"div",14)(22,"input",15),zt("ngModelChange",function(o){return Xt(r.quantity,o)||(r.quantity=o),o}),N(),A(23,"button",16),me("click",function(){return r.addToPanier()}),H(24,"i",17),$(25," Add to cart "),N()()()()(),H(26,"app-comment",18),N()),n&2&&(B(8),Hy("alt",r.produit.title),ye("src",r.produit.thumbnail,Mc),B(3),et(r.produit.title),B(5),Et(" ",r.produit.rating," "),B(2),Et("",r.produit.price," $"),B(2),et(r.produit.description),B(2),qt("ngModel",r.quantity),ye("min",1),B(4),ye("productId",r.productId))},dependencies:[fr,tn,y_,Sn,w_,Wn,qp],encapsulation:2})};function V8(t,e){if(t&1){let n=Pt();A(0,"tr",6),me("click",function(){let i=Ye(n).$implicit,o=Xe();return Ze(o.showDetails(i))}),A(1,"td"),$(2),N(),A(3,"td"),$(4),ar(5,"number"),N(),A(6,"td"),$(7),N()()}if(t&2){let n=e.$implicit;B(2),et(n.id),B(2),et(jr(5,3,n.montant,"1.2-2")),B(3),et(n.dateCommande)}}function j8(t,e){if(t&1&&(A(0,"li"),$(1),ar(2,"async"),N()),t&2){let n=e.$implicit,r=Xe(2);B(),qy(" Product : ",nS(2,2,r.productNameMap.get(n.productid)),", Quantity: ",n.qte," ")}}function U8(t,e){if(t&1){let n=Pt();A(0,"div",7)(1,"div",8)(2,"h2",9),$(3,"Order Details"),N(),A(4,"h3",10),$(5,"Products in this order:"),N(),A(6,"ul"),Ve(7,j8,3,4,"li",11),N(),A(8,"button",12),me("click",function(){Ye(n);let i=Xe();return Ze(i.closeDetails())}),$(9,"Close"),N()()()}if(t&2){let n=Xe();B(7),ye("ngForOf",n.selectedCommande.details)}}var Gp=class t{constructor(e,n,r,i){this.commandeService=e;this.ps=n;this.as=r;this.dp=i}commandes=[];selectedCommande=null;productNameMap=new Map;ngOnInit(){this.loadOrders()}loadOrders(){this.as.user$.subscribe(e=>{if(e){let n=e.uid;this.commandeService.getCommandesByUserId(n).subscribe(r=>{this.commandes=r.map(i=>he(j({},i),{dateCommande:this.dp.transform(i.dateCommande,"yyyy-MM-dd")??""}))})}})}showDetails(e){this.selectedCommande=e,this.loadProductNames()}closeDetails(){this.selectedCommande=null}loadProductNames(){if(this.selectedCommande){this.productNameMap.clear();for(let e of this.selectedCommande.details){let n=e.productid;this.productNameMap.set(n,this.fetchProductName(n))}}}fetchProductName(e){return new Promise(n=>{this.ps.getProductById(e).subscribe(r=>{n(r.title)})})}static \u0275fac=function(n){return new(n||t)(k(ja),k(xn),k(nt),k(Bs))};static \u0275cmp=Fe({type:t,selectors:[["app-orders"]],standalone:!0,features:[je],decls:15,vars:2,consts:[["href",xc`https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css`,"rel","stylesheet"],["href",xc`https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.0/flowbite.min.css`,"rel","stylesheet"],[1,"container","mt-5"],["id","search-table",1,"table","table-striped"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],["class","fixed inset-0 flex items-center justify-center bg-gray-700 bg-opacity-50",4,"ngIf"],[2,"cursor","pointer",3,"click"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-gray-700","bg-opacity-50"],[1,"bg-white","p-5","rounded","shadow-lg","w-96"],[1,"text-2xl","font-semibold","mb-4"],[1,"text-lg","mb-4"],[4,"ngFor","ngForOf"],[1,"mt-4","p-2","bg-red-500","text-white","rounded",3,"click"]],template:function(n,r){n&1&&(H(0,"link",0)(1,"link",1),A(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th"),$(7,"Order ID"),N(),A(8,"th"),$(9,"Total Amount"),N(),A(10,"th"),$(11,"Date"),N()()(),A(12,"tbody"),Ve(13,V8,8,6,"tr",4),N()()(),Ve(14,U8,10,1,"div",5)),n&2&&(B(13),ye("ngForOf",r.commandes),B(),ye("ngIf",r.selectedCommande))},dependencies:[bt,ur,lr,AS,xh],encapsulation:2})};function B8(t,e){if(t&1&&(A(0,"div",3),$(1),N()),t&2){let n=Xe();B(),et(n.errorMess)}}var Wp=class t{constructor(e,n){this.as=e;this.r=n}email="";password="";errorMess=null;register(){this.email&&this.password?this.as.login(this.email,this.password).subscribe({next:()=>{this.r.navigateByUrl("/home")},error:e=>{this.errorMess=e.code}}):alert("Registration failed. Please fill all fields.")}static \u0275fac=function(n){return new(n||t)(k(nt),k(ft))};static \u0275cmp=Fe({type:t,selectors:[["app-sign-in"]],standalone:!0,features:[je],decls:29,vars:3,consts:[["f","ngForm"],[1,"container"],[1,"auth-form",3,"ngSubmit"],[1,"error-message"],["data-mdb-input-init","",1,"form-outline","mb-4"],["for","form2Example1",1,"form-label"],["type","email","id","form2Example1","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","form2Example2",1,"form-label"],["type","password","id","form2Example2","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-4"],[1,"col","d-flex","justify-content-center"],[1,"form-check"],["type","checkbox","value","","id","form2Example31","checked","",1,"form-check-input"],["for","form2Example31",1,"form-check-label"],[1,"col"],["href","#!"],[2,"display","flex","justify-content","center"],["type","submit",1,"btn","btn-primary","btn-block","mb-4"],[1,"text-center"],["routerLink","/sign-up"]],template:function(n,r){if(n&1){let i=Pt();A(0,"div",1)(1,"form",2,0),me("ngSubmit",function(){return Ye(i),Ze(r.register())}),Ve(3,B8,2,1,"div",3),A(4,"div",4)(5,"label",5),$(6,"Email address"),N(),A(7,"input",6),zt("ngModelChange",function(s){return Ye(i),Xt(r.email,s)||(r.email=s),Ze(s)}),N()(),A(8,"div",4)(9,"label",7),$(10,"Password"),N(),A(11,"input",8),zt("ngModelChange",function(s){return Ye(i),Xt(r.password,s)||(r.password=s),Ze(s)}),N()(),A(12,"div",9)(13,"div",10)(14,"div",11),H(15,"input",12),A(16,"label",13),$(17," Remember me "),N()()(),A(18,"div",14)(19,"a",15),$(20,"Forgot password?"),N()()(),A(21,"div",16)(22,"button",17),$(23,"Sign in"),N()(),A(24,"div",18)(25,"p"),$(26,"Not a member? "),A(27,"a",19),$(28,"Register"),N()()()()()}n&2&&(B(3),ph(r.errorMess?3:-1),B(4),qt("ngModel",r.email),B(4),qt("ngModel",r.password))},dependencies:[fr,$i,tn,Sn,Bi,mu,Wn,Mo,Zs],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f8f9fa;max-width:100%}.auth-form[_ngcontent-%COMP%]{width:400px;padding:20px;background-color:#fff;box-shadow:0 4px 8px #0000001a;border-radius:8px}.form-outline[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:45px;border-color:#ced4da}.form-outline[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:14px;color:#495057}.text-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;font-size:14px}.error-message[_ngcontent-%COMP%]{color:red;background-color:#f8d7da;border:1px solid #f5c2c7;padding:10px;border-radius:4px;margin-bottom:15px;font-size:14px;text-align:center}"]})};var Kp=class t{constructor(e,n){this.authService=e;this.router=n}canActivate(e,n){return this.authService.getAuthState()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(n){return new(n||t)(K(nt),K(ft))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};function $8(t,e){if(t&1&&(A(0,"div",3),$(1),N()),t&2){let n=Xe();B(),et(n.errorMess)}}var Qp=class t{constructor(e,n){this.as=e;this.r=n}email="";userName="";password="";errorMess=null;register(){this.email&&this.userName&&this.password?this.as.register(this.email,this.userName,this.password).subscribe({next:()=>{this.r.navigateByUrl("/home")},error:e=>{this.errorMess=e.code}}):alert("Registration failed. Please fill all fields.")}static \u0275fac=function(n){return new(n||t)(k(nt),k(ft))};static \u0275cmp=Fe({type:t,selectors:[["app-sign-up"]],standalone:!0,features:[je],decls:24,vars:4,consts:[["f","ngForm"],[1,"container"],[1,"auth-form",3,"ngSubmit"],[1,"error-message"],["data-mdb-input-init","",1,"form-outline","mb-4"],["for","form2Example1",1,"form-label"],["type","email","id","form2Example1","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","form2Example3",1,"form-label"],["type","text","id","form2Example3","name","userName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","form2Example2",1,"form-label"],["type","password","id","form2Example2","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-4"],[1,"col","d-flex","justify-content-center"],[1,"form-check"],["type","checkbox","value","","id","form2Example31","checked","",1,"form-check-input"],["for","form2Example31",1,"form-check-label"],["type","submit",1,"btn","btn-primary","btn-block","mb-4"]],template:function(n,r){if(n&1){let i=Pt();A(0,"div",1)(1,"form",2,0),me("ngSubmit",function(){return Ye(i),Ze(r.register())}),Ve(3,$8,2,1,"div",3),A(4,"div",4)(5,"label",5),$(6,"Email address"),N(),A(7,"input",6),zt("ngModelChange",function(s){return Ye(i),Xt(r.email,s)||(r.email=s),Ze(s)}),N()(),A(8,"div",4)(9,"label",7),$(10,"User Name"),N(),A(11,"input",8),zt("ngModelChange",function(s){return Ye(i),Xt(r.userName,s)||(r.userName=s),Ze(s)}),N()(),A(12,"div",4)(13,"label",9),$(14,"Password"),N(),A(15,"input",10),zt("ngModelChange",function(s){return Ye(i),Xt(r.password,s)||(r.password=s),Ze(s)}),N()(),A(16,"div",11)(17,"div",12)(18,"div",13),H(19,"input",14),A(20,"label",15),$(21," Remember me "),N()()()(),A(22,"button",16),$(23,"Register"),N()()()}n&2&&(B(3),ph(r.errorMess?3:-1),B(4),qt("ngModel",r.email),B(4),qt("ngModel",r.userName),B(4),qt("ngModel",r.password))},dependencies:[fr,$i,tn,Sn,Bi,mu,Wn,Mo],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f8f9fa;max-width:100%}.auth-form[_ngcontent-%COMP%]{width:400px;padding:20px;background-color:#fff;box-shadow:0 4px 8px #0000001a;border-radius:8px}.form-outline[_ngcontent-%COMP%]{position:relative}.form-control[_ngcontent-%COMP%]{padding:10px;border:1px solid #ced4da;border-radius:4px;transition:border-color .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 5px #007bff80}.form-label[_ngcontent-%COMP%]{font-size:14px;margin-bottom:5px;color:#6c757d}.form-check-input[_ngcontent-%COMP%]{margin-top:.3rem}.form-check-label[_ngcontent-%COMP%]{margin-left:5px;font-size:14px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff;padding:10px 20px;border-radius:4px;width:100%;font-size:16px;transition:background-color .3s ease}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-link[_ngcontent-%COMP%]{color:#007bff;font-size:20px;transition:color .3s ease}.btn-link[_ngcontent-%COMP%]:hover{color:#0056b3}.text-center[_ngcontent-%COMP%]{margin-top:20px}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}@media (max-width: 576px){.container[_ngcontent-%COMP%]{padding:10px;max-width:90%}}.error-message[_ngcontent-%COMP%]{color:red;background-color:#f8d7da;border:1px solid #f5c2c7;padding:10px;border-radius:4px;margin-bottom:15px;font-size:14px;text-align:center}"]})};var gN=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:$p},{path:"product/detail/:id",component:zp},{path:"orders",component:Gp,canActivate:[Kp]},{path:"login",component:Wp},{path:"sign-up",component:Qp}];var H8={apiKey:"AIzaSyBCuzVw8DQihbmLvRgi_5VSrsNZ6yGs5pw",authDomain:"shopfer-19be5.firebaseapp.com",projectId:"shopfer-19be5",storageBucket:"shopfer-19be5.appspot.com",messagingSenderId:"606811884047",appId:"1:606811884047:web:33a572072271edc35fb17a"},yN={providers:[BA(gN),oA(),xn,Mn,KS(),nt,tR(()=>nR(H8)),tM(()=>iM()),sN(()=>lN()),Bs]};function q8(t,e){if(t&1&&(A(0,"option",10),$(1),N()),t&2){let n=e.$implicit;ye("value",n),B(),Et(" ",n," ")}}var Yp=class t{constructor(e){this.ps=e}searchQuery="";category="All Categories";categories=[];ngOnInit(){this.getAllCats(),this.ps.searchQuery$.pipe(lc(300)).subscribe(e=>{this.searchQuery=e}),this.ps.category$.pipe(lc(300)).subscribe(e=>{this.category=e})}getAllCats(){this.ps.getAllCats().subscribe(e=>{this.categories=e}),this.ps.searchQuery$.pipe(lc(300)).subscribe(e=>{this.searchQuery=e})}onSearch(){return this.ps.setSearchQuery(this.searchQuery),!1}onChange(){return this.ps.setCategory(this.category),!1}static \u0275fac=function(n){return new(n||t)(k(xn))};static \u0275cmp=Fe({type:t,selectors:[["app-search-bar"]],standalone:!0,features:[je],decls:12,vars:3,consts:[[1,"search-bar","row","bg-light","p-2","my-2","rounded-4"],[1,"col-md-4","d-none","d-md-block"],[1,"form-select","border-0","bg-transparent",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-11","col-md-7"],["id","search-form","method","post",1,"text-center",3,"ngSubmit"],["name","search","type","text","placeholder","Search for what you want",1,"form-control","border-0","bg-transparent",3,"ngModelChange","input","ngModel"],[1,"col-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["fill","currentColor","d","M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z"],[3,"value"]],template:function(n,r){n&1&&(A(0,"div",0)(1,"div",1)(2,"select",2),zt("ngModelChange",function(o){return Xt(r.category,o)||(r.category=o),o}),me("change",function(){return r.onChange()}),A(3,"option"),$(4,"All Categories"),N(),Ve(5,q8,2,2,"option",3),N()(),A(6,"div",4)(7,"form",5),me("ngSubmit",function(){return r.onSearch()}),A(8,"input",6),zt("ngModelChange",function(o){return Xt(r.searchQuery,o)||(r.searchQuery=o),o}),me("input",function(){return r.onSearch()}),N()()(),A(9,"div",7),He(),A(10,"svg",8),H(11,"path",9),N()()()),n&2&&(B(2),qt("ngModel",r.category),B(3),ye("ngForOf",r.categories),B(3),qt("ngModel",r.searchQuery))},dependencies:[bt,ur,fr,$i,w1,E1,tn,mf,Sn,Bi,Wn,Mo],encapsulation:2})};function z8(t,e){if(t&1){let n=Pt();A(0,"li",14)(1,"div")(2,"h6",15),$(3),N(),A(4,"small",16),$(5),N()(),A(6,"div")(7,"span",17),$(8),N(),He(),A(9,"svg",18),me("click",function(){let i=Ye(n).$implicit,o=Xe(2);return Ze(o.removeItem(i))}),H(10,"path",19)(11,"path",20)(12,"path",21)(13,"path",22),N()()()}if(t&2){let n=e.$implicit;B(3),et(n.product.title),B(2),Et("$ ",n.product.price,""),B(3),et(n.qte)}}function G8(t,e){if(t&1){let n=Pt();A(0,"div",1)(1,"div",2)(2,"h5",3),$(3,"Your Cart"),N(),A(4,"button",4),me("click",function(){Ye(n);let i=Xe();return Ze(i.toggleCart())}),N()(),A(5,"div",5)(6,"div",6)(7,"h4",7)(8,"span",8),$(9,"Your cart"),N(),A(10,"span",9),$(11),N()(),A(12,"ul",10),Ve(13,z8,14,3,"li",11),A(14,"li",12)(15,"span"),$(16,"Total (USD)"),N(),A(17,"strong"),$(18),ar(19,"number"),N()()(),A(20,"button",13),me("click",function(){Ye(n);let i=Xe();return Ze(i.valider())}),$(21,"Continue to checkout"),N()()()()}if(t&2){let n=Xe();B(11),et(n.cartDetails.length),B(2),ye("ngForOf",n.cartDetails),B(5),Et("$ ",jr(19,3,n.totalPrice,"1.2-2"),"")}}var Zp=class t{constructor(e){this.cs=e}isVisible=!0;cartDetails=[];totalPrice=0;ngOnInit(){this.cs.cartVisibility$.subscribe(e=>{this.isVisible=e}),this.cs.cartDetails$.subscribe(e=>{this.cartDetails=e,this.totalPrice=this.cs.getTotal()})}toggleCart(){this.cs.toggleCart()}valider(){this.cs.validerPanier()}removeItem(e){this.cs.removeItem(e)}static \u0275fac=function(n){return new(n||t)(k(Mn))};static \u0275cmp=Fe({type:t,selectors:[["app-cart"]],standalone:!0,features:[je],decls:1,vars:1,consts:[["style","margin-left: 75px; margin-right: 75px; margin-top: 25px;",4,"ngIf"],[2,"margin-left","75px","margin-right","75px","margin-top","25px"],[1,"offcanvas-header","justify-content-center"],[1,"offcanvas-title"],["type","button","aria-label","Close",1,"btn-close",2,"margin-left","10px",3,"click"],[1,"offcanvas-body"],[1,"order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"badge","bg-primary","rounded-pill"],[1,"list-group","mb-3"],["class","list-group-item d-flex justify-content-between lh-sm",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between"],["type","button",1,"w-100","btn","btn-primary","btn-lg",3,"click"],[1,"list-group-item","d-flex","justify-content-between","lh-sm"],[1,"my-0"],[1,"text-body-secondary"],[1,"text-body-secondary",2,"margin-right","15px"],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",2,"cursor","pointer",3,"click"],["d","M3 6h18","stroke","#000","stroke-width","2","stroke-linecap","round"],["d","M8 6V4h8v2","stroke","#000","stroke-width","2","stroke-linecap","round"],["d","M5 6h14l-1 14H6L5 6z","stroke","#000","stroke-width","2","stroke-linejoin","round","fill","none"],["d","M10 11v5M14 11v5","stroke","#000","stroke-width","2","stroke-linecap","round"]],template:function(n,r){n&1&&Ve(0,G8,22,6,"div",0),n&2&&ye("ngIf",r.isVisible)},dependencies:[bt,ur,lr,xh],encapsulation:2})};function W8(t,e){t&1&&(A(0,"button",21),$(1," Log in "),N())}function K8(t,e){if(t&1){let n=Pt();A(0,"button",22),me("click",function(){Ye(n);let i=Xe();return Ze(i.toggleAuth())}),$(1," Log out "),N()}}var Jp=class t{constructor(e,n){this.cs=e;this.authService=n}Authenticated=!1;ngOnInit(){this.authService.authenticated$.subscribe(e=>{this.Authenticated=e})}toggleCart(){this.cs.toggleCart()}toggleAuth(){this.authService.logout()}static \u0275fac=function(n){return new(n||t)(k(Mn),k(nt))};static \u0275cmp=Fe({type:t,selectors:[["app-header"]],standalone:!0,features:[je],decls:28,vars:2,consts:[["loggedIn",""],[1,"container-fluid"],[1,"row","py-3","border-bottom"],[1,"col-sm-4","col-lg-3","text-center","text-sm-start"],[1,"main-logo",2,"display","flex","align-items","center","margin-left","10px"],["href","#"],["src","images/logo.png","alt","logo",1,"img-fluid","ml-4"],[1,"fw-bold","mb-0","ms-2",2,"font-family","'Roboto', sans-serif","color","#3cc374"],[1,"col-sm-6","offset-sm-2","offset-md-0","col-lg-5","d-none","d-lg-block"],[1,"col-sm-8","col-lg-4","d-flex","justify-content-end","gap-5","align-items-center","mt-4","mt-sm-0","justify-content-center","justify-content-sm-end"],[1,"cart","text-end","d-none","d-lg-block","dropdown"],["routerLink","login","class","btn btn-dark","style","margin-right:5px ;",4,"ngIf","ngIfElse"],[1,"btn","btn-primary",3,"click"],[1,"row","py-3"],[1,"d-flex","justify-content-center","justify-content-sm-between","align-items-center"],[1,"main-menu","d-flex","navbar","navbar-expand-lg"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasNavbar","aria-controls","offcanvasNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["tabindex","-1","id","offcanvasNavbar","aria-labelledby","offcanvasNavbarLabel",1,"offcanvas","offcanvas-end"],[1,"offcanvas-header","justify-content-center"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],["routerLink","login",1,"btn","btn-dark",2,"margin-right","5px"],[1,"btn","btn-dark",2,"margin-right","5px",3,"click"]],template:function(n,r){if(n&1){let i=Pt();A(0,"header")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),H(6,"img",6),N(),A(7,"h2",7),$(8,"SHOPFER"),N()()(),A(9,"div",8),H(10,"app-search-bar"),N(),A(11,"div",9)(12,"div",10),Ve(13,W8,2,0,"button",11)(14,K8,2,0,"ng-template",null,0,iS),A(16,"button",12),me("click",function(){return Ye(i),Ze(r.toggleCart())}),$(17," Show Cart "),N()()(),H(18,"app-cart"),N()(),A(19,"div",1)(20,"div",13)(21,"div",14)(22,"nav",15)(23,"button",16),H(24,"span",17),N(),A(25,"div",18)(26,"div",19),H(27,"button",20),N()()()()()()()}if(n&2){let i=QT(15);B(13),ye("ngIf",!r.Authenticated)("ngIfElse",i)}},dependencies:[Yp,Zp,Zs,bt,lr],encapsulation:2})};var Xp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Fe({type:t,selectors:[["app-footer"]],standalone:!0,features:[je],decls:34,vars:0,consts:[[1,"py-5"],[1,"container-fluid"],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-6"],[1,"footer-menu"],["src","images/logo.png","alt","logo",2,"margin-left","100px"],[1,"social-links","mt-5"],[1,"d-flex","list-unstyled","gap-2"],["href","#",1,"btn","btn-outline-light"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24"],["fill","currentColor","d","M15.12 5.32H17V2.14A26.11 26.11 0 0 0 14.26 2c-2.72 0-4.58 1.66-4.58 4.7v2.62H6.61v3.56h3.07V22h3.68v-9.12h3.06l.46-3.56h-3.52V7.05c0-1.05.28-1.73 1.76-1.73Z"],["fill","currentColor","d","M22.991 3.95a1 1 0 0 0-1.51-.86a7.48 7.48 0 0 1-1.874.794a5.152 5.152 0 0 0-3.374-1.242a5.232 5.232 0 0 0-5.223 5.063a11.032 11.032 0 0 1-6.814-3.924a1.012 1.012 0 0 0-.857-.365a.999.999 0 0 0-.785.5a5.276 5.276 0 0 0-.242 4.769l-.002.001a1.041 1.041 0 0 0-.496.89a3.042 3.042 0 0 0 .027.439a5.185 5.185 0 0 0 1.568 3.312a.998.998 0 0 0-.066.77a5.204 5.204 0 0 0 2.362 2.922a7.465 7.465 0 0 1-3.59.448A1 1 0 0 0 1.45 19.3a12.942 12.942 0 0 0 7.01 2.061a12.788 12.788 0 0 0 12.465-9.363a12.822 12.822 0 0 0 .535-3.646l-.001-.2a5.77 5.77 0 0 0 1.532-4.202Zm-3.306 3.212a.995.995 0 0 0-.234.702c.01.165.009.331.009.488a10.824 10.824 0 0 1-.454 3.08a10.685 10.685 0 0 1-10.546 7.93a10.938 10.938 0 0 1-2.55-.301a9.48 9.48 0 0 0 2.942-1.564a1 1 0 0 0-.602-1.786a3.208 3.208 0 0 1-2.214-.935q.224-.042.445-.105a1 1 0 0 0-.08-1.943a3.198 3.198 0 0 1-2.25-1.726a5.3 5.3 0 0 0 .545.046a1.02 1.02 0 0 0 .984-.696a1 1 0 0 0-.4-1.137a3.196 3.196 0 0 1-1.425-2.673c0-.066.002-.133.006-.198a13.014 13.014 0 0 0 8.21 3.48a1.02 1.02 0 0 0 .817-.36a1 1 0 0 0 .206-.867a3.157 3.157 0 0 1-.087-.729a3.23 3.23 0 0 1 3.226-3.226a3.184 3.184 0 0 1 2.345 1.02a.993.993 0 0 0 .921.298a9.27 9.27 0 0 0 1.212-.322a6.681 6.681 0 0 1-1.026 1.524Z"],["fill","currentColor","d","M23 9.71a8.5 8.5 0 0 0-.91-4.13a2.92 2.92 0 0 0-1.72-1A78.36 78.36 0 0 0 12 4.27a78.45 78.45 0 0 0-8.34.3a2.87 2.87 0 0 0-1.46.74c-.9.83-1 2.25-1.1 3.45a48.29 48.29 0 0 0 0 6.48a9.55 9.55 0 0 0 .3 2a3.14 3.14 0 0 0 .71 1.36a2.86 2.86 0 0 0 1.49.78a45.18 45.18 0 0 0 6.5.33c3.5.05 6.57 0 10.2-.28a2.88 2.88 0 0 0 1.53-.78a2.49 2.49 0 0 0 .61-1a10.58 10.58 0 0 0 .52-3.4c.04-.56.04-3.94.04-4.54ZM9.74 14.85V8.66l5.92 3.11c-1.66.92-3.85 1.96-5.92 3.08Z"],["fill","currentColor","d","M17.34 5.46a1.2 1.2 0 1 0 1.2 1.2a1.2 1.2 0 0 0-1.2-1.2Zm4.6 2.42a7.59 7.59 0 0 0-.46-2.43a4.94 4.94 0 0 0-1.16-1.77a4.7 4.7 0 0 0-1.77-1.15a7.3 7.3 0 0 0-2.43-.47C15.06 2 14.72 2 12 2s-3.06 0-4.12.06a7.3 7.3 0 0 0-2.43.47a4.78 4.78 0 0 0-1.77 1.15a4.7 4.7 0 0 0-1.15 1.77a7.3 7.3 0 0 0-.47 2.43C2 8.94 2 9.28 2 12s0 3.06.06 4.12a7.3 7.3 0 0 0 .47 2.43a4.7 4.7 0 0 0 1.15 1.77a4.78 4.78 0 0 0 1.77 1.15a7.3 7.3 0 0 0 2.43.47C8.94 22 9.28 22 12 22s3.06 0 4.12-.06a7.3 7.3 0 0 0 2.43-.47a4.7 4.7 0 0 0 1.77-1.15a4.85 4.85 0 0 0 1.16-1.77a7.59 7.59 0 0 0 .46-2.43c0-1.06.06-1.4.06-4.12s0-3.06-.06-4.12ZM20.14 16a5.61 5.61 0 0 1-.34 1.86a3.06 3.06 0 0 1-.75 1.15a3.19 3.19 0 0 1-1.15.75a5.61 5.61 0 0 1-1.86.34c-1 .05-1.37.06-4 .06s-3 0-4-.06a5.73 5.73 0 0 1-1.94-.3a3.27 3.27 0 0 1-1.1-.75a3 3 0 0 1-.74-1.15a5.54 5.54 0 0 1-.4-1.9c0-1-.06-1.37-.06-4s0-3 .06-4a5.54 5.54 0 0 1 .35-1.9A3 3 0 0 1 5 5a3.14 3.14 0 0 1 1.1-.8A5.73 5.73 0 0 1 8 3.86c1 0 1.37-.06 4-.06s3 0 4 .06a5.61 5.61 0 0 1 1.86.34a3.06 3.06 0 0 1 1.19.8a3.06 3.06 0 0 1 .75 1.1a5.61 5.61 0 0 1 .34 1.9c.05 1 .06 1.37.06 4s-.01 3-.06 4ZM12 6.87A5.13 5.13 0 1 0 17.14 12A5.12 5.12 0 0 0 12 6.87Zm0 8.46A3.33 3.33 0 1 1 15.33 12A3.33 3.33 0 0 1 12 15.33Z"],["fill","currentColor","d","M1.04 17.52q.1-.16.32-.02a21.308 21.308 0 0 0 10.88 2.9a21.524 21.524 0 0 0 7.74-1.46q.1-.04.29-.12t.27-.12a.356.356 0 0 1 .47.12q.17.24-.11.44q-.36.26-.92.6a14.99 14.99 0 0 1-3.84 1.58A16.175 16.175 0 0 1 12 22a16.017 16.017 0 0 1-5.9-1.09a16.246 16.246 0 0 1-4.98-3.07a.273.273 0 0 1-.12-.2a.215.215 0 0 1 .04-.12Zm6.02-5.7a4.036 4.036 0 0 1 .68-2.36A4.197 4.197 0 0 1 9.6 7.98a10.063 10.063 0 0 1 2.66-.66q.54-.06 1.76-.16v-.34a3.562 3.562 0 0 0-.28-1.72a1.5 1.5 0 0 0-1.32-.6h-.16a2.189 2.189 0 0 0-1.14.42a1.64 1.64 0 0 0-.62 1a.508.508 0 0 1-.4.46L7.8 6.1q-.34-.08-.34-.36a.587.587 0 0 1 .02-.14a3.834 3.834 0 0 1 1.67-2.64A6.268 6.268 0 0 1 12.26 2h.5a5.054 5.054 0 0 1 3.56 1.18a3.81 3.81 0 0 1 .37.43a3.875 3.875 0 0 1 .27.41a2.098 2.098 0 0 1 .18.52q.08.34.12.47a2.856 2.856 0 0 1 .06.56q.02.43.02.51v4.84a2.868 2.868 0 0 0 .15.95a2.475 2.475 0 0 0 .29.62q.14.19.46.61a.599.599 0 0 1 .12.32a.346.346 0 0 1-.16.28q-1.66 1.44-1.8 1.56a.557.557 0 0 1-.58.04q-.28-.24-.49-.46t-.3-.32a4.466 4.466 0 0 1-.29-.39q-.2-.29-.28-.39a4.91 4.91 0 0 1-2.2 1.52a6.038 6.038 0 0 1-1.68.2a3.505 3.505 0 0 1-2.53-.95a3.553 3.553 0 0 1-.99-2.69Zm3.44-.4a1.895 1.895 0 0 0 .39 1.25a1.294 1.294 0 0 0 1.05.47a1.022 1.022 0 0 0 .17-.02a1.022 1.022 0 0 1 .15-.02a2.033 2.033 0 0 0 1.3-1.08a3.13 3.13 0 0 0 .33-.83a3.8 3.8 0 0 0 .12-.73q.01-.28.01-.92v-.5a7.287 7.287 0 0 0-1.76.16a2.144 2.144 0 0 0-1.76 2.22Zm8.4 6.44a.626.626 0 0 1 .12-.16a3.14 3.14 0 0 1 .96-.46a6.52 6.52 0 0 1 1.48-.22a1.195 1.195 0 0 1 .38.02q.9.08 1.08.3a.655.655 0 0 1 .08.36v.14a4.56 4.56 0 0 1-.38 1.65a3.84 3.84 0 0 1-1.06 1.53a.302.302 0 0 1-.18.08a.177.177 0 0 1-.08-.02q-.12-.06-.06-.22a7.632 7.632 0 0 0 .74-2.42a.513.513 0 0 0-.08-.32q-.2-.24-1.12-.24q-.34 0-.8.04q-.5.06-.92.12a.232.232 0 0 1-.16-.04a.065.065 0 0 1-.02-.08a.153.153 0 0 1 .02-.06Z"],["id","footer-bottom"],[1,"col-md-6","copyright"]],template:function(n,r){n&1&&(A(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),H(5,"img",5),A(6,"div",6)(7,"ul",7)(8,"li")(9,"a",8),He(),A(10,"svg",9),H(11,"path",10),N()()(),yt(),A(12,"li")(13,"a",8),He(),A(14,"svg",9),H(15,"path",11),N()()(),yt(),A(16,"li")(17,"a",8),He(),A(18,"svg",9),H(19,"path",12),N()()(),yt(),A(20,"li")(21,"a",8),He(),A(22,"svg",9),H(23,"path",13),N()()(),yt(),A(24,"li")(25,"a",8),He(),A(26,"svg",9),H(27,"path",14),N()()()()()()()()()(),yt(),A(28,"div",15)(29,"div",1)(30,"div",2)(31,"div",16)(32,"p"),$(33,"\xA9 2025 SHOPFER. All rights reserved Ichrak & Farah & Raed 1233."),N()()()()())},encapsulation:2})};function Q8(t,e){t&1&&H(0,"app-header")}function Y8(t,e){t&1&&H(0,"app-footer")}var em=class t{constructor(e,n){this.router=e;this.as=n;this.router.events.subscribe(r=>{this.showNavbar=!(this.router.url.includes("/login")||this.router.url.includes("/sign-up"))})}title="shopfer";showNavbar=!0;ngOnInit(){this.as.user$.subscribe(e=>{e?this.as.currentUserSig.set({email:e.email||"",userName:e.userName||"Guest"}):this.as.currentUserSig.set(null)})}static \u0275fac=function(n){return new(n||t)(k(ft),k(nt))};static \u0275cmp=Fe({type:t,selectors:[["app-root"]],standalone:!0,features:[je],decls:13,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["xmlns","http://www.w3.org/2000/svg","id","cart","viewBox","0 0 24 24"],["fill","currentColor","d","M8.5 19a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 8.5 19ZM19 16H7a1 1 0 0 1 0-2h8.491a3.013 3.013 0 0 0 2.885-2.176l1.585-5.55A1 1 0 0 0 19 5H6.74a3.007 3.007 0 0 0-2.82-2H3a1 1 0 0 0 0 2h.921a1.005 1.005 0 0 1 .962.725l.155.545v.005l1.641 5.742A3 3 0 0 0 7 18h12a1 1 0 0 0 0-2Zm-1.326-9l-1.22 4.274a1.005 1.005 0 0 1-.963.726H8.754l-.255-.892L7.326 7ZM16.5 19a1.5 1.5 0 1 0 1.5 1.5a1.5 1.5 0 0 0-1.5-1.5Z"],["xmlns","http://www.w3.org/2000/svg","id","search","viewBox","0 0 24 24"],["fill","currentColor","d","M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z"],["xmlns","http://www.w3.org/2000/svg","id","user","viewBox","0 0 24 24"],["fill","currentColor","d","M15.71 12.71a6 6 0 1 0-7.42 0a10 10 0 0 0-6.22 8.18a1 1 0 0 0 2 .22a8 8 0 0 1 15.9 0a1 1 0 0 0 1 .89h.11a1 1 0 0 0 .88-1.1a10 10 0 0 0-6.25-8.19ZM12 12a4 4 0 1 1 4-4a4 4 0 0 1-4 4Z"],["xmlns","http://www.w3.org/2000/svg","id","close","viewBox","0 0 15 15"],["fill","currentColor","d","M7.953 3.788a.5.5 0 0 0-.906 0L6.08 5.85l-2.154.33a.5.5 0 0 0-.283.843l1.574 1.613l-.373 2.284a.5.5 0 0 0 .736.518l1.92-1.063l1.921 1.063a.5.5 0 0 0 .736-.519l-.373-2.283l1.574-1.613a.5.5 0 0 0-.283-.844L8.921 5.85l-.968-2.062Z"],[4,"ngIf"]],template:function(n,r){n&1&&(He(),A(0,"svg",0)(1,"defs")(2,"symbol",1),H(3,"path",2),N(),A(4,"symbol",3),H(5,"path",4),N(),A(6,"symbol",5),H(7,"path",6),N(),A(8,"symbol",7),H(9,"path",8),N()()(),Ve(10,Q8,1,0,"app-header",9),yt(),H(11,"router-outlet"),Ve(12,Y8,1,0,"app-footer",9)),n&2&&(B(10),ye("ngIf",r.showNavbar),B(2),ye("ngIf",r.showNavbar))},dependencies:[t_,Jp,Xp,bt,lr],encapsulation:2})};rA(em,yN).catch(t=>console.error(t));
